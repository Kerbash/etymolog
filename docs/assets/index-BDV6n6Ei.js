function Sk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ck=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function by(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Tk(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var hm={exports:{}},$c={},mm={exports:{}},ft={};var o_;function Nk(){if(o_)return ft;o_=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=m&&P[m]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function T(P,Y,re){this.props=P,this.context=Y,this.refs=b,this.updater=re||x}T.prototype.isReactComponent={},T.prototype.setState=function(P,Y){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Y,"setState")},T.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function S(){}S.prototype=T.prototype;function R(P,Y,re){this.props=P,this.context=Y,this.refs=b,this.updater=re||x}var k=R.prototype=new S;k.constructor=R,w(k,T.prototype),k.isPureReactComponent=!0;var A=Array.isArray,I=Object.prototype.hasOwnProperty,j={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function B(P,Y,re){var q,oe={},ie=null,ve=null;if(Y!=null)for(q in Y.ref!==void 0&&(ve=Y.ref),Y.key!==void 0&&(ie=""+Y.key),Y)I.call(Y,q)&&!O.hasOwnProperty(q)&&(oe[q]=Y[q]);var be=arguments.length-2;if(be===1)oe.children=re;else if(1<be){for(var ke=Array(be),Ee=0;Ee<be;Ee++)ke[Ee]=arguments[Ee+2];oe.children=ke}if(P&&P.defaultProps)for(q in be=P.defaultProps,be)oe[q]===void 0&&(oe[q]=be[q]);return{$$typeof:e,type:P,key:ie,ref:ve,props:oe,_owner:j.current}}function W(P,Y){return{$$typeof:e,type:P.type,key:Y,ref:P.ref,props:P.props,_owner:P._owner}}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function $(P){var Y={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(re){return Y[re]})}var Q=/\/+/g;function M(P,Y){return typeof P=="object"&&P!==null&&P.key!=null?$(""+P.key):Y.toString(36)}function G(P,Y,re,q,oe){var ie=typeof P;(ie==="undefined"||ie==="boolean")&&(P=null);var ve=!1;if(P===null)ve=!0;else switch(ie){case"string":case"number":ve=!0;break;case"object":switch(P.$$typeof){case e:case t:ve=!0}}if(ve)return ve=P,oe=oe(ve),P=q===""?"."+M(ve,0):q,A(oe)?(re="",P!=null&&(re=P.replace(Q,"$&/")+"/"),G(oe,Y,re,"",function(Ee){return Ee})):oe!=null&&(D(oe)&&(oe=W(oe,re+(!oe.key||ve&&ve.key===oe.key?"":(""+oe.key).replace(Q,"$&/")+"/")+P)),Y.push(oe)),1;if(ve=0,q=q===""?".":q+":",A(P))for(var be=0;be<P.length;be++){ie=P[be];var ke=q+M(ie,be);ve+=G(ie,Y,re,ke,oe)}else if(ke=v(P),typeof ke=="function")for(P=ke.call(P),be=0;!(ie=P.next()).done;)ie=ie.value,ke=q+M(ie,be++),ve+=G(ie,Y,re,ke,oe);else if(ie==="object")throw Y=String(P),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ve}function J(P,Y,re){if(P==null)return P;var q=[],oe=0;return G(P,q,"","",function(ie){return Y.call(re,ie,oe++)}),q}function X(P){if(P._status===-1){var Y=P._result;Y=Y(),Y.then(function(re){(P._status===0||P._status===-1)&&(P._status=1,P._result=re)},function(re){(P._status===0||P._status===-1)&&(P._status=2,P._result=re)}),P._status===-1&&(P._status=0,P._result=Y)}if(P._status===1)return P._result.default;throw P._result}var U={current:null},V={transition:null},H={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:j};return ft.Children={map:J,forEach:function(P,Y,re){J(P,function(){Y.apply(this,arguments)},re)},count:function(P){var Y=0;return J(P,function(){Y++}),Y},toArray:function(P){return J(P,function(Y){return Y})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ft.Component=T,ft.Fragment=n,ft.Profiler=i,ft.PureComponent=R,ft.StrictMode=r,ft.Suspense=u,ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,ft.cloneElement=function(P,Y,re){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var q=w({},P.props),oe=P.key,ie=P.ref,ve=P._owner;if(Y!=null){if(Y.ref!==void 0&&(ie=Y.ref,ve=j.current),Y.key!==void 0&&(oe=""+Y.key),P.type&&P.type.defaultProps)var be=P.type.defaultProps;for(ke in Y)I.call(Y,ke)&&!O.hasOwnProperty(ke)&&(q[ke]=Y[ke]===void 0&&be!==void 0?be[ke]:Y[ke])}var ke=arguments.length-2;if(ke===1)q.children=re;else if(1<ke){be=Array(ke);for(var Ee=0;Ee<ke;Ee++)be[Ee]=arguments[Ee+2];q.children=be}return{$$typeof:e,type:P.type,key:oe,ref:ie,props:q,_owner:ve}},ft.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:o,_context:P},P.Consumer=P},ft.createElement=B,ft.createFactory=function(P){var Y=B.bind(null,P);return Y.type=P,Y},ft.createRef=function(){return{current:null}},ft.forwardRef=function(P){return{$$typeof:c,render:P}},ft.isValidElement=D,ft.lazy=function(P){return{$$typeof:h,_payload:{_status:-1,_result:P},_init:X}},ft.memo=function(P,Y){return{$$typeof:d,type:P,compare:Y===void 0?null:Y}},ft.startTransition=function(P){var Y=V.transition;V.transition={};try{P()}finally{V.transition=Y}},ft.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ft.useCallback=function(P,Y){return U.current.useCallback(P,Y)},ft.useContext=function(P){return U.current.useContext(P)},ft.useDebugValue=function(){},ft.useDeferredValue=function(P){return U.current.useDeferredValue(P)},ft.useEffect=function(P,Y){return U.current.useEffect(P,Y)},ft.useId=function(){return U.current.useId()},ft.useImperativeHandle=function(P,Y,re){return U.current.useImperativeHandle(P,Y,re)},ft.useInsertionEffect=function(P,Y){return U.current.useInsertionEffect(P,Y)},ft.useLayoutEffect=function(P,Y){return U.current.useLayoutEffect(P,Y)},ft.useMemo=function(P,Y){return U.current.useMemo(P,Y)},ft.useReducer=function(P,Y,re){return U.current.useReducer(P,Y,re)},ft.useRef=function(P){return U.current.useRef(P)},ft.useState=function(P){return U.current.useState(P)},ft.useSyncExternalStore=function(P,Y,re){return U.current.useSyncExternalStore(P,Y,re)},ft.useTransition=function(){return U.current.useTransition()},ft.version="18.3.0",ft}var a_;function ip(){return a_||(a_=1,mm.exports=Nk()),mm.exports}var l_;function kk(){if(l_)return $c;l_=1;var e=ip(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,d){var h,m={},v=null,x=null;d!==void 0&&(v=""+d),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(x=u.ref);for(h in u)r.call(u,h)&&!o.hasOwnProperty(h)&&(m[h]=u[h]);if(c&&c.defaultProps)for(h in u=c.defaultProps,u)m[h]===void 0&&(m[h]=u[h]);return{$$typeof:t,type:c,key:v,ref:x,props:m,_owner:i.current}}return $c.Fragment=n,$c.jsx=l,$c.jsxs=l,$c}var c_;function Rk(){return c_||(c_=1,hm.exports=kk()),hm.exports}var f=Rk(),y=ip();const Oe=by(y),wu=Sk({__proto__:null,default:Oe},[y]);var ef={},gm={exports:{}},Pr={},ym={exports:{}},vm={};var u_;function Ak(){return u_||(u_=1,(function(e){function t(V,H){var P=V.length;V.push(H);e:for(;0<P;){var Y=P-1>>>1,re=V[Y];if(0<i(re,H))V[Y]=H,V[P]=re,P=Y;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var H=V[0],P=V.pop();if(P!==H){V[0]=P;e:for(var Y=0,re=V.length,q=re>>>1;Y<q;){var oe=2*(Y+1)-1,ie=V[oe],ve=oe+1,be=V[ve];if(0>i(ie,P))ve<re&&0>i(be,ie)?(V[Y]=be,V[ve]=P,Y=ve):(V[Y]=ie,V[oe]=P,Y=oe);else if(ve<re&&0>i(be,P))V[Y]=be,V[ve]=P,Y=ve;else break e}}return H}function i(V,H){var P=V.sortIndex-H.sortIndex;return P!==0?P:V.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var u=[],d=[],h=1,m=null,v=3,x=!1,w=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(V){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=V)r(d),H.sortIndex=H.expirationTime,t(u,H);else break;H=n(d)}}function A(V){if(b=!1,k(V),!w)if(n(u)!==null)w=!0,X(I);else{var H=n(d);H!==null&&U(A,H.startTime-V)}}function I(V,H){w=!1,b&&(b=!1,S(B),B=-1),x=!0;var P=v;try{for(k(H),m=n(u);m!==null&&(!(m.expirationTime>H)||V&&!$());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,v=m.priorityLevel;var re=Y(m.expirationTime<=H);H=e.unstable_now(),typeof re=="function"?m.callback=re:m===n(u)&&r(u),k(H)}else r(u);m=n(u)}if(m!==null)var q=!0;else{var oe=n(d);oe!==null&&U(A,oe.startTime-H),q=!1}return q}finally{m=null,v=P,x=!1}}var j=!1,O=null,B=-1,W=5,D=-1;function $(){return!(e.unstable_now()-D<W)}function Q(){if(O!==null){var V=e.unstable_now();D=V;var H=!0;try{H=O(!0,V)}finally{H?M():(j=!1,O=null)}}else j=!1}var M;if(typeof R=="function")M=function(){R(Q)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=Q,M=function(){J.postMessage(null)}}else M=function(){T(Q,0)};function X(V){O=V,j||(j=!0,M())}function U(V,H){B=T(function(){V(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,X(I))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(V){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var P=v;v=H;try{return V()}finally{v=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var P=v;v=V;try{return H()}finally{v=P}},e.unstable_scheduleCallback=function(V,H,P){var Y=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?Y+P:Y):P=Y,V){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=P+re,V={id:h++,callback:H,priorityLevel:V,startTime:P,expirationTime:re,sortIndex:-1},P>Y?(V.sortIndex=P,t(d,V),n(u)===null&&V===n(d)&&(b?(S(B),B=-1):b=!0,U(A,P-Y))):(V.sortIndex=re,t(u,V),w||x||(w=!0,X(I))),V},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(V){var H=v;return function(){var P=v;v=H;try{return V.apply(this,arguments)}finally{v=P}}}})(vm)),vm}var d_;function jk(){return d_||(d_=1,ym.exports=Ak()),ym.exports}var f_;function Ik(){if(f_)return Pr;f_=1;var e=ip(),t=jk();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)a+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function v(s){return u.call(m,s)?!0:u.call(h,s)?!1:d.test(s)?m[s]=!0:(h[s]=!0,!1)}function x(s,a,p,g){if(p!==null&&p.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,a,p,g){if(a===null||typeof a>"u"||x(s,a,p,g))return!0;if(g)return!1;if(p!==null)switch(p.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,p,g,E,N,F){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=E,this.mustUseProperty=p,this.propertyName=s,this.type=a,this.sanitizeURL=N,this.removeEmptyString=F}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){T[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];T[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){T[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){T[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){T[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){T[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){T[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){T[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){T[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function R(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(S,R);T[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(S,R);T[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(S,R);T[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){T[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),T.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){T[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function k(s,a,p,g){var E=T.hasOwnProperty(a)?T[a]:null;(E!==null?E.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,p,E,g)&&(p=null),g||E===null?v(a)&&(p===null?s.removeAttribute(a):s.setAttribute(a,""+p)):E.mustUseProperty?s[E.propertyName]=p===null?E.type===3?!1:"":p:(a=E.attributeName,g=E.attributeNamespace,p===null?s.removeAttribute(a):(E=E.type,p=E===3||E===4&&p===!0?"":""+p,g?s.setAttributeNS(g,a,p):s.setAttribute(a,p))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),j=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),$=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),V=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var P=Object.assign,Y;function re(s){if(Y===void 0)try{throw Error()}catch(p){var a=p.stack.trim().match(/\n( *(at )?)/);Y=a&&a[1]||""}return`
`+Y+s}var q=!1;function oe(s,a){if(!s||q)return"";q=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(he){var g=he}Reflect.construct(s,[],a)}else{try{a.call()}catch(he){g=he}s.call(a.prototype)}else{try{throw Error()}catch(he){g=he}s()}}catch(he){if(he&&g&&typeof he.stack=="string"){for(var E=he.stack.split(`
`),N=g.stack.split(`
`),F=E.length-1,K=N.length-1;1<=F&&0<=K&&E[F]!==N[K];)K--;for(;1<=F&&0<=K;F--,K--)if(E[F]!==N[K]){if(F!==1||K!==1)do if(F--,K--,0>K||E[F]!==N[K]){var te=`
`+E[F].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=F&&0<=K);break}}}finally{q=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?re(s):""}function ie(s){switch(s.tag){case 5:return re(s.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return s=oe(s.type,!1),s;case 11:return s=oe(s.type.render,!1),s;case 1:return s=oe(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case j:return"Portal";case W:return"Profiler";case B:return"StrictMode";case M:return"Suspense";case G:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case $:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case Q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case J:return a=s.displayName||null,a!==null?a:ve(s.type)||"Memo";case X:a=s._payload,s=s._init;try{return ve(s(a))}catch{}}return null}function be(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(a);case 8:return a===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ke(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ee(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Me(s){var a=Ee(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),g=""+s[a];if(!s.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,N=p.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return E.call(this)},set:function(F){g=""+F,N.call(this,F)}}),Object.defineProperty(s,a,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(F){g=""+F},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function me(s){s._valueTracker||(s._valueTracker=Me(s))}function ge(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var p=a.getValue(),g="";return s&&(g=Ee(s)?s.checked?"true":"false":s.value),s=g,s!==p?(a.setValue(s),!0):!1}function Le(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ae(s,a){var p=a.checked;return P({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function xe(s,a){var p=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;p=ke(a.value!=null?a.value:p),s._wrapperState={initialChecked:g,initialValue:p,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function de(s,a){a=a.checked,a!=null&&k(s,"checked",a,!1)}function Ae(s,a){de(s,a);var p=ke(a.value),g=a.type;if(p!=null)g==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?kt(s,a.type,p):a.hasOwnProperty("defaultValue")&&kt(s,a.type,ke(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Pe(s,a,p){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,p||a===s.value||(s.value=a),s.defaultValue=a}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function kt(s,a,p){(a!=="number"||Le(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var Ct=Array.isArray;function dt(s,a,p,g){if(s=s.options,a){a={};for(var E=0;E<p.length;E++)a["$"+p[E]]=!0;for(p=0;p<s.length;p++)E=a.hasOwnProperty("$"+s[p].value),s[p].selected!==E&&(s[p].selected=E),E&&g&&(s[p].defaultSelected=!0)}else{for(p=""+ke(p),a=null,E=0;E<s.length;E++){if(s[E].value===p){s[E].selected=!0,g&&(s[E].defaultSelected=!0);return}a!==null||s[E].disabled||(a=s[E])}a!==null&&(a.selected=!0)}}function $t(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return P({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Rt(s,a){var p=a.value;if(p==null){if(p=a.children,a=a.defaultValue,p!=null){if(a!=null)throw Error(n(92));if(Ct(p)){if(1<p.length)throw Error(n(93));p=p[0]}a=p}a==null&&(a=""),p=a}s._wrapperState={initialValue:ke(p)}}function cn(s,a){var p=ke(a.value),g=ke(a.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),a.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),g!=null&&(s.defaultValue=""+g)}function Wt(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function _n(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?_n(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var wn,ki=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,p,g,E){MSApp.execUnsafeLocalFunction(function(){return s(a,p,g,E)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(wn=wn||document.createElement("div"),wn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=wn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Gr(s,a){if(a){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=a;return}}s.textContent=a}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},po=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(s){po.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Hr[a]=Hr[s]})});function Ri(s,a,p){return a==null||typeof a=="boolean"||a===""?"":p||typeof a!="number"||a===0||Hr.hasOwnProperty(s)&&Hr[s]?(""+a).trim():a+"px"}function Je(s,a){s=s.style;for(var p in a)if(a.hasOwnProperty(p)){var g=p.indexOf("--")===0,E=Ri(p,a[p],g);p==="float"&&(p="cssFloat"),g?s.setProperty(p,E):s[p]=E}}var Jn=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wn(s,a){if(a){if(Jn[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function si(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=null;function ns(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var bn=null,Ln=null,Ai=null;function ji(s){if(s=Sc(s)){if(typeof bn!="function")throw Error(n(280));var a=s.stateNode;a&&(a=md(a),bn(s.stateNode,s.type,a))}}function je(s){Ln?Ai?Ai.push(s):Ai=[s]:Ln=s}function Qa(){if(Ln){var s=Ln,a=Ai;if(Ai=Ln=null,ji(s),a)for(s=0;s<a.length;s++)ji(a[s])}}function qt(s,a){return s(a)}function on(){}var Ds=!1;function Fs(s,a,p){if(Ds)return s(a,p);Ds=!0;try{return qt(s,a,p)}finally{Ds=!1,(Ln!==null||Ai!==null)&&(on(),Qa())}}function Yr(s,a){var p=s.stateNode;if(p===null)return null;var g=md(p);if(g===null)return null;p=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,a,typeof p));return p}var br=!1;if(c)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){br=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{br=!1}function On(s,a,p,g,E,N,F,K,te){var he=Array.prototype.slice.call(arguments,3);try{a.apply(p,he)}catch(Te){this.onError(Te)}}var En=!1,Sn=null,rs=!1,$s=null,is={onError:function(s){En=!0,Sn=s}};function mn(s,a,p,g,E,N,F,K,te){En=!1,Sn=null,On.apply(is,arguments)}function Er(s,a,p,g,E,N,F,K,te){if(mn.apply(this,arguments),En){if(En){var he=Sn;En=!1,Sn=null}else throw Error(n(198));rs||(rs=!0,$s=he)}}function oi(s){var a=s,p=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(p=a.return),s=a.return;while(s)}return a.tag===3?p:null}function Bs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function fa(s){if(oi(s)!==s)throw Error(n(188))}function ho(s){var a=s.alternate;if(!a){if(a=oi(s),a===null)throw Error(n(188));return a!==s?null:s}for(var p=s,g=a;;){var E=p.return;if(E===null)break;var N=E.alternate;if(N===null){if(g=E.return,g!==null){p=g;continue}break}if(E.child===N.child){for(N=E.child;N;){if(N===p)return fa(E),s;if(N===g)return fa(E),a;N=N.sibling}throw Error(n(188))}if(p.return!==g.return)p=E,g=N;else{for(var F=!1,K=E.child;K;){if(K===p){F=!0,p=E,g=N;break}if(K===g){F=!0,g=E,p=N;break}K=K.sibling}if(!F){for(K=N.child;K;){if(K===p){F=!0,p=N,g=E;break}if(K===g){F=!0,g=N,p=E;break}K=K.sibling}if(!F)throw Error(n(189))}}if(p.alternate!==g)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:a}function pa(s){return s=ho(s),s!==null?ze(s):null}function ze(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ze(s);if(a!==null)return a;s=s.sibling}return null}var ne=t.unstable_scheduleCallback,Se=t.unstable_cancelCallback,Fe=t.unstable_shouldYield,Tt=t.unstable_requestPaint,at=t.unstable_now,Gt=t.unstable_getCurrentPriorityLevel,Kt=t.unstable_ImmediatePriority,ur=t.unstable_UserBlockingPriority,er=t.unstable_NormalPriority,mo=t.unstable_LowPriority,It=t.unstable_IdlePriority,Pi=null,tr=null;function Zu(s){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Pi,s,void 0,(s.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:Pt,Op=Math.log,ss=Math.LN2;function Pt(s){return s>>>=0,s===0?32:31-(Op(s)/ss|0)|0}var ai=64,Vs=4194304;function os(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Us(s,a){var p=s.pendingLanes;if(p===0)return 0;var g=0,E=s.suspendedLanes,N=s.pingedLanes,F=p&268435455;if(F!==0){var K=F&~E;K!==0?g=os(K):(N&=F,N!==0&&(g=os(N)))}else F=p&~E,F!==0?g=os(F):N!==0&&(g=os(N));if(g===0)return 0;if(a!==0&&a!==g&&(a&E)===0&&(E=g&-g,N=a&-a,E>=N||E===16&&(N&4194240)!==0))return a;if((g&4)!==0&&(g|=p&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=g;0<a;)p=31-Sr(a),E=1<<p,g|=s[p],a&=~E;return g}function lc(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mp(s,a){for(var p=s.suspendedLanes,g=s.pingedLanes,E=s.expirationTimes,N=s.pendingLanes;0<N;){var F=31-Sr(N),K=1<<F,te=E[F];te===-1?((K&p)===0||(K&g)!==0)&&(E[F]=lc(K,a)):te<=a&&(s.expiredLanes|=K),N&=~K}}function cc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function go(){var s=ai;return ai<<=1,(ai&4194240)===0&&(ai=64),s}function Ja(s){for(var a=[],p=0;31>p;p++)a.push(s);return a}function ha(s,a,p){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Sr(a),s[a]=p}function uc(s,a){var p=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<p;){var E=31-Sr(p),N=1<<E;a[E]=0,g[E]=-1,s[E]=-1,p&=~N}}function el(s,a){var p=s.entangledLanes|=a;for(s=s.entanglements;p;){var g=31-Sr(p),E=1<<g;E&a|s[g]&a&&(s[g]|=a),p&=~E}}var yt=0;function tl(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Qu,yo,ma,as,nl,Xr=!1,qr=[],Cr=null,ls=null,Ve=null,zs=new Map,cs=new Map,Li=[],Ju="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vo(s,a){switch(s){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":Ve=null;break;case"pointerover":case"pointerout":zs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(a.pointerId)}}function Tr(s,a,p,g,E,N){return s===null||s.nativeEvent!==N?(s={blockedOn:a,domEventName:p,eventSystemFlags:g,nativeEvent:N,targetContainers:[E]},a!==null&&(a=Sc(a),a!==null&&yo(a)),s):(s.eventSystemFlags|=g,a=s.targetContainers,E!==null&&a.indexOf(E)===-1&&a.push(E),s)}function ga(s,a,p,g,E){switch(a){case"focusin":return Cr=Tr(Cr,s,a,p,g,E),!0;case"dragenter":return ls=Tr(ls,s,a,p,g,E),!0;case"mouseover":return Ve=Tr(Ve,s,a,p,g,E),!0;case"pointerover":var N=E.pointerId;return zs.set(N,Tr(zs.get(N)||null,s,a,p,g,E)),!0;case"gotpointercapture":return N=E.pointerId,cs.set(N,Tr(cs.get(N)||null,s,a,p,g,E)),!0}return!1}function rl(s){var a=xa(s.target);if(a!==null){var p=oi(a);if(p!==null){if(a=p.tag,a===13){if(a=Bs(p),a!==null){s.blockedOn=a,nl(s.priority,function(){ma(p)});return}}else if(a===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var p=Mn(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var g=new p.constructor(p.type,p);un=g,p.target.dispatchEvent(g),un=null}else return a=Sc(p),a!==null&&yo(a),s.blockedOn=p,!1;a.shift()}return!0}function C(s,a,p){_(s)&&p.delete(a)}function L(){Xr=!1,Cr!==null&&_(Cr)&&(Cr=null),ls!==null&&_(ls)&&(ls=null),Ve!==null&&_(Ve)&&(Ve=null),zs.forEach(C),cs.forEach(C)}function z(s,a){s.blockedOn===a&&(s.blockedOn=null,Xr||(Xr=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,L)))}function ee(s){function a(E){return z(E,s)}if(0<qr.length){z(qr[0],s);for(var p=1;p<qr.length;p++){var g=qr[p];g.blockedOn===s&&(g.blockedOn=null)}}for(Cr!==null&&z(Cr,s),ls!==null&&z(ls,s),Ve!==null&&z(Ve,s),zs.forEach(a),cs.forEach(a),p=0;p<Li.length;p++)g=Li[p],g.blockedOn===s&&(g.blockedOn=null);for(;0<Li.length&&(p=Li[0],p.blockedOn===null);)rl(p),p.blockedOn===null&&Li.shift()}var ce=A.ReactCurrentBatchConfig,ye=!0;function Ye(s,a,p,g){var E=yt,N=ce.transition;ce.transition=null;try{yt=1,st(s,a,p,g)}finally{yt=E,ce.transition=N}}function lt(s,a,p,g){var E=yt,N=ce.transition;ce.transition=null;try{yt=4,st(s,a,p,g)}finally{yt=E,ce.transition=N}}function st(s,a,p,g){if(ye){var E=Mn(s,a,p,g);if(E===null)ih(s,a,g,Lt,p),vo(s,g);else if(ga(E,s,a,p,g))g.stopPropagation();else if(vo(s,g),a&4&&-1<Ju.indexOf(s)){for(;E!==null;){var N=Sc(E);if(N!==null&&Qu(N),N=Mn(s,a,p,g),N===null&&ih(s,a,g,Lt,p),N===E)break;E=N}E!==null&&g.stopPropagation()}else ih(s,a,g,null,p)}}var Lt=null;function Mn(s,a,p,g){if(Lt=null,s=ns(g),s=xa(s),s!==null)if(a=oi(s),a===null)s=null;else if(p=a.tag,p===13){if(s=Bs(a),s!==null)return s;s=null}else if(p===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Lt=s,null}function dc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gt()){case Kt:return 1;case ur:return 4;case er:case mo:return 16;case It:return 536870912;default:return 16}default:return 16}}var us=null,il=null,sl=null;function fc(){if(sl)return sl;var s,a=il,p=a.length,g,E="value"in us?us.value:us.textContent,N=E.length;for(s=0;s<p&&a[s]===E[s];s++);var F=p-s;for(g=1;g<=F&&a[p-g]===E[N-g];g++);return sl=E.slice(s,1<g?1-g:void 0)}function ol(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function al(){return!0}function ed(){return!1}function dr(s){function a(p,g,E,N,F){this._reactName=p,this._targetInst=E,this.type=g,this.nativeEvent=N,this.target=F,this.currentTarget=null;for(var K in s)s.hasOwnProperty(K)&&(p=s[K],this[K]=p?p(N):N[K]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?al:ed,this.isPropagationStopped=ed,this}return P(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),a}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=dr(xo),ya=P({},xo,{view:0,detail:0}),Dp=dr(ya),ll,hc,va,cl=P({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_o,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==va&&(va&&s.type==="mousemove"?(ll=s.screenX-va.screenX,hc=s.screenY-va.screenY):hc=ll=0,va=s),ll)},movementY:function(s){return"movementY"in s?s.movementY:hc}}),td=dr(cl),Fp=P({},cl,{dataTransfer:0}),$p=dr(Fp),Bp=P({},ya,{relatedTarget:0}),ul=dr(Bp),Vp=P({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),Up=dr(Vp),zp=P({},xo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wp=dr(zp),Gp=P({},xo,{data:0}),nd=dr(Gp),rd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xp(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Yp[s])?!!a[s]:!1}function _o(){return Xp}var id=P({},ya,{key:function(s){if(s.key){var a=rd[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ol(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_o,charCode:function(s){return s.type==="keypress"?ol(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ol(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),sd=dr(id),od=P({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),le=dr(od),_e=P({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_o}),We=dr(_e),Ke=P({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),it=dr(Ke),Et=P({},cl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Kr=dr(Et),Nr=[9,13,27,32],Gn=c&&"CompositionEvent"in window,Hn=null;c&&"documentMode"in document&&(Hn=document.documentMode);var mc=c&&"TextEvent"in window&&!Hn,ds=c&&(!Gn||Hn&&8<Hn&&11>=Hn),ad=" ",e0=!1;function t0(s,a){switch(s){case"keyup":return Nr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var dl=!1;function wN(s,a){switch(s){case"compositionend":return n0(a);case"keypress":return a.which!==32?null:(e0=!0,ad);case"textInput":return s=a.data,s===ad&&e0?null:s;default:return null}}function bN(s,a){if(dl)return s==="compositionend"||!Gn&&t0(s,a)?(s=fc(),sl=il=us=null,dl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ds&&a.locale!=="ko"?null:a.data;default:return null}}var EN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!EN[s.type]:a==="textarea"}function i0(s,a,p,g){je(g),a=fd(a,"onChange"),0<a.length&&(p=new pc("onChange","change",null,p,g),s.push({event:p,listeners:a}))}var gc=null,yc=null;function SN(s){b0(s,0)}function ld(s){var a=gl(s);if(ge(a))return s}function CN(s,a){if(s==="change")return a}var s0=!1;if(c){var qp;if(c){var Kp="oninput"in document;if(!Kp){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),Kp=typeof o0.oninput=="function"}qp=Kp}else qp=!1;s0=qp&&(!document.documentMode||9<document.documentMode)}function a0(){gc&&(gc.detachEvent("onpropertychange",l0),yc=gc=null)}function l0(s){if(s.propertyName==="value"&&ld(yc)){var a=[];i0(a,yc,s,ns(s)),Fs(SN,a)}}function TN(s,a,p){s==="focusin"?(a0(),gc=a,yc=p,gc.attachEvent("onpropertychange",l0)):s==="focusout"&&a0()}function NN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ld(yc)}function kN(s,a){if(s==="click")return ld(a)}function RN(s,a){if(s==="input"||s==="change")return ld(a)}function AN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Oi=typeof Object.is=="function"?Object.is:AN;function vc(s,a){if(Oi(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var p=Object.keys(s),g=Object.keys(a);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var E=p[g];if(!u.call(a,E)||!Oi(s[E],a[E]))return!1}return!0}function c0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function u0(s,a){var p=c0(s);s=0;for(var g;p;){if(p.nodeType===3){if(g=s+p.textContent.length,s<=a&&g>=a)return{node:p,offset:a-s};s=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=c0(p)}}function d0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?d0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function f0(){for(var s=window,a=Le();a instanceof s.HTMLIFrameElement;){try{var p=typeof a.contentWindow.location.href=="string"}catch{p=!1}if(p)s=a.contentWindow;else break;a=Le(s.document)}return a}function Zp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function jN(s){var a=f0(),p=s.focusedElem,g=s.selectionRange;if(a!==p&&p&&p.ownerDocument&&d0(p.ownerDocument.documentElement,p)){if(g!==null&&Zp(p)){if(a=g.start,s=g.end,s===void 0&&(s=a),"selectionStart"in p)p.selectionStart=a,p.selectionEnd=Math.min(s,p.value.length);else if(s=(a=p.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var E=p.textContent.length,N=Math.min(g.start,E);g=g.end===void 0?N:Math.min(g.end,E),!s.extend&&N>g&&(E=g,g=N,N=E),E=u0(p,N);var F=u0(p,g);E&&F&&(s.rangeCount!==1||s.anchorNode!==E.node||s.anchorOffset!==E.offset||s.focusNode!==F.node||s.focusOffset!==F.offset)&&(a=a.createRange(),a.setStart(E.node,E.offset),s.removeAllRanges(),N>g?(s.addRange(a),s.extend(F.node,F.offset)):(a.setEnd(F.node,F.offset),s.addRange(a)))}}for(a=[],s=p;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<a.length;p++)s=a[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var IN=c&&"documentMode"in document&&11>=document.documentMode,fl=null,Qp=null,xc=null,Jp=!1;function p0(s,a,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Jp||fl==null||fl!==Le(g)||(g=fl,"selectionStart"in g&&Zp(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),xc&&vc(xc,g)||(xc=g,g=fd(Qp,"onSelect"),0<g.length&&(a=new pc("onSelect","select",null,a,p),s.push({event:a,listeners:g}),a.target=fl)))}function cd(s,a){var p={};return p[s.toLowerCase()]=a.toLowerCase(),p["Webkit"+s]="webkit"+a,p["Moz"+s]="moz"+a,p}var pl={animationend:cd("Animation","AnimationEnd"),animationiteration:cd("Animation","AnimationIteration"),animationstart:cd("Animation","AnimationStart"),transitionend:cd("Transition","TransitionEnd")},eh={},h0={};c&&(h0=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function ud(s){if(eh[s])return eh[s];if(!pl[s])return s;var a=pl[s],p;for(p in a)if(a.hasOwnProperty(p)&&p in h0)return eh[s]=a[p];return s}var m0=ud("animationend"),g0=ud("animationiteration"),y0=ud("animationstart"),v0=ud("transitionend"),x0=new Map,_0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(s,a){x0.set(s,a),o(a,[s])}for(var th=0;th<_0.length;th++){var nh=_0[th],PN=nh.toLowerCase(),LN=nh[0].toUpperCase()+nh.slice(1);wo(PN,"on"+LN)}wo(m0,"onAnimationEnd"),wo(g0,"onAnimationIteration"),wo(y0,"onAnimationStart"),wo("dblclick","onDoubleClick"),wo("focusin","onFocus"),wo("focusout","onBlur"),wo(v0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ON=new Set("cancel close invalid load scroll toggle".split(" ").concat(_c));function w0(s,a,p){var g=s.type||"unknown-event";s.currentTarget=p,Er(g,a,void 0,s),s.currentTarget=null}function b0(s,a){a=(a&4)!==0;for(var p=0;p<s.length;p++){var g=s[p],E=g.event;g=g.listeners;e:{var N=void 0;if(a)for(var F=g.length-1;0<=F;F--){var K=g[F],te=K.instance,he=K.currentTarget;if(K=K.listener,te!==N&&E.isPropagationStopped())break e;w0(E,K,he),N=te}else for(F=0;F<g.length;F++){if(K=g[F],te=K.instance,he=K.currentTarget,K=K.listener,te!==N&&E.isPropagationStopped())break e;w0(E,K,he),N=te}}}if(rs)throw s=$s,rs=!1,$s=null,s}function Ht(s,a){var p=a[uh];p===void 0&&(p=a[uh]=new Set);var g=s+"__bubble";p.has(g)||(E0(a,s,2,!1),p.add(g))}function rh(s,a,p){var g=0;a&&(g|=4),E0(p,s,g,a)}var dd="_reactListening"+Math.random().toString(36).slice(2);function wc(s){if(!s[dd]){s[dd]=!0,r.forEach(function(p){p!=="selectionchange"&&(ON.has(p)||rh(p,!1,s),rh(p,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[dd]||(a[dd]=!0,rh("selectionchange",!1,a))}}function E0(s,a,p,g){switch(dc(a)){case 1:var E=Ye;break;case 4:E=lt;break;default:E=st}p=E.bind(null,a,p,s),E=void 0,!br||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(E=!0),g?E!==void 0?s.addEventListener(a,p,{capture:!0,passive:E}):s.addEventListener(a,p,!0):E!==void 0?s.addEventListener(a,p,{passive:E}):s.addEventListener(a,p,!1)}function ih(s,a,p,g,E){var N=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var F=g.tag;if(F===3||F===4){var K=g.stateNode.containerInfo;if(K===E||K.nodeType===8&&K.parentNode===E)break;if(F===4)for(F=g.return;F!==null;){var te=F.tag;if((te===3||te===4)&&(te=F.stateNode.containerInfo,te===E||te.nodeType===8&&te.parentNode===E))return;F=F.return}for(;K!==null;){if(F=xa(K),F===null)return;if(te=F.tag,te===5||te===6){g=N=F;continue e}K=K.parentNode}}g=g.return}Fs(function(){var he=N,Te=ns(p),Ne=[];e:{var Ce=x0.get(s);if(Ce!==void 0){var De=pc,Ue=s;switch(s){case"keypress":if(ol(p)===0)break e;case"keydown":case"keyup":De=sd;break;case"focusin":Ue="focus",De=ul;break;case"focusout":Ue="blur",De=ul;break;case"beforeblur":case"afterblur":De=ul;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=$p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=We;break;case m0:case g0:case y0:De=Up;break;case v0:De=it;break;case"scroll":De=Dp;break;case"wheel":De=Kr;break;case"copy":case"cut":case"paste":De=Wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=le}var Ge=(a&4)!==0,dn=!Ge&&s==="scroll",ue=Ge?Ce!==null?Ce+"Capture":null:Ce;Ge=[];for(var se=he,fe;se!==null;){fe=se;var Re=fe.stateNode;if(fe.tag===5&&Re!==null&&(fe=Re,ue!==null&&(Re=Yr(se,ue),Re!=null&&Ge.push(bc(se,Re,fe)))),dn)break;se=se.return}0<Ge.length&&(Ce=new De(Ce,Ue,null,p,Te),Ne.push({event:Ce,listeners:Ge}))}}if((a&7)===0){e:{if(Ce=s==="mouseover"||s==="pointerover",De=s==="mouseout"||s==="pointerout",Ce&&p!==un&&(Ue=p.relatedTarget||p.fromElement)&&(xa(Ue)||Ue[Ws]))break e;if((De||Ce)&&(Ce=Te.window===Te?Te:(Ce=Te.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,De?(Ue=p.relatedTarget||p.toElement,De=he,Ue=Ue?xa(Ue):null,Ue!==null&&(dn=oi(Ue),Ue!==dn||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(De=null,Ue=he),De!==Ue)){if(Ge=td,Re="onMouseLeave",ue="onMouseEnter",se="mouse",(s==="pointerout"||s==="pointerover")&&(Ge=le,Re="onPointerLeave",ue="onPointerEnter",se="pointer"),dn=De==null?Ce:gl(De),fe=Ue==null?Ce:gl(Ue),Ce=new Ge(Re,se+"leave",De,p,Te),Ce.target=dn,Ce.relatedTarget=fe,Re=null,xa(Te)===he&&(Ge=new Ge(ue,se+"enter",Ue,p,Te),Ge.target=fe,Ge.relatedTarget=dn,Re=Ge),dn=Re,De&&Ue)t:{for(Ge=De,ue=Ue,se=0,fe=Ge;fe;fe=hl(fe))se++;for(fe=0,Re=ue;Re;Re=hl(Re))fe++;for(;0<se-fe;)Ge=hl(Ge),se--;for(;0<fe-se;)ue=hl(ue),fe--;for(;se--;){if(Ge===ue||ue!==null&&Ge===ue.alternate)break t;Ge=hl(Ge),ue=hl(ue)}Ge=null}else Ge=null;De!==null&&S0(Ne,Ce,De,Ge,!1),Ue!==null&&dn!==null&&S0(Ne,dn,Ue,Ge,!0)}}e:{if(Ce=he?gl(he):window,De=Ce.nodeName&&Ce.nodeName.toLowerCase(),De==="select"||De==="input"&&Ce.type==="file")var He=CN;else if(r0(Ce))if(s0)He=RN;else{He=NN;var Ze=TN}else(De=Ce.nodeName)&&De.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(He=kN);if(He&&(He=He(s,he))){i0(Ne,He,p,Te);break e}Ze&&Ze(s,Ce,he),s==="focusout"&&(Ze=Ce._wrapperState)&&Ze.controlled&&Ce.type==="number"&&kt(Ce,"number",Ce.value)}switch(Ze=he?gl(he):window,s){case"focusin":(r0(Ze)||Ze.contentEditable==="true")&&(fl=Ze,Qp=he,xc=null);break;case"focusout":xc=Qp=fl=null;break;case"mousedown":Jp=!0;break;case"contextmenu":case"mouseup":case"dragend":Jp=!1,p0(Ne,p,Te);break;case"selectionchange":if(IN)break;case"keydown":case"keyup":p0(Ne,p,Te)}var Qe;if(Gn)e:{switch(s){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else dl?t0(s,p)&&(nt="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(nt="onCompositionStart");nt&&(ds&&p.locale!=="ko"&&(dl||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&dl&&(Qe=fc()):(us=Te,il="value"in us?us.value:us.textContent,dl=!0)),Ze=fd(he,nt),0<Ze.length&&(nt=new nd(nt,s,null,p,Te),Ne.push({event:nt,listeners:Ze}),Qe?nt.data=Qe:(Qe=n0(p),Qe!==null&&(nt.data=Qe)))),(Qe=mc?wN(s,p):bN(s,p))&&(he=fd(he,"onBeforeInput"),0<he.length&&(Te=new nd("onBeforeInput","beforeinput",null,p,Te),Ne.push({event:Te,listeners:he}),Te.data=Qe))}b0(Ne,a)})}function bc(s,a,p){return{instance:s,listener:a,currentTarget:p}}function fd(s,a){for(var p=a+"Capture",g=[];s!==null;){var E=s,N=E.stateNode;E.tag===5&&N!==null&&(E=N,N=Yr(s,p),N!=null&&g.unshift(bc(s,N,E)),N=Yr(s,a),N!=null&&g.push(bc(s,N,E))),s=s.return}return g}function hl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function S0(s,a,p,g,E){for(var N=a._reactName,F=[];p!==null&&p!==g;){var K=p,te=K.alternate,he=K.stateNode;if(te!==null&&te===g)break;K.tag===5&&he!==null&&(K=he,E?(te=Yr(p,N),te!=null&&F.unshift(bc(p,te,K))):E||(te=Yr(p,N),te!=null&&F.push(bc(p,te,K)))),p=p.return}F.length!==0&&s.push({event:a,listeners:F})}var MN=/\r\n?/g,DN=/\u0000|\uFFFD/g;function C0(s){return(typeof s=="string"?s:""+s).replace(MN,`
`).replace(DN,"")}function pd(s,a,p){if(a=C0(a),C0(s)!==a&&p)throw Error(n(425))}function hd(){}var sh=null,oh=null;function ah(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,FN=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,$N=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(s){return T0.resolve(null).then(s).catch(BN)}:lh;function BN(s){setTimeout(function(){throw s})}function ch(s,a){var p=a,g=0;do{var E=p.nextSibling;if(s.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"){if(g===0){s.removeChild(E),ee(a);return}g--}else p!=="$"&&p!=="$?"&&p!=="$!"||g++;p=E}while(p);ee(a)}function bo(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function N0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(a===0)return s;a--}else p==="/$"&&a++}s=s.previousSibling}return null}var ml=Math.random().toString(36).slice(2),fs="__reactFiber$"+ml,Ec="__reactProps$"+ml,Ws="__reactContainer$"+ml,uh="__reactEvents$"+ml,VN="__reactListeners$"+ml,UN="__reactHandles$"+ml;function xa(s){var a=s[fs];if(a)return a;for(var p=s.parentNode;p;){if(a=p[Ws]||p[fs]){if(p=a.alternate,a.child!==null||p!==null&&p.child!==null)for(s=N0(s);s!==null;){if(p=s[fs])return p;s=N0(s)}return a}s=p,p=s.parentNode}return null}function Sc(s){return s=s[fs]||s[Ws],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function gl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function md(s){return s[Ec]||null}var dh=[],yl=-1;function Eo(s){return{current:s}}function Yt(s){0>yl||(s.current=dh[yl],dh[yl]=null,yl--)}function Bt(s,a){yl++,dh[yl]=s.current,s.current=a}var So={},nr=Eo(So),kr=Eo(!1),_a=So;function vl(s,a){var p=s.type.contextTypes;if(!p)return So;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var E={},N;for(N in p)E[N]=a[N];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=E),E}function Rr(s){return s=s.childContextTypes,s!=null}function gd(){Yt(kr),Yt(nr)}function k0(s,a,p){if(nr.current!==So)throw Error(n(168));Bt(nr,a),Bt(kr,p)}function R0(s,a,p){var g=s.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return p;g=g.getChildContext();for(var E in g)if(!(E in a))throw Error(n(108,be(s)||"Unknown",E));return P({},p,g)}function yd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||So,_a=nr.current,Bt(nr,s),Bt(kr,kr.current),!0}function A0(s,a,p){var g=s.stateNode;if(!g)throw Error(n(169));p?(s=R0(s,a,_a),g.__reactInternalMemoizedMergedChildContext=s,Yt(kr),Yt(nr),Bt(nr,s)):Yt(kr),Bt(kr,p)}var Gs=null,vd=!1,fh=!1;function j0(s){Gs===null?Gs=[s]:Gs.push(s)}function zN(s){vd=!0,j0(s)}function Co(){if(!fh&&Gs!==null){fh=!0;var s=0,a=yt;try{var p=Gs;for(yt=1;s<p.length;s++){var g=p[s];do g=g(!0);while(g!==null)}Gs=null,vd=!1}catch(E){throw Gs!==null&&(Gs=Gs.slice(s+1)),ne(Kt,Co),E}finally{yt=a,fh=!1}}return null}var xl=[],_l=0,xd=null,_d=0,li=[],ci=0,wa=null,Hs=1,Ys="";function ba(s,a){xl[_l++]=_d,xl[_l++]=xd,xd=s,_d=a}function I0(s,a,p){li[ci++]=Hs,li[ci++]=Ys,li[ci++]=wa,wa=s;var g=Hs;s=Ys;var E=32-Sr(g)-1;g&=~(1<<E),p+=1;var N=32-Sr(a)+E;if(30<N){var F=E-E%5;N=(g&(1<<F)-1).toString(32),g>>=F,E-=F,Hs=1<<32-Sr(a)+E|p<<E|g,Ys=N+s}else Hs=1<<N|p<<E|g,Ys=s}function ph(s){s.return!==null&&(ba(s,1),I0(s,1,0))}function hh(s){for(;s===xd;)xd=xl[--_l],xl[_l]=null,_d=xl[--_l],xl[_l]=null;for(;s===wa;)wa=li[--ci],li[ci]=null,Ys=li[--ci],li[ci]=null,Hs=li[--ci],li[ci]=null}var Zr=null,Qr=null,Zt=!1,Mi=null;function P0(s,a){var p=pi(5,null,null,0);p.elementType="DELETED",p.stateNode=a,p.return=s,a=s.deletions,a===null?(s.deletions=[p],s.flags|=16):a.push(p)}function L0(s,a){switch(s.tag){case 5:var p=s.type;return a=a.nodeType!==1||p.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Zr=s,Qr=bo(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Zr=s,Qr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(p=wa!==null?{id:Hs,overflow:Ys}:null,s.memoizedState={dehydrated:a,treeContext:p,retryLane:1073741824},p=pi(18,null,null,0),p.stateNode=a,p.return=s,s.child=p,Zr=s,Qr=null,!0):!1;default:return!1}}function mh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function gh(s){if(Zt){var a=Qr;if(a){var p=a;if(!L0(s,a)){if(mh(s))throw Error(n(418));a=bo(p.nextSibling);var g=Zr;a&&L0(s,a)?P0(g,p):(s.flags=s.flags&-4097|2,Zt=!1,Zr=s)}}else{if(mh(s))throw Error(n(418));s.flags=s.flags&-4097|2,Zt=!1,Zr=s}}}function O0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Zr=s}function wd(s){if(s!==Zr)return!1;if(!Zt)return O0(s),Zt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!ah(s.type,s.memoizedProps)),a&&(a=Qr)){if(mh(s))throw M0(),Error(n(418));for(;a;)P0(s,a),a=bo(a.nextSibling)}if(O0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(a===0){Qr=bo(s.nextSibling);break e}a--}else p!=="$"&&p!=="$!"&&p!=="$?"||a++}s=s.nextSibling}Qr=null}}else Qr=Zr?bo(s.stateNode.nextSibling):null;return!0}function M0(){for(var s=Qr;s;)s=bo(s.nextSibling)}function wl(){Qr=Zr=null,Zt=!1}function yh(s){Mi===null?Mi=[s]:Mi.push(s)}var WN=A.ReactCurrentBatchConfig;function Cc(s,a,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var g=p.stateNode}if(!g)throw Error(n(147,s));var E=g,N=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===N?a.ref:(a=function(F){var K=E.refs;F===null?delete K[N]:K[N]=F},a._stringRef=N,a)}if(typeof s!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,s))}return s}function bd(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function D0(s){var a=s._init;return a(s._payload)}function F0(s){function a(ue,se){if(s){var fe=ue.deletions;fe===null?(ue.deletions=[se],ue.flags|=16):fe.push(se)}}function p(ue,se){if(!s)return null;for(;se!==null;)a(ue,se),se=se.sibling;return null}function g(ue,se){for(ue=new Map;se!==null;)se.key!==null?ue.set(se.key,se):ue.set(se.index,se),se=se.sibling;return ue}function E(ue,se){return ue=Po(ue,se),ue.index=0,ue.sibling=null,ue}function N(ue,se,fe){return ue.index=fe,s?(fe=ue.alternate,fe!==null?(fe=fe.index,fe<se?(ue.flags|=2,se):fe):(ue.flags|=2,se)):(ue.flags|=1048576,se)}function F(ue){return s&&ue.alternate===null&&(ue.flags|=2),ue}function K(ue,se,fe,Re){return se===null||se.tag!==6?(se=lm(fe,ue.mode,Re),se.return=ue,se):(se=E(se,fe),se.return=ue,se)}function te(ue,se,fe,Re){var He=fe.type;return He===O?Te(ue,se,fe.props.children,Re,fe.key):se!==null&&(se.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===X&&D0(He)===se.type)?(Re=E(se,fe.props),Re.ref=Cc(ue,se,fe),Re.return=ue,Re):(Re=Hd(fe.type,fe.key,fe.props,null,ue.mode,Re),Re.ref=Cc(ue,se,fe),Re.return=ue,Re)}function he(ue,se,fe,Re){return se===null||se.tag!==4||se.stateNode.containerInfo!==fe.containerInfo||se.stateNode.implementation!==fe.implementation?(se=cm(fe,ue.mode,Re),se.return=ue,se):(se=E(se,fe.children||[]),se.return=ue,se)}function Te(ue,se,fe,Re,He){return se===null||se.tag!==7?(se=Aa(fe,ue.mode,Re,He),se.return=ue,se):(se=E(se,fe),se.return=ue,se)}function Ne(ue,se,fe){if(typeof se=="string"&&se!==""||typeof se=="number")return se=lm(""+se,ue.mode,fe),se.return=ue,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case I:return fe=Hd(se.type,se.key,se.props,null,ue.mode,fe),fe.ref=Cc(ue,null,se),fe.return=ue,fe;case j:return se=cm(se,ue.mode,fe),se.return=ue,se;case X:var Re=se._init;return Ne(ue,Re(se._payload),fe)}if(Ct(se)||H(se))return se=Aa(se,ue.mode,fe,null),se.return=ue,se;bd(ue,se)}return null}function Ce(ue,se,fe,Re){var He=se!==null?se.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return He!==null?null:K(ue,se,""+fe,Re);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case I:return fe.key===He?te(ue,se,fe,Re):null;case j:return fe.key===He?he(ue,se,fe,Re):null;case X:return He=fe._init,Ce(ue,se,He(fe._payload),Re)}if(Ct(fe)||H(fe))return He!==null?null:Te(ue,se,fe,Re,null);bd(ue,fe)}return null}function De(ue,se,fe,Re,He){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return ue=ue.get(fe)||null,K(se,ue,""+Re,He);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case I:return ue=ue.get(Re.key===null?fe:Re.key)||null,te(se,ue,Re,He);case j:return ue=ue.get(Re.key===null?fe:Re.key)||null,he(se,ue,Re,He);case X:var Ze=Re._init;return De(ue,se,fe,Ze(Re._payload),He)}if(Ct(Re)||H(Re))return ue=ue.get(fe)||null,Te(se,ue,Re,He,null);bd(se,Re)}return null}function Ue(ue,se,fe,Re){for(var He=null,Ze=null,Qe=se,nt=se=0,$n=null;Qe!==null&&nt<fe.length;nt++){Qe.index>nt?($n=Qe,Qe=null):$n=Qe.sibling;var wt=Ce(ue,Qe,fe[nt],Re);if(wt===null){Qe===null&&(Qe=$n);break}s&&Qe&&wt.alternate===null&&a(ue,Qe),se=N(wt,se,nt),Ze===null?He=wt:Ze.sibling=wt,Ze=wt,Qe=$n}if(nt===fe.length)return p(ue,Qe),Zt&&ba(ue,nt),He;if(Qe===null){for(;nt<fe.length;nt++)Qe=Ne(ue,fe[nt],Re),Qe!==null&&(se=N(Qe,se,nt),Ze===null?He=Qe:Ze.sibling=Qe,Ze=Qe);return Zt&&ba(ue,nt),He}for(Qe=g(ue,Qe);nt<fe.length;nt++)$n=De(Qe,ue,nt,fe[nt],Re),$n!==null&&(s&&$n.alternate!==null&&Qe.delete($n.key===null?nt:$n.key),se=N($n,se,nt),Ze===null?He=$n:Ze.sibling=$n,Ze=$n);return s&&Qe.forEach(function(Lo){return a(ue,Lo)}),Zt&&ba(ue,nt),He}function Ge(ue,se,fe,Re){var He=H(fe);if(typeof He!="function")throw Error(n(150));if(fe=He.call(fe),fe==null)throw Error(n(151));for(var Ze=He=null,Qe=se,nt=se=0,$n=null,wt=fe.next();Qe!==null&&!wt.done;nt++,wt=fe.next()){Qe.index>nt?($n=Qe,Qe=null):$n=Qe.sibling;var Lo=Ce(ue,Qe,wt.value,Re);if(Lo===null){Qe===null&&(Qe=$n);break}s&&Qe&&Lo.alternate===null&&a(ue,Qe),se=N(Lo,se,nt),Ze===null?He=Lo:Ze.sibling=Lo,Ze=Lo,Qe=$n}if(wt.done)return p(ue,Qe),Zt&&ba(ue,nt),He;if(Qe===null){for(;!wt.done;nt++,wt=fe.next())wt=Ne(ue,wt.value,Re),wt!==null&&(se=N(wt,se,nt),Ze===null?He=wt:Ze.sibling=wt,Ze=wt);return Zt&&ba(ue,nt),He}for(Qe=g(ue,Qe);!wt.done;nt++,wt=fe.next())wt=De(Qe,ue,nt,wt.value,Re),wt!==null&&(s&&wt.alternate!==null&&Qe.delete(wt.key===null?nt:wt.key),se=N(wt,se,nt),Ze===null?He=wt:Ze.sibling=wt,Ze=wt);return s&&Qe.forEach(function(Ek){return a(ue,Ek)}),Zt&&ba(ue,nt),He}function dn(ue,se,fe,Re){if(typeof fe=="object"&&fe!==null&&fe.type===O&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case I:e:{for(var He=fe.key,Ze=se;Ze!==null;){if(Ze.key===He){if(He=fe.type,He===O){if(Ze.tag===7){p(ue,Ze.sibling),se=E(Ze,fe.props.children),se.return=ue,ue=se;break e}}else if(Ze.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===X&&D0(He)===Ze.type){p(ue,Ze.sibling),se=E(Ze,fe.props),se.ref=Cc(ue,Ze,fe),se.return=ue,ue=se;break e}p(ue,Ze);break}else a(ue,Ze);Ze=Ze.sibling}fe.type===O?(se=Aa(fe.props.children,ue.mode,Re,fe.key),se.return=ue,ue=se):(Re=Hd(fe.type,fe.key,fe.props,null,ue.mode,Re),Re.ref=Cc(ue,se,fe),Re.return=ue,ue=Re)}return F(ue);case j:e:{for(Ze=fe.key;se!==null;){if(se.key===Ze)if(se.tag===4&&se.stateNode.containerInfo===fe.containerInfo&&se.stateNode.implementation===fe.implementation){p(ue,se.sibling),se=E(se,fe.children||[]),se.return=ue,ue=se;break e}else{p(ue,se);break}else a(ue,se);se=se.sibling}se=cm(fe,ue.mode,Re),se.return=ue,ue=se}return F(ue);case X:return Ze=fe._init,dn(ue,se,Ze(fe._payload),Re)}if(Ct(fe))return Ue(ue,se,fe,Re);if(H(fe))return Ge(ue,se,fe,Re);bd(ue,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,se!==null&&se.tag===6?(p(ue,se.sibling),se=E(se,fe),se.return=ue,ue=se):(p(ue,se),se=lm(fe,ue.mode,Re),se.return=ue,ue=se),F(ue)):p(ue,se)}return dn}var bl=F0(!0),$0=F0(!1),Ed=Eo(null),Sd=null,El=null,vh=null;function xh(){vh=El=Sd=null}function _h(s){var a=Ed.current;Yt(Ed),s._currentValue=a}function wh(s,a,p){for(;s!==null;){var g=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),s===p)break;s=s.return}}function Sl(s,a){Sd=s,vh=El=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Ar=!0),s.firstContext=null)}function ui(s){var a=s._currentValue;if(vh!==s)if(s={context:s,memoizedValue:a,next:null},El===null){if(Sd===null)throw Error(n(308));El=s,Sd.dependencies={lanes:0,firstContext:s}}else El=El.next=s;return a}var Ea=null;function bh(s){Ea===null?Ea=[s]:Ea.push(s)}function B0(s,a,p,g){var E=a.interleaved;return E===null?(p.next=p,bh(a)):(p.next=E.next,E.next=p),a.interleaved=p,Xs(s,g)}function Xs(s,a){s.lanes|=a;var p=s.alternate;for(p!==null&&(p.lanes|=a),p=s,s=s.return;s!==null;)s.childLanes|=a,p=s.alternate,p!==null&&(p.childLanes|=a),p=s,s=s.return;return p.tag===3?p.stateNode:null}var To=!1;function Eh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function qs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function No(s,a,p){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(vt&2)!==0){var E=g.pending;return E===null?a.next=a:(a.next=E.next,E.next=a),g.pending=a,Xs(s,p)}return E=g.interleaved,E===null?(a.next=a,bh(g)):(a.next=E.next,E.next=a),g.interleaved=a,Xs(s,p)}function Cd(s,a,p){if(a=a.updateQueue,a!==null&&(a=a.shared,(p&4194240)!==0)){var g=a.lanes;g&=s.pendingLanes,p|=g,a.lanes=p,el(s,p)}}function U0(s,a){var p=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var E=null,N=null;if(p=p.firstBaseUpdate,p!==null){do{var F={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};N===null?E=N=F:N=N.next=F,p=p.next}while(p!==null);N===null?E=N=a:N=N.next=a}else E=N=a;p={baseState:g.baseState,firstBaseUpdate:E,lastBaseUpdate:N,shared:g.shared,effects:g.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=a:s.next=a,p.lastBaseUpdate=a}function Td(s,a,p,g){var E=s.updateQueue;To=!1;var N=E.firstBaseUpdate,F=E.lastBaseUpdate,K=E.shared.pending;if(K!==null){E.shared.pending=null;var te=K,he=te.next;te.next=null,F===null?N=he:F.next=he,F=te;var Te=s.alternate;Te!==null&&(Te=Te.updateQueue,K=Te.lastBaseUpdate,K!==F&&(K===null?Te.firstBaseUpdate=he:K.next=he,Te.lastBaseUpdate=te))}if(N!==null){var Ne=E.baseState;F=0,Te=he=te=null,K=N;do{var Ce=K.lane,De=K.eventTime;if((g&Ce)===Ce){Te!==null&&(Te=Te.next={eventTime:De,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ue=s,Ge=K;switch(Ce=a,De=p,Ge.tag){case 1:if(Ue=Ge.payload,typeof Ue=="function"){Ne=Ue.call(De,Ne,Ce);break e}Ne=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ge.payload,Ce=typeof Ue=="function"?Ue.call(De,Ne,Ce):Ue,Ce==null)break e;Ne=P({},Ne,Ce);break e;case 2:To=!0}}K.callback!==null&&K.lane!==0&&(s.flags|=64,Ce=E.effects,Ce===null?E.effects=[K]:Ce.push(K))}else De={eventTime:De,lane:Ce,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Te===null?(he=Te=De,te=Ne):Te=Te.next=De,F|=Ce;if(K=K.next,K===null){if(K=E.shared.pending,K===null)break;Ce=K,K=Ce.next,Ce.next=null,E.lastBaseUpdate=Ce,E.shared.pending=null}}while(!0);if(Te===null&&(te=Ne),E.baseState=te,E.firstBaseUpdate=he,E.lastBaseUpdate=Te,a=E.shared.interleaved,a!==null){E=a;do F|=E.lane,E=E.next;while(E!==a)}else N===null&&(E.shared.lanes=0);Ta|=F,s.lanes=F,s.memoizedState=Ne}}function z0(s,a,p){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var g=s[a],E=g.callback;if(E!==null){if(g.callback=null,g=p,typeof E!="function")throw Error(n(191,E));E.call(g)}}}var Tc={},ps=Eo(Tc),Nc=Eo(Tc),kc=Eo(Tc);function Sa(s){if(s===Tc)throw Error(n(174));return s}function Sh(s,a){switch(Bt(kc,a),Bt(Nc,s),Bt(ps,Tc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:At(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=At(a,s)}Yt(ps),Bt(ps,a)}function Cl(){Yt(ps),Yt(Nc),Yt(kc)}function W0(s){Sa(kc.current);var a=Sa(ps.current),p=At(a,s.type);a!==p&&(Bt(Nc,s),Bt(ps,p))}function Ch(s){Nc.current===s&&(Yt(ps),Yt(Nc))}var en=Eo(0);function Nd(s){for(var a=s;a!==null;){if(a.tag===13){var p=a.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Th=[];function Nh(){for(var s=0;s<Th.length;s++)Th[s]._workInProgressVersionPrimary=null;Th.length=0}var kd=A.ReactCurrentDispatcher,kh=A.ReactCurrentBatchConfig,Ca=0,tn=null,Cn=null,Dn=null,Rd=!1,Rc=!1,Ac=0,GN=0;function rr(){throw Error(n(321))}function Rh(s,a){if(a===null)return!1;for(var p=0;p<a.length&&p<s.length;p++)if(!Oi(s[p],a[p]))return!1;return!0}function Ah(s,a,p,g,E,N){if(Ca=N,tn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,kd.current=s===null||s.memoizedState===null?qN:KN,s=p(g,E),Rc){N=0;do{if(Rc=!1,Ac=0,25<=N)throw Error(n(301));N+=1,Dn=Cn=null,a.updateQueue=null,kd.current=ZN,s=p(g,E)}while(Rc)}if(kd.current=Id,a=Cn!==null&&Cn.next!==null,Ca=0,Dn=Cn=tn=null,Rd=!1,a)throw Error(n(300));return s}function jh(){var s=Ac!==0;return Ac=0,s}function hs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?tn.memoizedState=Dn=s:Dn=Dn.next=s,Dn}function di(){if(Cn===null){var s=tn.alternate;s=s!==null?s.memoizedState:null}else s=Cn.next;var a=Dn===null?tn.memoizedState:Dn.next;if(a!==null)Dn=a,Cn=s;else{if(s===null)throw Error(n(310));Cn=s,s={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Dn===null?tn.memoizedState=Dn=s:Dn=Dn.next=s}return Dn}function jc(s,a){return typeof a=="function"?a(s):a}function Ih(s){var a=di(),p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var g=Cn,E=g.baseQueue,N=p.pending;if(N!==null){if(E!==null){var F=E.next;E.next=N.next,N.next=F}g.baseQueue=E=N,p.pending=null}if(E!==null){N=E.next,g=g.baseState;var K=F=null,te=null,he=N;do{var Te=he.lane;if((Ca&Te)===Te)te!==null&&(te=te.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),g=he.hasEagerState?he.eagerState:s(g,he.action);else{var Ne={lane:Te,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};te===null?(K=te=Ne,F=g):te=te.next=Ne,tn.lanes|=Te,Ta|=Te}he=he.next}while(he!==null&&he!==N);te===null?F=g:te.next=K,Oi(g,a.memoizedState)||(Ar=!0),a.memoizedState=g,a.baseState=F,a.baseQueue=te,p.lastRenderedState=g}if(s=p.interleaved,s!==null){E=s;do N=E.lane,tn.lanes|=N,Ta|=N,E=E.next;while(E!==s)}else E===null&&(p.lanes=0);return[a.memoizedState,p.dispatch]}function Ph(s){var a=di(),p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var g=p.dispatch,E=p.pending,N=a.memoizedState;if(E!==null){p.pending=null;var F=E=E.next;do N=s(N,F.action),F=F.next;while(F!==E);Oi(N,a.memoizedState)||(Ar=!0),a.memoizedState=N,a.baseQueue===null&&(a.baseState=N),p.lastRenderedState=N}return[N,g]}function G0(){}function H0(s,a){var p=tn,g=di(),E=a(),N=!Oi(g.memoizedState,E);if(N&&(g.memoizedState=E,Ar=!0),g=g.queue,Lh(q0.bind(null,p,g,s),[s]),g.getSnapshot!==a||N||Dn!==null&&Dn.memoizedState.tag&1){if(p.flags|=2048,Ic(9,X0.bind(null,p,g,E,a),void 0,null),Fn===null)throw Error(n(349));(Ca&30)!==0||Y0(p,a,E)}return E}function Y0(s,a,p){s.flags|=16384,s={getSnapshot:a,value:p},a=tn.updateQueue,a===null?(a={lastEffect:null,stores:null},tn.updateQueue=a,a.stores=[s]):(p=a.stores,p===null?a.stores=[s]:p.push(s))}function X0(s,a,p,g){a.value=p,a.getSnapshot=g,K0(a)&&Z0(s)}function q0(s,a,p){return p(function(){K0(a)&&Z0(s)})}function K0(s){var a=s.getSnapshot;s=s.value;try{var p=a();return!Oi(s,p)}catch{return!0}}function Z0(s){var a=Xs(s,1);a!==null&&Bi(a,s,1,-1)}function Q0(s){var a=hs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:s},a.queue=s,s=s.dispatch=XN.bind(null,tn,s),[a.memoizedState,s]}function Ic(s,a,p,g){return s={tag:s,create:a,destroy:p,deps:g,next:null},a=tn.updateQueue,a===null?(a={lastEffect:null,stores:null},tn.updateQueue=a,a.lastEffect=s.next=s):(p=a.lastEffect,p===null?a.lastEffect=s.next=s:(g=p.next,p.next=s,s.next=g,a.lastEffect=s)),s}function J0(){return di().memoizedState}function Ad(s,a,p,g){var E=hs();tn.flags|=s,E.memoizedState=Ic(1|a,p,void 0,g===void 0?null:g)}function jd(s,a,p,g){var E=di();g=g===void 0?null:g;var N=void 0;if(Cn!==null){var F=Cn.memoizedState;if(N=F.destroy,g!==null&&Rh(g,F.deps)){E.memoizedState=Ic(a,p,N,g);return}}tn.flags|=s,E.memoizedState=Ic(1|a,p,N,g)}function ex(s,a){return Ad(8390656,8,s,a)}function Lh(s,a){return jd(2048,8,s,a)}function tx(s,a){return jd(4,2,s,a)}function nx(s,a){return jd(4,4,s,a)}function rx(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function ix(s,a,p){return p=p!=null?p.concat([s]):null,jd(4,4,rx.bind(null,a,s),p)}function Oh(){}function sx(s,a){var p=di();a=a===void 0?null:a;var g=p.memoizedState;return g!==null&&a!==null&&Rh(a,g[1])?g[0]:(p.memoizedState=[s,a],s)}function ox(s,a){var p=di();a=a===void 0?null:a;var g=p.memoizedState;return g!==null&&a!==null&&Rh(a,g[1])?g[0]:(s=s(),p.memoizedState=[s,a],s)}function ax(s,a,p){return(Ca&21)===0?(s.baseState&&(s.baseState=!1,Ar=!0),s.memoizedState=p):(Oi(p,a)||(p=go(),tn.lanes|=p,Ta|=p,s.baseState=!0),a)}function HN(s,a){var p=yt;yt=p!==0&&4>p?p:4,s(!0);var g=kh.transition;kh.transition={};try{s(!1),a()}finally{yt=p,kh.transition=g}}function lx(){return di().memoizedState}function YN(s,a,p){var g=jo(s);if(p={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null},cx(s))ux(a,p);else if(p=B0(s,a,p,g),p!==null){var E=pr();Bi(p,s,g,E),dx(p,a,g)}}function XN(s,a,p){var g=jo(s),E={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null};if(cx(s))ux(a,E);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=a.lastRenderedReducer,N!==null))try{var F=a.lastRenderedState,K=N(F,p);if(E.hasEagerState=!0,E.eagerState=K,Oi(K,F)){var te=a.interleaved;te===null?(E.next=E,bh(a)):(E.next=te.next,te.next=E),a.interleaved=E;return}}catch{}finally{}p=B0(s,a,E,g),p!==null&&(E=pr(),Bi(p,s,g,E),dx(p,a,g))}}function cx(s){var a=s.alternate;return s===tn||a!==null&&a===tn}function ux(s,a){Rc=Rd=!0;var p=s.pending;p===null?a.next=a:(a.next=p.next,p.next=a),s.pending=a}function dx(s,a,p){if((p&4194240)!==0){var g=a.lanes;g&=s.pendingLanes,p|=g,a.lanes=p,el(s,p)}}var Id={readContext:ui,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},qN={readContext:ui,useCallback:function(s,a){return hs().memoizedState=[s,a===void 0?null:a],s},useContext:ui,useEffect:ex,useImperativeHandle:function(s,a,p){return p=p!=null?p.concat([s]):null,Ad(4194308,4,rx.bind(null,a,s),p)},useLayoutEffect:function(s,a){return Ad(4194308,4,s,a)},useInsertionEffect:function(s,a){return Ad(4,2,s,a)},useMemo:function(s,a){var p=hs();return a=a===void 0?null:a,s=s(),p.memoizedState=[s,a],s},useReducer:function(s,a,p){var g=hs();return a=p!==void 0?p(a):a,g.memoizedState=g.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},g.queue=s,s=s.dispatch=YN.bind(null,tn,s),[g.memoizedState,s]},useRef:function(s){var a=hs();return s={current:s},a.memoizedState=s},useState:Q0,useDebugValue:Oh,useDeferredValue:function(s){return hs().memoizedState=s},useTransition:function(){var s=Q0(!1),a=s[0];return s=HN.bind(null,s[1]),hs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,p){var g=tn,E=hs();if(Zt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=a(),Fn===null)throw Error(n(349));(Ca&30)!==0||Y0(g,a,p)}E.memoizedState=p;var N={value:p,getSnapshot:a};return E.queue=N,ex(q0.bind(null,g,N,s),[s]),g.flags|=2048,Ic(9,X0.bind(null,g,N,p,a),void 0,null),p},useId:function(){var s=hs(),a=Fn.identifierPrefix;if(Zt){var p=Ys,g=Hs;p=(g&~(1<<32-Sr(g)-1)).toString(32)+p,a=":"+a+"R"+p,p=Ac++,0<p&&(a+="H"+p.toString(32)),a+=":"}else p=GN++,a=":"+a+"r"+p.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},KN={readContext:ui,useCallback:sx,useContext:ui,useEffect:Lh,useImperativeHandle:ix,useInsertionEffect:tx,useLayoutEffect:nx,useMemo:ox,useReducer:Ih,useRef:J0,useState:function(){return Ih(jc)},useDebugValue:Oh,useDeferredValue:function(s){var a=di();return ax(a,Cn.memoizedState,s)},useTransition:function(){var s=Ih(jc)[0],a=di().memoizedState;return[s,a]},useMutableSource:G0,useSyncExternalStore:H0,useId:lx,unstable_isNewReconciler:!1},ZN={readContext:ui,useCallback:sx,useContext:ui,useEffect:Lh,useImperativeHandle:ix,useInsertionEffect:tx,useLayoutEffect:nx,useMemo:ox,useReducer:Ph,useRef:J0,useState:function(){return Ph(jc)},useDebugValue:Oh,useDeferredValue:function(s){var a=di();return Cn===null?a.memoizedState=s:ax(a,Cn.memoizedState,s)},useTransition:function(){var s=Ph(jc)[0],a=di().memoizedState;return[s,a]},useMutableSource:G0,useSyncExternalStore:H0,useId:lx,unstable_isNewReconciler:!1};function Di(s,a){if(s&&s.defaultProps){a=P({},a),s=s.defaultProps;for(var p in s)a[p]===void 0&&(a[p]=s[p]);return a}return a}function Mh(s,a,p,g){a=s.memoizedState,p=p(g,a),p=p==null?a:P({},a,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var Pd={isMounted:function(s){return(s=s._reactInternals)?oi(s)===s:!1},enqueueSetState:function(s,a,p){s=s._reactInternals;var g=pr(),E=jo(s),N=qs(g,E);N.payload=a,p!=null&&(N.callback=p),a=No(s,N,E),a!==null&&(Bi(a,s,E,g),Cd(a,s,E))},enqueueReplaceState:function(s,a,p){s=s._reactInternals;var g=pr(),E=jo(s),N=qs(g,E);N.tag=1,N.payload=a,p!=null&&(N.callback=p),a=No(s,N,E),a!==null&&(Bi(a,s,E,g),Cd(a,s,E))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var p=pr(),g=jo(s),E=qs(p,g);E.tag=2,a!=null&&(E.callback=a),a=No(s,E,g),a!==null&&(Bi(a,s,g,p),Cd(a,s,g))}};function fx(s,a,p,g,E,N,F){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,N,F):a.prototype&&a.prototype.isPureReactComponent?!vc(p,g)||!vc(E,N):!0}function px(s,a,p){var g=!1,E=So,N=a.contextType;return typeof N=="object"&&N!==null?N=ui(N):(E=Rr(a)?_a:nr.current,g=a.contextTypes,N=(g=g!=null)?vl(s,E):So),a=new a(p,N),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Pd,s.stateNode=a,a._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=E,s.__reactInternalMemoizedMaskedChildContext=N),a}function hx(s,a,p,g){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(p,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(p,g),a.state!==s&&Pd.enqueueReplaceState(a,a.state,null)}function Dh(s,a,p,g){var E=s.stateNode;E.props=p,E.state=s.memoizedState,E.refs={},Eh(s);var N=a.contextType;typeof N=="object"&&N!==null?E.context=ui(N):(N=Rr(a)?_a:nr.current,E.context=vl(s,N)),E.state=s.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(Mh(s,a,N,p),E.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(a=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),a!==E.state&&Pd.enqueueReplaceState(E,E.state,null),Td(s,p,E,g),E.state=s.memoizedState),typeof E.componentDidMount=="function"&&(s.flags|=4194308)}function Tl(s,a){try{var p="",g=a;do p+=ie(g),g=g.return;while(g);var E=p}catch(N){E=`
Error generating stack: `+N.message+`
`+N.stack}return{value:s,source:a,stack:E,digest:null}}function Fh(s,a,p){return{value:s,source:null,stack:p??null,digest:a??null}}function $h(s,a){try{console.error(a.value)}catch(p){setTimeout(function(){throw p})}}var QN=typeof WeakMap=="function"?WeakMap:Map;function mx(s,a,p){p=qs(-1,p),p.tag=3,p.payload={element:null};var g=a.value;return p.callback=function(){Bd||(Bd=!0,em=g),$h(s,a)},p}function gx(s,a,p){p=qs(-1,p),p.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var E=a.value;p.payload=function(){return g(E)},p.callback=function(){$h(s,a)}}var N=s.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(p.callback=function(){$h(s,a),typeof g!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var F=a.stack;this.componentDidCatch(a.value,{componentStack:F!==null?F:""})}),p}function yx(s,a,p){var g=s.pingCache;if(g===null){g=s.pingCache=new QN;var E=new Set;g.set(a,E)}else E=g.get(a),E===void 0&&(E=new Set,g.set(a,E));E.has(p)||(E.add(p),s=fk.bind(null,s,a,p),a.then(s,s))}function vx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function xx(s,a,p,g,E){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(a=qs(-1,1),a.tag=2,No(p,a,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=E,s)}var JN=A.ReactCurrentOwner,Ar=!1;function fr(s,a,p,g){a.child=s===null?$0(a,null,p,g):bl(a,s.child,p,g)}function _x(s,a,p,g,E){p=p.render;var N=a.ref;return Sl(a,E),g=Ah(s,a,p,g,N,E),p=jh(),s!==null&&!Ar?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~E,Ks(s,a,E)):(Zt&&p&&ph(a),a.flags|=1,fr(s,a,g,E),a.child)}function wx(s,a,p,g,E){if(s===null){var N=p.type;return typeof N=="function"&&!am(N)&&N.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(a.tag=15,a.type=N,bx(s,a,N,g,E)):(s=Hd(p.type,null,g,a,a.mode,E),s.ref=a.ref,s.return=a,a.child=s)}if(N=s.child,(s.lanes&E)===0){var F=N.memoizedProps;if(p=p.compare,p=p!==null?p:vc,p(F,g)&&s.ref===a.ref)return Ks(s,a,E)}return a.flags|=1,s=Po(N,g),s.ref=a.ref,s.return=a,a.child=s}function bx(s,a,p,g,E){if(s!==null){var N=s.memoizedProps;if(vc(N,g)&&s.ref===a.ref)if(Ar=!1,a.pendingProps=g=N,(s.lanes&E)!==0)(s.flags&131072)!==0&&(Ar=!0);else return a.lanes=s.lanes,Ks(s,a,E)}return Bh(s,a,p,g,E)}function Ex(s,a,p){var g=a.pendingProps,E=g.children,N=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(kl,Jr),Jr|=p;else{if((p&1073741824)===0)return s=N!==null?N.baseLanes|p:p,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Bt(kl,Jr),Jr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=N!==null?N.baseLanes:p,Bt(kl,Jr),Jr|=g}else N!==null?(g=N.baseLanes|p,a.memoizedState=null):g=p,Bt(kl,Jr),Jr|=g;return fr(s,a,E,p),a.child}function Sx(s,a){var p=a.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(a.flags|=512,a.flags|=2097152)}function Bh(s,a,p,g,E){var N=Rr(p)?_a:nr.current;return N=vl(a,N),Sl(a,E),p=Ah(s,a,p,g,N,E),g=jh(),s!==null&&!Ar?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~E,Ks(s,a,E)):(Zt&&g&&ph(a),a.flags|=1,fr(s,a,p,E),a.child)}function Cx(s,a,p,g,E){if(Rr(p)){var N=!0;yd(a)}else N=!1;if(Sl(a,E),a.stateNode===null)Od(s,a),px(a,p,g),Dh(a,p,g,E),g=!0;else if(s===null){var F=a.stateNode,K=a.memoizedProps;F.props=K;var te=F.context,he=p.contextType;typeof he=="object"&&he!==null?he=ui(he):(he=Rr(p)?_a:nr.current,he=vl(a,he));var Te=p.getDerivedStateFromProps,Ne=typeof Te=="function"||typeof F.getSnapshotBeforeUpdate=="function";Ne||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(K!==g||te!==he)&&hx(a,F,g,he),To=!1;var Ce=a.memoizedState;F.state=Ce,Td(a,g,F,E),te=a.memoizedState,K!==g||Ce!==te||kr.current||To?(typeof Te=="function"&&(Mh(a,p,Te,g),te=a.memoizedState),(K=To||fx(a,p,K,g,Ce,te,he))?(Ne||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(a.flags|=4194308)):(typeof F.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=te),F.props=g,F.state=te,F.context=he,g=K):(typeof F.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{F=a.stateNode,V0(s,a),K=a.memoizedProps,he=a.type===a.elementType?K:Di(a.type,K),F.props=he,Ne=a.pendingProps,Ce=F.context,te=p.contextType,typeof te=="object"&&te!==null?te=ui(te):(te=Rr(p)?_a:nr.current,te=vl(a,te));var De=p.getDerivedStateFromProps;(Te=typeof De=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(K!==Ne||Ce!==te)&&hx(a,F,g,te),To=!1,Ce=a.memoizedState,F.state=Ce,Td(a,g,F,E);var Ue=a.memoizedState;K!==Ne||Ce!==Ue||kr.current||To?(typeof De=="function"&&(Mh(a,p,De,g),Ue=a.memoizedState),(he=To||fx(a,p,he,g,Ce,Ue,te)||!1)?(Te||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(g,Ue,te),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(g,Ue,te)),typeof F.componentDidUpdate=="function"&&(a.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof F.componentDidUpdate!="function"||K===s.memoizedProps&&Ce===s.memoizedState||(a.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&Ce===s.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Ue),F.props=g,F.state=Ue,F.context=te,g=he):(typeof F.componentDidUpdate!="function"||K===s.memoizedProps&&Ce===s.memoizedState||(a.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&Ce===s.memoizedState||(a.flags|=1024),g=!1)}return Vh(s,a,p,g,N,E)}function Vh(s,a,p,g,E,N){Sx(s,a);var F=(a.flags&128)!==0;if(!g&&!F)return E&&A0(a,p,!1),Ks(s,a,N);g=a.stateNode,JN.current=a;var K=F&&typeof p.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,s!==null&&F?(a.child=bl(a,s.child,null,N),a.child=bl(a,null,K,N)):fr(s,a,K,N),a.memoizedState=g.state,E&&A0(a,p,!0),a.child}function Tx(s){var a=s.stateNode;a.pendingContext?k0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&k0(s,a.context,!1),Sh(s,a.containerInfo)}function Nx(s,a,p,g,E){return wl(),yh(E),a.flags|=256,fr(s,a,p,g),a.child}var Uh={dehydrated:null,treeContext:null,retryLane:0};function zh(s){return{baseLanes:s,cachePool:null,transitions:null}}function kx(s,a,p){var g=a.pendingProps,E=en.current,N=!1,F=(a.flags&128)!==0,K;if((K=F)||(K=s!==null&&s.memoizedState===null?!1:(E&2)!==0),K?(N=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(E|=1),Bt(en,E&1),s===null)return gh(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(F=g.children,s=g.fallback,N?(g=a.mode,N=a.child,F={mode:"hidden",children:F},(g&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=F):N=Yd(F,g,0,null),s=Aa(s,g,p,null),N.return=a,s.return=a,N.sibling=s,a.child=N,a.child.memoizedState=zh(p),a.memoizedState=Uh,s):Wh(a,F));if(E=s.memoizedState,E!==null&&(K=E.dehydrated,K!==null))return ek(s,a,F,g,K,E,p);if(N){N=g.fallback,F=a.mode,E=s.child,K=E.sibling;var te={mode:"hidden",children:g.children};return(F&1)===0&&a.child!==E?(g=a.child,g.childLanes=0,g.pendingProps=te,a.deletions=null):(g=Po(E,te),g.subtreeFlags=E.subtreeFlags&14680064),K!==null?N=Po(K,N):(N=Aa(N,F,p,null),N.flags|=2),N.return=a,g.return=a,g.sibling=N,a.child=g,g=N,N=a.child,F=s.child.memoizedState,F=F===null?zh(p):{baseLanes:F.baseLanes|p,cachePool:null,transitions:F.transitions},N.memoizedState=F,N.childLanes=s.childLanes&~p,a.memoizedState=Uh,g}return N=s.child,s=N.sibling,g=Po(N,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=p),g.return=a,g.sibling=null,s!==null&&(p=a.deletions,p===null?(a.deletions=[s],a.flags|=16):p.push(s)),a.child=g,a.memoizedState=null,g}function Wh(s,a){return a=Yd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ld(s,a,p,g){return g!==null&&yh(g),bl(a,s.child,null,p),s=Wh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ek(s,a,p,g,E,N,F){if(p)return a.flags&256?(a.flags&=-257,g=Fh(Error(n(422))),Ld(s,a,F,g)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(N=g.fallback,E=a.mode,g=Yd({mode:"visible",children:g.children},E,0,null),N=Aa(N,E,F,null),N.flags|=2,g.return=a,N.return=a,g.sibling=N,a.child=g,(a.mode&1)!==0&&bl(a,s.child,null,F),a.child.memoizedState=zh(F),a.memoizedState=Uh,N);if((a.mode&1)===0)return Ld(s,a,F,null);if(E.data==="$!"){if(g=E.nextSibling&&E.nextSibling.dataset,g)var K=g.dgst;return g=K,N=Error(n(419)),g=Fh(N,g,void 0),Ld(s,a,F,g)}if(K=(F&s.childLanes)!==0,Ar||K){if(g=Fn,g!==null){switch(F&-F){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(g.suspendedLanes|F))!==0?0:E,E!==0&&E!==N.retryLane&&(N.retryLane=E,Xs(s,E),Bi(g,s,E,-1))}return om(),g=Fh(Error(n(421))),Ld(s,a,F,g)}return E.data==="$?"?(a.flags|=128,a.child=s.child,a=pk.bind(null,s),E._reactRetry=a,null):(s=N.treeContext,Qr=bo(E.nextSibling),Zr=a,Zt=!0,Mi=null,s!==null&&(li[ci++]=Hs,li[ci++]=Ys,li[ci++]=wa,Hs=s.id,Ys=s.overflow,wa=a),a=Wh(a,g.children),a.flags|=4096,a)}function Rx(s,a,p){s.lanes|=a;var g=s.alternate;g!==null&&(g.lanes|=a),wh(s.return,a,p)}function Gh(s,a,p,g,E){var N=s.memoizedState;N===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:E}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=p,N.tailMode=E)}function Ax(s,a,p){var g=a.pendingProps,E=g.revealOrder,N=g.tail;if(fr(s,a,g.children,p),g=en.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Rx(s,p,a);else if(s.tag===19)Rx(s,p,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Bt(en,g),(a.mode&1)===0)a.memoizedState=null;else switch(E){case"forwards":for(p=a.child,E=null;p!==null;)s=p.alternate,s!==null&&Nd(s)===null&&(E=p),p=p.sibling;p=E,p===null?(E=a.child,a.child=null):(E=p.sibling,p.sibling=null),Gh(a,!1,E,p,N);break;case"backwards":for(p=null,E=a.child,a.child=null;E!==null;){if(s=E.alternate,s!==null&&Nd(s)===null){a.child=E;break}s=E.sibling,E.sibling=p,p=E,E=s}Gh(a,!0,p,null,N);break;case"together":Gh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Od(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ks(s,a,p){if(s!==null&&(a.dependencies=s.dependencies),Ta|=a.lanes,(p&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,p=Po(s,s.pendingProps),a.child=p,p.return=a;s.sibling!==null;)s=s.sibling,p=p.sibling=Po(s,s.pendingProps),p.return=a;p.sibling=null}return a.child}function tk(s,a,p){switch(a.tag){case 3:Tx(a),wl();break;case 5:W0(a);break;case 1:Rr(a.type)&&yd(a);break;case 4:Sh(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,E=a.memoizedProps.value;Bt(Ed,g._currentValue),g._currentValue=E;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Bt(en,en.current&1),a.flags|=128,null):(p&a.child.childLanes)!==0?kx(s,a,p):(Bt(en,en.current&1),s=Ks(s,a,p),s!==null?s.sibling:null);Bt(en,en.current&1);break;case 19:if(g=(p&a.childLanes)!==0,(s.flags&128)!==0){if(g)return Ax(s,a,p);a.flags|=128}if(E=a.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Bt(en,en.current),g)break;return null;case 22:case 23:return a.lanes=0,Ex(s,a,p)}return Ks(s,a,p)}var jx,Hh,Ix,Px;jx=function(s,a){for(var p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break;for(;p.sibling===null;){if(p.return===null||p.return===a)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Hh=function(){},Ix=function(s,a,p,g){var E=s.memoizedProps;if(E!==g){s=a.stateNode,Sa(ps.current);var N=null;switch(p){case"input":E=ae(s,E),g=ae(s,g),N=[];break;case"select":E=P({},E,{value:void 0}),g=P({},g,{value:void 0}),N=[];break;case"textarea":E=$t(s,E),g=$t(s,g),N=[];break;default:typeof E.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=hd)}Wn(p,g);var F;p=null;for(he in E)if(!g.hasOwnProperty(he)&&E.hasOwnProperty(he)&&E[he]!=null)if(he==="style"){var K=E[he];for(F in K)K.hasOwnProperty(F)&&(p||(p={}),p[F]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?N||(N=[]):(N=N||[]).push(he,null));for(he in g){var te=g[he];if(K=E?.[he],g.hasOwnProperty(he)&&te!==K&&(te!=null||K!=null))if(he==="style")if(K){for(F in K)!K.hasOwnProperty(F)||te&&te.hasOwnProperty(F)||(p||(p={}),p[F]="");for(F in te)te.hasOwnProperty(F)&&K[F]!==te[F]&&(p||(p={}),p[F]=te[F])}else p||(N||(N=[]),N.push(he,p)),p=te;else he==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,K=K?K.__html:void 0,te!=null&&K!==te&&(N=N||[]).push(he,te)):he==="children"?typeof te!="string"&&typeof te!="number"||(N=N||[]).push(he,""+te):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(te!=null&&he==="onScroll"&&Ht("scroll",s),N||K===te||(N=[])):(N=N||[]).push(he,te))}p&&(N=N||[]).push("style",p);var he=N;(a.updateQueue=he)&&(a.flags|=4)}},Px=function(s,a,p,g){p!==g&&(a.flags|=4)};function Pc(s,a){if(!Zt)switch(s.tailMode){case"hidden":a=s.tail;for(var p=null;a!==null;)a.alternate!==null&&(p=a),a=a.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function ir(s){var a=s.alternate!==null&&s.alternate.child===s.child,p=0,g=0;if(a)for(var E=s.child;E!==null;)p|=E.lanes|E.childLanes,g|=E.subtreeFlags&14680064,g|=E.flags&14680064,E.return=s,E=E.sibling;else for(E=s.child;E!==null;)p|=E.lanes|E.childLanes,g|=E.subtreeFlags,g|=E.flags,E.return=s,E=E.sibling;return s.subtreeFlags|=g,s.childLanes=p,a}function nk(s,a,p){var g=a.pendingProps;switch(hh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(a),null;case 1:return Rr(a.type)&&gd(),ir(a),null;case 3:return g=a.stateNode,Cl(),Yt(kr),Yt(nr),Nh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(wd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Mi!==null&&(rm(Mi),Mi=null))),Hh(s,a),ir(a),null;case 5:Ch(a);var E=Sa(kc.current);if(p=a.type,s!==null&&a.stateNode!=null)Ix(s,a,p,g,E),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(n(166));return ir(a),null}if(s=Sa(ps.current),wd(a)){g=a.stateNode,p=a.type;var N=a.memoizedProps;switch(g[fs]=a,g[Ec]=N,s=(a.mode&1)!==0,p){case"dialog":Ht("cancel",g),Ht("close",g);break;case"iframe":case"object":case"embed":Ht("load",g);break;case"video":case"audio":for(E=0;E<_c.length;E++)Ht(_c[E],g);break;case"source":Ht("error",g);break;case"img":case"image":case"link":Ht("error",g),Ht("load",g);break;case"details":Ht("toggle",g);break;case"input":xe(g,N),Ht("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!N.multiple},Ht("invalid",g);break;case"textarea":Rt(g,N),Ht("invalid",g)}Wn(p,N),E=null;for(var F in N)if(N.hasOwnProperty(F)){var K=N[F];F==="children"?typeof K=="string"?g.textContent!==K&&(N.suppressHydrationWarning!==!0&&pd(g.textContent,K,s),E=["children",K]):typeof K=="number"&&g.textContent!==""+K&&(N.suppressHydrationWarning!==!0&&pd(g.textContent,K,s),E=["children",""+K]):i.hasOwnProperty(F)&&K!=null&&F==="onScroll"&&Ht("scroll",g)}switch(p){case"input":me(g),Pe(g,N,!0);break;case"textarea":me(g),Wt(g);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(g.onclick=hd)}g=E,a.updateQueue=g,g!==null&&(a.flags|=4)}else{F=E.nodeType===9?E:E.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=_n(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=F.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=F.createElement(p,{is:g.is}):(s=F.createElement(p),p==="select"&&(F=s,g.multiple?F.multiple=!0:g.size&&(F.size=g.size))):s=F.createElementNS(s,p),s[fs]=a,s[Ec]=g,jx(s,a,!1,!1),a.stateNode=s;e:{switch(F=si(p,g),p){case"dialog":Ht("cancel",s),Ht("close",s),E=g;break;case"iframe":case"object":case"embed":Ht("load",s),E=g;break;case"video":case"audio":for(E=0;E<_c.length;E++)Ht(_c[E],s);E=g;break;case"source":Ht("error",s),E=g;break;case"img":case"image":case"link":Ht("error",s),Ht("load",s),E=g;break;case"details":Ht("toggle",s),E=g;break;case"input":xe(s,g),E=ae(s,g),Ht("invalid",s);break;case"option":E=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},E=P({},g,{value:void 0}),Ht("invalid",s);break;case"textarea":Rt(s,g),E=$t(s,g),Ht("invalid",s);break;default:E=g}Wn(p,E),K=E;for(N in K)if(K.hasOwnProperty(N)){var te=K[N];N==="style"?Je(s,te):N==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&ki(s,te)):N==="children"?typeof te=="string"?(p!=="textarea"||te!=="")&&Gr(s,te):typeof te=="number"&&Gr(s,""+te):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?te!=null&&N==="onScroll"&&Ht("scroll",s):te!=null&&k(s,N,te,F))}switch(p){case"input":me(s),Pe(s,g,!1);break;case"textarea":me(s),Wt(s);break;case"option":g.value!=null&&s.setAttribute("value",""+ke(g.value));break;case"select":s.multiple=!!g.multiple,N=g.value,N!=null?dt(s,!!g.multiple,N,!1):g.defaultValue!=null&&dt(s,!!g.multiple,g.defaultValue,!0);break;default:typeof E.onClick=="function"&&(s.onclick=hd)}switch(p){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return ir(a),null;case 6:if(s&&a.stateNode!=null)Px(s,a,s.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(n(166));if(p=Sa(kc.current),Sa(ps.current),wd(a)){if(g=a.stateNode,p=a.memoizedProps,g[fs]=a,(N=g.nodeValue!==p)&&(s=Zr,s!==null))switch(s.tag){case 3:pd(g.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&pd(g.nodeValue,p,(s.mode&1)!==0)}N&&(a.flags|=4)}else g=(p.nodeType===9?p:p.ownerDocument).createTextNode(g),g[fs]=a,a.stateNode=g}return ir(a),null;case 13:if(Yt(en),g=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Zt&&Qr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)M0(),wl(),a.flags|=98560,N=!1;else if(N=wd(a),g!==null&&g.dehydrated!==null){if(s===null){if(!N)throw Error(n(318));if(N=a.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[fs]=a}else wl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ir(a),N=!1}else Mi!==null&&(rm(Mi),Mi=null),N=!0;if(!N)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=p,a):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(en.current&1)!==0?Tn===0&&(Tn=3):om())),a.updateQueue!==null&&(a.flags|=4),ir(a),null);case 4:return Cl(),Hh(s,a),s===null&&wc(a.stateNode.containerInfo),ir(a),null;case 10:return _h(a.type._context),ir(a),null;case 17:return Rr(a.type)&&gd(),ir(a),null;case 19:if(Yt(en),N=a.memoizedState,N===null)return ir(a),null;if(g=(a.flags&128)!==0,F=N.rendering,F===null)if(g)Pc(N,!1);else{if(Tn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(F=Nd(s),F!==null){for(a.flags|=128,Pc(N,!1),g=F.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=p,p=a.child;p!==null;)N=p,s=g,N.flags&=14680066,F=N.alternate,F===null?(N.childLanes=0,N.lanes=s,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=F.childLanes,N.lanes=F.lanes,N.child=F.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=F.memoizedProps,N.memoizedState=F.memoizedState,N.updateQueue=F.updateQueue,N.type=F.type,s=F.dependencies,N.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return Bt(en,en.current&1|2),a.child}s=s.sibling}N.tail!==null&&at()>Rl&&(a.flags|=128,g=!0,Pc(N,!1),a.lanes=4194304)}else{if(!g)if(s=Nd(F),s!==null){if(a.flags|=128,g=!0,p=s.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),Pc(N,!0),N.tail===null&&N.tailMode==="hidden"&&!F.alternate&&!Zt)return ir(a),null}else 2*at()-N.renderingStartTime>Rl&&p!==1073741824&&(a.flags|=128,g=!0,Pc(N,!1),a.lanes=4194304);N.isBackwards?(F.sibling=a.child,a.child=F):(p=N.last,p!==null?p.sibling=F:a.child=F,N.last=F)}return N.tail!==null?(a=N.tail,N.rendering=a,N.tail=a.sibling,N.renderingStartTime=at(),a.sibling=null,p=en.current,Bt(en,g?p&1|2:p&1),a):(ir(a),null);case 22:case 23:return sm(),g=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Jr&1073741824)!==0&&(ir(a),a.subtreeFlags&6&&(a.flags|=8192)):ir(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function rk(s,a){switch(hh(a),a.tag){case 1:return Rr(a.type)&&gd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Cl(),Yt(kr),Yt(nr),Nh(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Ch(a),null;case 13:if(Yt(en),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));wl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Yt(en),null;case 4:return Cl(),null;case 10:return _h(a.type._context),null;case 22:case 23:return sm(),null;case 24:return null;default:return null}}var Md=!1,sr=!1,ik=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Nl(s,a){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(g){an(s,a,g)}else p.current=null}function Yh(s,a,p){try{p()}catch(g){an(s,a,g)}}var Lx=!1;function sk(s,a){if(sh=ye,s=f0(),Zp(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var E=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{p.nodeType,N.nodeType}catch{p=null;break e}var F=0,K=-1,te=-1,he=0,Te=0,Ne=s,Ce=null;t:for(;;){for(var De;Ne!==p||E!==0&&Ne.nodeType!==3||(K=F+E),Ne!==N||g!==0&&Ne.nodeType!==3||(te=F+g),Ne.nodeType===3&&(F+=Ne.nodeValue.length),(De=Ne.firstChild)!==null;)Ce=Ne,Ne=De;for(;;){if(Ne===s)break t;if(Ce===p&&++he===E&&(K=F),Ce===N&&++Te===g&&(te=F),(De=Ne.nextSibling)!==null)break;Ne=Ce,Ce=Ne.parentNode}Ne=De}p=K===-1||te===-1?null:{start:K,end:te}}else p=null}p=p||{start:0,end:0}}else p=null;for(oh={focusedElem:s,selectionRange:p},ye=!1,Be=a;Be!==null;)if(a=Be,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Be=s;else for(;Be!==null;){a=Be;try{var Ue=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var Ge=Ue.memoizedProps,dn=Ue.memoizedState,ue=a.stateNode,se=ue.getSnapshotBeforeUpdate(a.elementType===a.type?Ge:Di(a.type,Ge),dn);ue.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var fe=a.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Re){an(a,a.return,Re)}if(s=a.sibling,s!==null){s.return=a.return,Be=s;break}Be=a.return}return Ue=Lx,Lx=!1,Ue}function Lc(s,a,p){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var E=g=g.next;do{if((E.tag&s)===s){var N=E.destroy;E.destroy=void 0,N!==void 0&&Yh(a,p,N)}E=E.next}while(E!==g)}}function Dd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var p=a=a.next;do{if((p.tag&s)===s){var g=p.create;p.destroy=g()}p=p.next}while(p!==a)}}function Xh(s){var a=s.ref;if(a!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof a=="function"?a(s):a.current=s}}function Ox(s){var a=s.alternate;a!==null&&(s.alternate=null,Ox(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[fs],delete a[Ec],delete a[uh],delete a[VN],delete a[UN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Mx(s){return s.tag===5||s.tag===3||s.tag===4}function Dx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Mx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function qh(s,a,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?p.nodeType===8?p.parentNode.insertBefore(s,a):p.insertBefore(s,a):(p.nodeType===8?(a=p.parentNode,a.insertBefore(s,p)):(a=p,a.appendChild(s)),p=p._reactRootContainer,p!=null||a.onclick!==null||(a.onclick=hd));else if(g!==4&&(s=s.child,s!==null))for(qh(s,a,p),s=s.sibling;s!==null;)qh(s,a,p),s=s.sibling}function Kh(s,a,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?p.insertBefore(s,a):p.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Kh(s,a,p),s=s.sibling;s!==null;)Kh(s,a,p),s=s.sibling}var Yn=null,Fi=!1;function ko(s,a,p){for(p=p.child;p!==null;)Fx(s,a,p),p=p.sibling}function Fx(s,a,p){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Pi,p)}catch{}switch(p.tag){case 5:sr||Nl(p,a);case 6:var g=Yn,E=Fi;Yn=null,ko(s,a,p),Yn=g,Fi=E,Yn!==null&&(Fi?(s=Yn,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):Yn.removeChild(p.stateNode));break;case 18:Yn!==null&&(Fi?(s=Yn,p=p.stateNode,s.nodeType===8?ch(s.parentNode,p):s.nodeType===1&&ch(s,p),ee(s)):ch(Yn,p.stateNode));break;case 4:g=Yn,E=Fi,Yn=p.stateNode.containerInfo,Fi=!0,ko(s,a,p),Yn=g,Fi=E;break;case 0:case 11:case 14:case 15:if(!sr&&(g=p.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){E=g=g.next;do{var N=E,F=N.destroy;N=N.tag,F!==void 0&&((N&2)!==0||(N&4)!==0)&&Yh(p,a,F),E=E.next}while(E!==g)}ko(s,a,p);break;case 1:if(!sr&&(Nl(p,a),g=p.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=p.memoizedProps,g.state=p.memoizedState,g.componentWillUnmount()}catch(K){an(p,a,K)}ko(s,a,p);break;case 21:ko(s,a,p);break;case 22:p.mode&1?(sr=(g=sr)||p.memoizedState!==null,ko(s,a,p),sr=g):ko(s,a,p);break;default:ko(s,a,p)}}function $x(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new ik),a.forEach(function(g){var E=hk.bind(null,s,g);p.has(g)||(p.add(g),g.then(E,E))})}}function $i(s,a){var p=a.deletions;if(p!==null)for(var g=0;g<p.length;g++){var E=p[g];try{var N=s,F=a,K=F;e:for(;K!==null;){switch(K.tag){case 5:Yn=K.stateNode,Fi=!1;break e;case 3:Yn=K.stateNode.containerInfo,Fi=!0;break e;case 4:Yn=K.stateNode.containerInfo,Fi=!0;break e}K=K.return}if(Yn===null)throw Error(n(160));Fx(N,F,E),Yn=null,Fi=!1;var te=E.alternate;te!==null&&(te.return=null),E.return=null}catch(he){an(E,a,he)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Bx(a,s),a=a.sibling}function Bx(s,a){var p=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if($i(a,s),ms(s),g&4){try{Lc(3,s,s.return),Dd(3,s)}catch(Ge){an(s,s.return,Ge)}try{Lc(5,s,s.return)}catch(Ge){an(s,s.return,Ge)}}break;case 1:$i(a,s),ms(s),g&512&&p!==null&&Nl(p,p.return);break;case 5:if($i(a,s),ms(s),g&512&&p!==null&&Nl(p,p.return),s.flags&32){var E=s.stateNode;try{Gr(E,"")}catch(Ge){an(s,s.return,Ge)}}if(g&4&&(E=s.stateNode,E!=null)){var N=s.memoizedProps,F=p!==null?p.memoizedProps:N,K=s.type,te=s.updateQueue;if(s.updateQueue=null,te!==null)try{K==="input"&&N.type==="radio"&&N.name!=null&&de(E,N),si(K,F);var he=si(K,N);for(F=0;F<te.length;F+=2){var Te=te[F],Ne=te[F+1];Te==="style"?Je(E,Ne):Te==="dangerouslySetInnerHTML"?ki(E,Ne):Te==="children"?Gr(E,Ne):k(E,Te,Ne,he)}switch(K){case"input":Ae(E,N);break;case"textarea":cn(E,N);break;case"select":var Ce=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!N.multiple;var De=N.value;De!=null?dt(E,!!N.multiple,De,!1):Ce!==!!N.multiple&&(N.defaultValue!=null?dt(E,!!N.multiple,N.defaultValue,!0):dt(E,!!N.multiple,N.multiple?[]:"",!1))}E[Ec]=N}catch(Ge){an(s,s.return,Ge)}}break;case 6:if($i(a,s),ms(s),g&4){if(s.stateNode===null)throw Error(n(162));E=s.stateNode,N=s.memoizedProps;try{E.nodeValue=N}catch(Ge){an(s,s.return,Ge)}}break;case 3:if($i(a,s),ms(s),g&4&&p!==null&&p.memoizedState.isDehydrated)try{ee(a.containerInfo)}catch(Ge){an(s,s.return,Ge)}break;case 4:$i(a,s),ms(s);break;case 13:$i(a,s),ms(s),E=s.child,E.flags&8192&&(N=E.memoizedState!==null,E.stateNode.isHidden=N,!N||E.alternate!==null&&E.alternate.memoizedState!==null||(Jh=at())),g&4&&$x(s);break;case 22:if(Te=p!==null&&p.memoizedState!==null,s.mode&1?(sr=(he=sr)||Te,$i(a,s),sr=he):$i(a,s),ms(s),g&8192){if(he=s.memoizedState!==null,(s.stateNode.isHidden=he)&&!Te&&(s.mode&1)!==0)for(Be=s,Te=s.child;Te!==null;){for(Ne=Be=Te;Be!==null;){switch(Ce=Be,De=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:Lc(4,Ce,Ce.return);break;case 1:Nl(Ce,Ce.return);var Ue=Ce.stateNode;if(typeof Ue.componentWillUnmount=="function"){g=Ce,p=Ce.return;try{a=g,Ue.props=a.memoizedProps,Ue.state=a.memoizedState,Ue.componentWillUnmount()}catch(Ge){an(g,p,Ge)}}break;case 5:Nl(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){zx(Ne);continue}}De!==null?(De.return=Ce,Be=De):zx(Ne)}Te=Te.sibling}e:for(Te=null,Ne=s;;){if(Ne.tag===5){if(Te===null){Te=Ne;try{E=Ne.stateNode,he?(N=E.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(K=Ne.stateNode,te=Ne.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null,K.style.display=Ri("display",F))}catch(Ge){an(s,s.return,Ge)}}}else if(Ne.tag===6){if(Te===null)try{Ne.stateNode.nodeValue=he?"":Ne.memoizedProps}catch(Ge){an(s,s.return,Ge)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===s)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===s)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===s)break e;Te===Ne&&(Te=null),Ne=Ne.return}Te===Ne&&(Te=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:$i(a,s),ms(s),g&4&&$x(s);break;case 21:break;default:$i(a,s),ms(s)}}function ms(s){var a=s.flags;if(a&2){try{e:{for(var p=s.return;p!==null;){if(Mx(p)){var g=p;break e}p=p.return}throw Error(n(160))}switch(g.tag){case 5:var E=g.stateNode;g.flags&32&&(Gr(E,""),g.flags&=-33);var N=Dx(s);Kh(s,N,E);break;case 3:case 4:var F=g.stateNode.containerInfo,K=Dx(s);qh(s,K,F);break;default:throw Error(n(161))}}catch(te){an(s,s.return,te)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function ok(s,a,p){Be=s,Vx(s)}function Vx(s,a,p){for(var g=(s.mode&1)!==0;Be!==null;){var E=Be,N=E.child;if(E.tag===22&&g){var F=E.memoizedState!==null||Md;if(!F){var K=E.alternate,te=K!==null&&K.memoizedState!==null||sr;K=Md;var he=sr;if(Md=F,(sr=te)&&!he)for(Be=E;Be!==null;)F=Be,te=F.child,F.tag===22&&F.memoizedState!==null?Wx(E):te!==null?(te.return=F,Be=te):Wx(E);for(;N!==null;)Be=N,Vx(N),N=N.sibling;Be=E,Md=K,sr=he}Ux(s)}else(E.subtreeFlags&8772)!==0&&N!==null?(N.return=E,Be=N):Ux(s)}}function Ux(s){for(;Be!==null;){var a=Be;if((a.flags&8772)!==0){var p=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:sr||Dd(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!sr)if(p===null)g.componentDidMount();else{var E=a.elementType===a.type?p.memoizedProps:Di(a.type,p.memoizedProps);g.componentDidUpdate(E,p.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var N=a.updateQueue;N!==null&&z0(a,N,g);break;case 3:var F=a.updateQueue;if(F!==null){if(p=null,a.child!==null)switch(a.child.tag){case 5:p=a.child.stateNode;break;case 1:p=a.child.stateNode}z0(a,F,p)}break;case 5:var K=a.stateNode;if(p===null&&a.flags&4){p=K;var te=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&p.focus();break;case"img":te.src&&(p.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var he=a.alternate;if(he!==null){var Te=he.memoizedState;if(Te!==null){var Ne=Te.dehydrated;Ne!==null&&ee(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}sr||a.flags&512&&Xh(a)}catch(Ce){an(a,a.return,Ce)}}if(a===s){Be=null;break}if(p=a.sibling,p!==null){p.return=a.return,Be=p;break}Be=a.return}}function zx(s){for(;Be!==null;){var a=Be;if(a===s){Be=null;break}var p=a.sibling;if(p!==null){p.return=a.return,Be=p;break}Be=a.return}}function Wx(s){for(;Be!==null;){var a=Be;try{switch(a.tag){case 0:case 11:case 15:var p=a.return;try{Dd(4,a)}catch(te){an(a,p,te)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var E=a.return;try{g.componentDidMount()}catch(te){an(a,E,te)}}var N=a.return;try{Xh(a)}catch(te){an(a,N,te)}break;case 5:var F=a.return;try{Xh(a)}catch(te){an(a,F,te)}}}catch(te){an(a,a.return,te)}if(a===s){Be=null;break}var K=a.sibling;if(K!==null){K.return=a.return,Be=K;break}Be=a.return}}var ak=Math.ceil,Fd=A.ReactCurrentDispatcher,Zh=A.ReactCurrentOwner,fi=A.ReactCurrentBatchConfig,vt=0,Fn=null,gn=null,Xn=0,Jr=0,kl=Eo(0),Tn=0,Oc=null,Ta=0,$d=0,Qh=0,Mc=null,jr=null,Jh=0,Rl=1/0,Zs=null,Bd=!1,em=null,Ro=null,Vd=!1,Ao=null,Ud=0,Dc=0,tm=null,zd=-1,Wd=0;function pr(){return(vt&6)!==0?at():zd!==-1?zd:zd=at()}function jo(s){return(s.mode&1)===0?1:(vt&2)!==0&&Xn!==0?Xn&-Xn:WN.transition!==null?(Wd===0&&(Wd=go()),Wd):(s=yt,s!==0||(s=window.event,s=s===void 0?16:dc(s.type)),s)}function Bi(s,a,p,g){if(50<Dc)throw Dc=0,tm=null,Error(n(185));ha(s,p,g),((vt&2)===0||s!==Fn)&&(s===Fn&&((vt&2)===0&&($d|=p),Tn===4&&Io(s,Xn)),Ir(s,g),p===1&&vt===0&&(a.mode&1)===0&&(Rl=at()+500,vd&&Co()))}function Ir(s,a){var p=s.callbackNode;Mp(s,a);var g=Us(s,s===Fn?Xn:0);if(g===0)p!==null&&Se(p),s.callbackNode=null,s.callbackPriority=0;else if(a=g&-g,s.callbackPriority!==a){if(p!=null&&Se(p),a===1)s.tag===0?zN(Hx.bind(null,s)):j0(Hx.bind(null,s)),$N(function(){(vt&6)===0&&Co()}),p=null;else{switch(tl(g)){case 1:p=Kt;break;case 4:p=ur;break;case 16:p=er;break;case 536870912:p=It;break;default:p=er}p=e_(p,Gx.bind(null,s))}s.callbackPriority=a,s.callbackNode=p}}function Gx(s,a){if(zd=-1,Wd=0,(vt&6)!==0)throw Error(n(327));var p=s.callbackNode;if(Al()&&s.callbackNode!==p)return null;var g=Us(s,s===Fn?Xn:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||a)a=Gd(s,g);else{a=g;var E=vt;vt|=2;var N=Xx();(Fn!==s||Xn!==a)&&(Zs=null,Rl=at()+500,ka(s,a));do try{uk();break}catch(K){Yx(s,K)}while(!0);xh(),Fd.current=N,vt=E,gn!==null?a=0:(Fn=null,Xn=0,a=Tn)}if(a!==0){if(a===2&&(E=cc(s),E!==0&&(g=E,a=nm(s,E))),a===1)throw p=Oc,ka(s,0),Io(s,g),Ir(s,at()),p;if(a===6)Io(s,g);else{if(E=s.current.alternate,(g&30)===0&&!lk(E)&&(a=Gd(s,g),a===2&&(N=cc(s),N!==0&&(g=N,a=nm(s,N))),a===1))throw p=Oc,ka(s,0),Io(s,g),Ir(s,at()),p;switch(s.finishedWork=E,s.finishedLanes=g,a){case 0:case 1:throw Error(n(345));case 2:Ra(s,jr,Zs);break;case 3:if(Io(s,g),(g&130023424)===g&&(a=Jh+500-at(),10<a)){if(Us(s,0)!==0)break;if(E=s.suspendedLanes,(E&g)!==g){pr(),s.pingedLanes|=s.suspendedLanes&E;break}s.timeoutHandle=lh(Ra.bind(null,s,jr,Zs),a);break}Ra(s,jr,Zs);break;case 4:if(Io(s,g),(g&4194240)===g)break;for(a=s.eventTimes,E=-1;0<g;){var F=31-Sr(g);N=1<<F,F=a[F],F>E&&(E=F),g&=~N}if(g=E,g=at()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*ak(g/1960))-g,10<g){s.timeoutHandle=lh(Ra.bind(null,s,jr,Zs),g);break}Ra(s,jr,Zs);break;case 5:Ra(s,jr,Zs);break;default:throw Error(n(329))}}}return Ir(s,at()),s.callbackNode===p?Gx.bind(null,s):null}function nm(s,a){var p=Mc;return s.current.memoizedState.isDehydrated&&(ka(s,a).flags|=256),s=Gd(s,a),s!==2&&(a=jr,jr=p,a!==null&&rm(a)),s}function rm(s){jr===null?jr=s:jr.push.apply(jr,s)}function lk(s){for(var a=s;;){if(a.flags&16384){var p=a.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var g=0;g<p.length;g++){var E=p[g],N=E.getSnapshot;E=E.value;try{if(!Oi(N(),E))return!1}catch{return!1}}}if(p=a.child,a.subtreeFlags&16384&&p!==null)p.return=a,a=p;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Io(s,a){for(a&=~Qh,a&=~$d,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var p=31-Sr(a),g=1<<p;s[p]=-1,a&=~g}}function Hx(s){if((vt&6)!==0)throw Error(n(327));Al();var a=Us(s,0);if((a&1)===0)return Ir(s,at()),null;var p=Gd(s,a);if(s.tag!==0&&p===2){var g=cc(s);g!==0&&(a=g,p=nm(s,g))}if(p===1)throw p=Oc,ka(s,0),Io(s,a),Ir(s,at()),p;if(p===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ra(s,jr,Zs),Ir(s,at()),null}function im(s,a){var p=vt;vt|=1;try{return s(a)}finally{vt=p,vt===0&&(Rl=at()+500,vd&&Co())}}function Na(s){Ao!==null&&Ao.tag===0&&(vt&6)===0&&Al();var a=vt;vt|=1;var p=fi.transition,g=yt;try{if(fi.transition=null,yt=1,s)return s()}finally{yt=g,fi.transition=p,vt=a,(vt&6)===0&&Co()}}function sm(){Jr=kl.current,Yt(kl)}function ka(s,a){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,FN(p)),gn!==null)for(p=gn.return;p!==null;){var g=p;switch(hh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&gd();break;case 3:Cl(),Yt(kr),Yt(nr),Nh();break;case 5:Ch(g);break;case 4:Cl();break;case 13:Yt(en);break;case 19:Yt(en);break;case 10:_h(g.type._context);break;case 22:case 23:sm()}p=p.return}if(Fn=s,gn=s=Po(s.current,null),Xn=Jr=a,Tn=0,Oc=null,Qh=$d=Ta=0,jr=Mc=null,Ea!==null){for(a=0;a<Ea.length;a++)if(p=Ea[a],g=p.interleaved,g!==null){p.interleaved=null;var E=g.next,N=p.pending;if(N!==null){var F=N.next;N.next=E,g.next=F}p.pending=g}Ea=null}return s}function Yx(s,a){do{var p=gn;try{if(xh(),kd.current=Id,Rd){for(var g=tn.memoizedState;g!==null;){var E=g.queue;E!==null&&(E.pending=null),g=g.next}Rd=!1}if(Ca=0,Dn=Cn=tn=null,Rc=!1,Ac=0,Zh.current=null,p===null||p.return===null){Tn=1,Oc=a,gn=null;break}e:{var N=s,F=p.return,K=p,te=a;if(a=Xn,K.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var he=te,Te=K,Ne=Te.tag;if((Te.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var Ce=Te.alternate;Ce?(Te.updateQueue=Ce.updateQueue,Te.memoizedState=Ce.memoizedState,Te.lanes=Ce.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var De=vx(F);if(De!==null){De.flags&=-257,xx(De,F,K,N,a),De.mode&1&&yx(N,he,a),a=De,te=he;var Ue=a.updateQueue;if(Ue===null){var Ge=new Set;Ge.add(te),a.updateQueue=Ge}else Ue.add(te);break e}else{if((a&1)===0){yx(N,he,a),om();break e}te=Error(n(426))}}else if(Zt&&K.mode&1){var dn=vx(F);if(dn!==null){(dn.flags&65536)===0&&(dn.flags|=256),xx(dn,F,K,N,a),yh(Tl(te,K));break e}}N=te=Tl(te,K),Tn!==4&&(Tn=2),Mc===null?Mc=[N]:Mc.push(N),N=F;do{switch(N.tag){case 3:N.flags|=65536,a&=-a,N.lanes|=a;var ue=mx(N,te,a);U0(N,ue);break e;case 1:K=te;var se=N.type,fe=N.stateNode;if((N.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(Ro===null||!Ro.has(fe)))){N.flags|=65536,a&=-a,N.lanes|=a;var Re=gx(N,K,a);U0(N,Re);break e}}N=N.return}while(N!==null)}Kx(p)}catch(He){a=He,gn===p&&p!==null&&(gn=p=p.return);continue}break}while(!0)}function Xx(){var s=Fd.current;return Fd.current=Id,s===null?Id:s}function om(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),Fn===null||(Ta&268435455)===0&&($d&268435455)===0||Io(Fn,Xn)}function Gd(s,a){var p=vt;vt|=2;var g=Xx();(Fn!==s||Xn!==a)&&(Zs=null,ka(s,a));do try{ck();break}catch(E){Yx(s,E)}while(!0);if(xh(),vt=p,Fd.current=g,gn!==null)throw Error(n(261));return Fn=null,Xn=0,Tn}function ck(){for(;gn!==null;)qx(gn)}function uk(){for(;gn!==null&&!Fe();)qx(gn)}function qx(s){var a=Jx(s.alternate,s,Jr);s.memoizedProps=s.pendingProps,a===null?Kx(s):gn=a,Zh.current=null}function Kx(s){var a=s;do{var p=a.alternate;if(s=a.return,(a.flags&32768)===0){if(p=nk(p,a,Jr),p!==null){gn=p;return}}else{if(p=rk(p,a),p!==null){p.flags&=32767,gn=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Tn=6,gn=null;return}}if(a=a.sibling,a!==null){gn=a;return}gn=a=s}while(a!==null);Tn===0&&(Tn=5)}function Ra(s,a,p){var g=yt,E=fi.transition;try{fi.transition=null,yt=1,dk(s,a,p,g)}finally{fi.transition=E,yt=g}return null}function dk(s,a,p,g){do Al();while(Ao!==null);if((vt&6)!==0)throw Error(n(327));p=s.finishedWork;var E=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var N=p.lanes|p.childLanes;if(uc(s,N),s===Fn&&(gn=Fn=null,Xn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Vd||(Vd=!0,e_(er,function(){return Al(),null})),N=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||N){N=fi.transition,fi.transition=null;var F=yt;yt=1;var K=vt;vt|=4,Zh.current=null,sk(s,p),Bx(p,s),jN(oh),ye=!!sh,oh=sh=null,s.current=p,ok(p),Tt(),vt=K,yt=F,fi.transition=N}else s.current=p;if(Vd&&(Vd=!1,Ao=s,Ud=E),N=s.pendingLanes,N===0&&(Ro=null),Zu(p.stateNode),Ir(s,at()),a!==null)for(g=s.onRecoverableError,p=0;p<a.length;p++)E=a[p],g(E.value,{componentStack:E.stack,digest:E.digest});if(Bd)throw Bd=!1,s=em,em=null,s;return(Ud&1)!==0&&s.tag!==0&&Al(),N=s.pendingLanes,(N&1)!==0?s===tm?Dc++:(Dc=0,tm=s):Dc=0,Co(),null}function Al(){if(Ao!==null){var s=tl(Ud),a=fi.transition,p=yt;try{if(fi.transition=null,yt=16>s?16:s,Ao===null)var g=!1;else{if(s=Ao,Ao=null,Ud=0,(vt&6)!==0)throw Error(n(331));var E=vt;for(vt|=4,Be=s.current;Be!==null;){var N=Be,F=N.child;if((Be.flags&16)!==0){var K=N.deletions;if(K!==null){for(var te=0;te<K.length;te++){var he=K[te];for(Be=he;Be!==null;){var Te=Be;switch(Te.tag){case 0:case 11:case 15:Lc(8,Te,N)}var Ne=Te.child;if(Ne!==null)Ne.return=Te,Be=Ne;else for(;Be!==null;){Te=Be;var Ce=Te.sibling,De=Te.return;if(Ox(Te),Te===he){Be=null;break}if(Ce!==null){Ce.return=De,Be=Ce;break}Be=De}}}var Ue=N.alternate;if(Ue!==null){var Ge=Ue.child;if(Ge!==null){Ue.child=null;do{var dn=Ge.sibling;Ge.sibling=null,Ge=dn}while(Ge!==null)}}Be=N}}if((N.subtreeFlags&2064)!==0&&F!==null)F.return=N,Be=F;else e:for(;Be!==null;){if(N=Be,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Lc(9,N,N.return)}var ue=N.sibling;if(ue!==null){ue.return=N.return,Be=ue;break e}Be=N.return}}var se=s.current;for(Be=se;Be!==null;){F=Be;var fe=F.child;if((F.subtreeFlags&2064)!==0&&fe!==null)fe.return=F,Be=fe;else e:for(F=se;Be!==null;){if(K=Be,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Dd(9,K)}}catch(He){an(K,K.return,He)}if(K===F){Be=null;break e}var Re=K.sibling;if(Re!==null){Re.return=K.return,Be=Re;break e}Be=K.return}}if(vt=E,Co(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Pi,s)}catch{}g=!0}return g}finally{yt=p,fi.transition=a}}return!1}function Zx(s,a,p){a=Tl(p,a),a=mx(s,a,1),s=No(s,a,1),a=pr(),s!==null&&(ha(s,1,a),Ir(s,a))}function an(s,a,p){if(s.tag===3)Zx(s,s,p);else for(;a!==null;){if(a.tag===3){Zx(a,s,p);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ro===null||!Ro.has(g))){s=Tl(p,s),s=gx(a,s,1),a=No(a,s,1),s=pr(),a!==null&&(ha(a,1,s),Ir(a,s));break}}a=a.return}}function fk(s,a,p){var g=s.pingCache;g!==null&&g.delete(a),a=pr(),s.pingedLanes|=s.suspendedLanes&p,Fn===s&&(Xn&p)===p&&(Tn===4||Tn===3&&(Xn&130023424)===Xn&&500>at()-Jh?ka(s,0):Qh|=p),Ir(s,a)}function Qx(s,a){a===0&&((s.mode&1)===0?a=1:(a=Vs,Vs<<=1,(Vs&130023424)===0&&(Vs=4194304)));var p=pr();s=Xs(s,a),s!==null&&(ha(s,a,p),Ir(s,p))}function pk(s){var a=s.memoizedState,p=0;a!==null&&(p=a.retryLane),Qx(s,p)}function hk(s,a){var p=0;switch(s.tag){case 13:var g=s.stateNode,E=s.memoizedState;E!==null&&(p=E.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(a),Qx(s,p)}var Jx;Jx=function(s,a,p){if(s!==null)if(s.memoizedProps!==a.pendingProps||kr.current)Ar=!0;else{if((s.lanes&p)===0&&(a.flags&128)===0)return Ar=!1,tk(s,a,p);Ar=(s.flags&131072)!==0}else Ar=!1,Zt&&(a.flags&1048576)!==0&&I0(a,_d,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;Od(s,a),s=a.pendingProps;var E=vl(a,nr.current);Sl(a,p),E=Ah(null,a,g,s,E,p);var N=jh();return a.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Rr(g)?(N=!0,yd(a)):N=!1,a.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Eh(a),E.updater=Pd,a.stateNode=E,E._reactInternals=a,Dh(a,g,s,p),a=Vh(null,a,g,!0,N,p)):(a.tag=0,Zt&&N&&ph(a),fr(null,a,E,p),a=a.child),a;case 16:g=a.elementType;e:{switch(Od(s,a),s=a.pendingProps,E=g._init,g=E(g._payload),a.type=g,E=a.tag=gk(g),s=Di(g,s),E){case 0:a=Bh(null,a,g,s,p);break e;case 1:a=Cx(null,a,g,s,p);break e;case 11:a=_x(null,a,g,s,p);break e;case 14:a=wx(null,a,g,Di(g.type,s),p);break e}throw Error(n(306,g,""))}return a;case 0:return g=a.type,E=a.pendingProps,E=a.elementType===g?E:Di(g,E),Bh(s,a,g,E,p);case 1:return g=a.type,E=a.pendingProps,E=a.elementType===g?E:Di(g,E),Cx(s,a,g,E,p);case 3:e:{if(Tx(a),s===null)throw Error(n(387));g=a.pendingProps,N=a.memoizedState,E=N.element,V0(s,a),Td(a,g,null,p);var F=a.memoizedState;if(g=F.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},a.updateQueue.baseState=N,a.memoizedState=N,a.flags&256){E=Tl(Error(n(423)),a),a=Nx(s,a,g,p,E);break e}else if(g!==E){E=Tl(Error(n(424)),a),a=Nx(s,a,g,p,E);break e}else for(Qr=bo(a.stateNode.containerInfo.firstChild),Zr=a,Zt=!0,Mi=null,p=$0(a,null,g,p),a.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(wl(),g===E){a=Ks(s,a,p);break e}fr(s,a,g,p)}a=a.child}return a;case 5:return W0(a),s===null&&gh(a),g=a.type,E=a.pendingProps,N=s!==null?s.memoizedProps:null,F=E.children,ah(g,E)?F=null:N!==null&&ah(g,N)&&(a.flags|=32),Sx(s,a),fr(s,a,F,p),a.child;case 6:return s===null&&gh(a),null;case 13:return kx(s,a,p);case 4:return Sh(a,a.stateNode.containerInfo),g=a.pendingProps,s===null?a.child=bl(a,null,g,p):fr(s,a,g,p),a.child;case 11:return g=a.type,E=a.pendingProps,E=a.elementType===g?E:Di(g,E),_x(s,a,g,E,p);case 7:return fr(s,a,a.pendingProps,p),a.child;case 8:return fr(s,a,a.pendingProps.children,p),a.child;case 12:return fr(s,a,a.pendingProps.children,p),a.child;case 10:e:{if(g=a.type._context,E=a.pendingProps,N=a.memoizedProps,F=E.value,Bt(Ed,g._currentValue),g._currentValue=F,N!==null)if(Oi(N.value,F)){if(N.children===E.children&&!kr.current){a=Ks(s,a,p);break e}}else for(N=a.child,N!==null&&(N.return=a);N!==null;){var K=N.dependencies;if(K!==null){F=N.child;for(var te=K.firstContext;te!==null;){if(te.context===g){if(N.tag===1){te=qs(-1,p&-p),te.tag=2;var he=N.updateQueue;if(he!==null){he=he.shared;var Te=he.pending;Te===null?te.next=te:(te.next=Te.next,Te.next=te),he.pending=te}}N.lanes|=p,te=N.alternate,te!==null&&(te.lanes|=p),wh(N.return,p,a),K.lanes|=p;break}te=te.next}}else if(N.tag===10)F=N.type===a.type?null:N.child;else if(N.tag===18){if(F=N.return,F===null)throw Error(n(341));F.lanes|=p,K=F.alternate,K!==null&&(K.lanes|=p),wh(F,p,a),F=N.sibling}else F=N.child;if(F!==null)F.return=N;else for(F=N;F!==null;){if(F===a){F=null;break}if(N=F.sibling,N!==null){N.return=F.return,F=N;break}F=F.return}N=F}fr(s,a,E.children,p),a=a.child}return a;case 9:return E=a.type,g=a.pendingProps.children,Sl(a,p),E=ui(E),g=g(E),a.flags|=1,fr(s,a,g,p),a.child;case 14:return g=a.type,E=Di(g,a.pendingProps),E=Di(g.type,E),wx(s,a,g,E,p);case 15:return bx(s,a,a.type,a.pendingProps,p);case 17:return g=a.type,E=a.pendingProps,E=a.elementType===g?E:Di(g,E),Od(s,a),a.tag=1,Rr(g)?(s=!0,yd(a)):s=!1,Sl(a,p),px(a,g,E),Dh(a,g,E,p),Vh(null,a,g,!0,s,p);case 19:return Ax(s,a,p);case 22:return Ex(s,a,p)}throw Error(n(156,a.tag))};function e_(s,a){return ne(s,a)}function mk(s,a,p,g){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(s,a,p,g){return new mk(s,a,p,g)}function am(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gk(s){if(typeof s=="function")return am(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Q)return 11;if(s===J)return 14}return 2}function Po(s,a){var p=s.alternate;return p===null?(p=pi(s.tag,a,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=a,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,a=s.dependencies,p.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Hd(s,a,p,g,E,N){var F=2;if(g=s,typeof s=="function")am(s)&&(F=1);else if(typeof s=="string")F=5;else e:switch(s){case O:return Aa(p.children,E,N,a);case B:F=8,E|=8;break;case W:return s=pi(12,p,a,E|2),s.elementType=W,s.lanes=N,s;case M:return s=pi(13,p,a,E),s.elementType=M,s.lanes=N,s;case G:return s=pi(19,p,a,E),s.elementType=G,s.lanes=N,s;case U:return Yd(p,E,N,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:F=10;break e;case $:F=9;break e;case Q:F=11;break e;case J:F=14;break e;case X:F=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=pi(F,p,a,E),a.elementType=s,a.type=g,a.lanes=N,a}function Aa(s,a,p,g){return s=pi(7,s,g,a),s.lanes=p,s}function Yd(s,a,p,g){return s=pi(22,s,g,a),s.elementType=U,s.lanes=p,s.stateNode={isHidden:!1},s}function lm(s,a,p){return s=pi(6,s,null,a),s.lanes=p,s}function cm(s,a,p){return a=pi(4,s.children!==null?s.children:[],s.key,a),a.lanes=p,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function yk(s,a,p,g,E){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ja(0),this.expirationTimes=Ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.identifierPrefix=g,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function um(s,a,p,g,E,N,F,K,te){return s=new yk(s,a,p,K,te),a===1?(a=1,N===!0&&(a|=8)):a=0,N=pi(3,null,null,a),s.current=N,N.stateNode=s,N.memoizedState={element:g,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eh(N),s}function vk(s,a,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:g==null?null:""+g,children:s,containerInfo:a,implementation:p}}function t_(s){if(!s)return So;s=s._reactInternals;e:{if(oi(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Rr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var p=s.type;if(Rr(p))return R0(s,p,a)}return a}function n_(s,a,p,g,E,N,F,K,te){return s=um(p,g,!0,s,E,N,F,K,te),s.context=t_(null),p=s.current,g=pr(),E=jo(p),N=qs(g,E),N.callback=a??null,No(p,N,E),s.current.lanes=E,ha(s,E,g),Ir(s,g),s}function Xd(s,a,p,g){var E=a.current,N=pr(),F=jo(E);return p=t_(p),a.context===null?a.context=p:a.pendingContext=p,a=qs(N,F),a.payload={element:s},g=g===void 0?null:g,g!==null&&(a.callback=g),s=No(E,a,F),s!==null&&(Bi(s,E,F,N),Cd(s,E,F)),F}function qd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function r_(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<a?p:a}}function dm(s,a){r_(s,a),(s=s.alternate)&&r_(s,a)}function xk(){return null}var i_=typeof reportError=="function"?reportError:function(s){console.error(s)};function fm(s){this._internalRoot=s}Kd.prototype.render=fm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Xd(s,a,null,null)},Kd.prototype.unmount=fm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Na(function(){Xd(null,s,null,null)}),a[Ws]=null}};function Kd(s){this._internalRoot=s}Kd.prototype.unstable_scheduleHydration=function(s){if(s){var a=as();s={blockedOn:null,target:s,priority:a};for(var p=0;p<Li.length&&a!==0&&a<Li[p].priority;p++);Li.splice(p,0,s),p===0&&rl(s)}};function pm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Zd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function s_(){}function _k(s,a,p,g,E){if(E){if(typeof g=="function"){var N=g;g=function(){var he=qd(F);N.call(he)}}var F=n_(a,g,s,0,null,!1,!1,"",s_);return s._reactRootContainer=F,s[Ws]=F.current,wc(s.nodeType===8?s.parentNode:s),Na(),F}for(;E=s.lastChild;)s.removeChild(E);if(typeof g=="function"){var K=g;g=function(){var he=qd(te);K.call(he)}}var te=um(s,0,!1,null,null,!1,!1,"",s_);return s._reactRootContainer=te,s[Ws]=te.current,wc(s.nodeType===8?s.parentNode:s),Na(function(){Xd(a,te,p,g)}),te}function Qd(s,a,p,g,E){var N=p._reactRootContainer;if(N){var F=N;if(typeof E=="function"){var K=E;E=function(){var te=qd(F);K.call(te)}}Xd(a,F,s,E)}else F=_k(p,a,s,E,g);return qd(F)}Qu=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var p=os(a.pendingLanes);p!==0&&(el(a,p|1),Ir(a,at()),(vt&6)===0&&(Rl=at()+500,Co()))}break;case 13:Na(function(){var g=Xs(s,1);if(g!==null){var E=pr();Bi(g,s,1,E)}}),dm(s,1)}},yo=function(s){if(s.tag===13){var a=Xs(s,134217728);if(a!==null){var p=pr();Bi(a,s,134217728,p)}dm(s,134217728)}},ma=function(s){if(s.tag===13){var a=jo(s),p=Xs(s,a);if(p!==null){var g=pr();Bi(p,s,a,g)}dm(s,a)}},as=function(){return yt},nl=function(s,a){var p=yt;try{return yt=s,a()}finally{yt=p}},bn=function(s,a,p){switch(a){case"input":if(Ae(s,p),a=p.name,p.type==="radio"&&a!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<p.length;a++){var g=p[a];if(g!==s&&g.form===s.form){var E=md(g);if(!E)throw Error(n(90));ge(g),Ae(g,E)}}}break;case"textarea":cn(s,p);break;case"select":a=p.value,a!=null&&dt(s,!!p.multiple,a,!1)}},qt=im,on=Na;var wk={usingClientEntryPoint:!1,Events:[Sc,gl,md,je,Qa,im]},Fc={findFiberByHostInstance:xa,bundleType:0,version:"18.3.0",rendererPackageName:"react-dom"},bk={bundleType:Fc.bundleType,version:Fc.version,rendererPackageName:Fc.rendererPackageName,rendererConfig:Fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=pa(s),s===null?null:s.stateNode},findFiberByHostInstance:Fc.findFiberByHostInstance||xk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.0-next-8a015b68cc-20240425"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{Pi=Jd.inject(bk),tr=Jd}catch{}}return Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wk,Pr.createPortal=function(s,a){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pm(a))throw Error(n(200));return vk(s,a,null,p)},Pr.createRoot=function(s,a){if(!pm(s))throw Error(n(299));var p=!1,g="",E=i_;return a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=um(s,1,!1,null,null,p,!1,g,E),s[Ws]=a.current,wc(s.nodeType===8?s.parentNode:s),new fm(a)},Pr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=pa(a),s=s===null?null:s.stateNode,s},Pr.flushSync=function(s){return Na(s)},Pr.hydrate=function(s,a,p){if(!Zd(a))throw Error(n(200));return Qd(null,s,a,!0,p)},Pr.hydrateRoot=function(s,a,p){if(!pm(s))throw Error(n(405));var g=p!=null&&p.hydratedSources||null,E=!1,N="",F=i_;if(p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onRecoverableError!==void 0&&(F=p.onRecoverableError)),a=n_(a,null,s,1,p??null,E,!1,N,F),s[Ws]=a.current,wc(s),g)for(s=0;s<g.length;s++)p=g[s],E=p._getVersion,E=E(p._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[p,E]:a.mutableSourceEagerHydrationData.push(p,E);return new Kd(a)},Pr.render=function(s,a,p){if(!Zd(a))throw Error(n(200));return Qd(null,s,a,!1,p)},Pr.unmountComponentAtNode=function(s){if(!Zd(s))throw Error(n(40));return s._reactRootContainer?(Na(function(){Qd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ws]=null})}),!0):!1},Pr.unstable_batchedUpdates=im,Pr.unstable_renderSubtreeIntoContainer=function(s,a,p,g){if(!Zd(p))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Qd(s,a,p,!1,g)},Pr.version="18.3.0-next-8a015b68cc-20240425",Pr}var p_;function x1(){if(p_)return gm.exports;p_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gm.exports=Ik(),gm.exports}var h_;function Pk(){if(h_)return ef;h_=1;var e=x1();return ef.createRoot=e.createRoot,ef.hydrateRoot=e.hydrateRoot,ef}var Lk=Pk(),Ey=x1();function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bu.apply(this,arguments)}var zo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zo||(zo={}));const m_="popstate";function Ok(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:l,hash:c}=r.location;return hg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:If(i)}return Dk(t,n,null,e)}function pn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mk(){return Math.random().toString(36).substr(2,8)}function g_(e,t){return{usr:e.state,key:e.key,idx:t}}function hg(e,t,n,r){return n===void 0&&(n=null),bu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ql(t):t,{state:n,key:t&&t.key||r||Mk()})}function If(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ql(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Dk(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c=zo.Pop,u=null,d=h();d==null&&(d=0,l.replaceState(bu({},l.state,{idx:d}),""));function h(){return(l.state||{idx:null}).idx}function m(){c=zo.Pop;let T=h(),S=T==null?null:T-d;d=T,u&&u({action:c,location:b.location,delta:S})}function v(T,S){c=zo.Push;let R=hg(b.location,T,S);d=h()+1;let k=g_(R,d),A=b.createHref(R);try{l.pushState(k,"",A)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(A)}o&&u&&u({action:c,location:b.location,delta:1})}function x(T,S){c=zo.Replace;let R=hg(b.location,T,S);d=h();let k=g_(R,d),A=b.createHref(R);l.replaceState(k,"",A),o&&u&&u({action:c,location:b.location,delta:0})}function w(T){let S=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof T=="string"?T:If(T);return R=R.replace(/ $/,"%20"),pn(S,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,S)}let b={get action(){return c},get location(){return e(i,l)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(m_,m),u=T,()=>{i.removeEventListener(m_,m),u=null}},createHref(T){return t(i,T)},createURL:w,encodeLocation(T){let S=w(T);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:x,go(T){return l.go(T)}};return b}var y_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(y_||(y_={}));function Fk(e,t,n){return n===void 0&&(n="/"),$k(e,t,n)}function $k(e,t,n,r){let i=typeof t=="string"?Ql(t):t,o=Cy(i.pathname||"/",n);if(o==null)return null;let l=_1(e);Bk(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let d=Qk(o);c=qk(l[u],d)}return c}function _1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(pn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=qo([r,u.relativePath]),h=n.concat(u);o.children&&o.children.length>0&&(pn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),_1(o.children,t,h,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:Yk(d,o.index),routesMeta:h})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of w1(o.path))i(o,l,u)}),t}function w1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=w1(r.join("/")),c=[];return c.push(...l.map(u=>u===""?o:[o,u].join("/"))),i&&c.push(...l),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function Bk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Xk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Vk=/^:[\w-]+$/,Uk=3,zk=2,Wk=1,Gk=10,Hk=-2,v_=e=>e==="*";function Yk(e,t){let n=e.split("/"),r=n.length;return n.some(v_)&&(r+=Hk),t&&(r+=zk),n.filter(i=>!v_(i)).reduce((i,o)=>i+(Vk.test(o)?Uk:o===""?Wk:Gk),r)}function Xk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function qk(e,t,n){let{routesMeta:r}=e,i={},o="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",m=Kk({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),v=u.route;if(!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:qo([o,m.pathname]),pathnameBase:r2(qo([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=qo([o,m.pathnameBase]))}return l}function Kk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Zk(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,h,m)=>{let{paramName:v,isOptional:x}=h;if(v==="*"){let b=c[m]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const w=c[m];return x&&!w?d[v]=void 0:d[v]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:e}}function Zk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Sy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Qk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Jk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e2=e=>Jk.test(e);function t2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ql(e):e,o;if(n)if(e2(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Sy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?o=x_(n.substring(1),"/"):o=x_(n,t)}else o=t;return{pathname:o,search:i2(r),hash:s2(i)}}function x_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ty(e,t){let n=n2(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ny(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ql(e):(i=bu({},e),pn(!i.pathname||!i.pathname.includes("?"),xm("?","pathname","search",i)),pn(!i.pathname||!i.pathname.includes("#"),xm("#","pathname","hash",i)),pn(!i.search||!i.search.includes("#"),xm("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?t[m]:"/"}let u=t2(i,c),d=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const qo=e=>e.join("/").replace(/\/\/+/g,"/"),r2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function o2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const b1=["post","put","patch","delete"];new Set(b1);const a2=["get",...b1];new Set(a2);function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eu.apply(this,arguments)}const ky=y.createContext(null),l2=y.createContext(null),oa=y.createContext(null),sp=y.createContext(null),uo=y.createContext({outlet:null,matches:[],isDataRoute:!1}),E1=y.createContext(null);function c2(e,t){let{relative:n}=t===void 0?{}:t;Jl()||pn(!1);let{basename:r,navigator:i}=y.useContext(oa),{hash:o,pathname:l,search:c}=C1(e,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:qo([r,l])),i.createHref({pathname:u,search:c,hash:o})}function Jl(){return y.useContext(sp)!=null}function ec(){return Jl()||pn(!1),y.useContext(sp).location}function S1(e){y.useContext(oa).static||y.useLayoutEffect(e)}function Qn(){let{isDataRoute:e}=y.useContext(uo);return e?b2():u2()}function u2(){Jl()||pn(!1);let e=y.useContext(ky),{basename:t,future:n,navigator:r}=y.useContext(oa),{matches:i}=y.useContext(uo),{pathname:o}=ec(),l=JSON.stringify(Ty(i,n.v7_relativeSplatPath)),c=y.useRef(!1);return S1(()=>{c.current=!0}),y.useCallback(function(d,h){if(h===void 0&&(h={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let m=Ny(d,JSON.parse(l),o,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:qo([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,l,o,e])}function Ry(){let{matches:e}=y.useContext(uo),t=e[e.length-1];return t?t.params:{}}function C1(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(oa),{matches:i}=y.useContext(uo),{pathname:o}=ec(),l=JSON.stringify(Ty(i,r.v7_relativeSplatPath));return y.useMemo(()=>Ny(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function d2(e,t){return f2(e,t)}function f2(e,t,n,r){Jl()||pn(!1);let{navigator:i}=y.useContext(oa),{matches:o}=y.useContext(uo),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=ec(),h;if(t){var m;let T=typeof t=="string"?Ql(t):t;u==="/"||(m=T.pathname)!=null&&m.startsWith(u)||pn(!1),h=T}else h=d;let v=h.pathname||"/",x=v;if(u!=="/"){let T=u.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=Fk(e,{pathname:x}),b=y2(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:qo([u,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:qo([u,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return t&&b?y.createElement(sp.Provider,{value:{location:Eu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:zo.Pop}},b):b}function p2(){let e=w2(),t=o2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:i},n):null,null)}const h2=y.createElement(p2,null);class m2 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(uo.Provider,{value:this.props.routeContext},y.createElement(E1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g2(e){let{routeContext:t,match:n,children:r}=e,i=y.useContext(ky);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(uo.Provider,{value:t},r)}function y2(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=(i=n)==null?void 0:i.errors;if(c!=null){let h=l.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);h>=0||pn(!1),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:v,errors:x}=n,w=m.route.loader&&v[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||w){u=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((h,m,v)=>{let x,w=!1,b=null,T=null;n&&(x=c&&m.route.id?c[m.route.id]:void 0,b=m.route.errorElement||h2,u&&(d<0&&v===0?(E2("route-fallback"),w=!0,T=null):d===v&&(w=!0,T=m.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,v+1)),R=()=>{let k;return x?k=b:w?k=T:m.route.Component?k=y.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=h,y.createElement(g2,{match:m,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?y.createElement(m2,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):R()},null)}var T1=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(T1||{}),N1=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(N1||{});function v2(e){let t=y.useContext(ky);return t||pn(!1),t}function x2(e){let t=y.useContext(l2);return t||pn(!1),t}function _2(e){let t=y.useContext(uo);return t||pn(!1),t}function k1(e){let t=_2(),n=t.matches[t.matches.length-1];return n.route.id||pn(!1),n.route.id}function w2(){var e;let t=y.useContext(E1),n=x2(),r=k1();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function b2(){let{router:e}=v2(T1.UseNavigateStable),t=k1(N1.UseNavigateStable),n=y.useRef(!1);return S1(()=>{n.current=!0}),y.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Eu({fromRouteId:t},o)))},[e,t])}const __={};function E2(e,t,n){__[e]||(__[e]=!0)}function S2(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function R1(e){let{to:t,replace:n,state:r,relative:i}=e;Jl()||pn(!1);let{future:o,static:l}=y.useContext(oa),{matches:c}=y.useContext(uo),{pathname:u}=ec(),d=Qn(),h=Ny(t,Ty(c,o.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(h);return y.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:i}),[d,m,i,n,r]),null}function An(e){pn(!1)}function C2(e){let{basename:t="/",children:n=null,location:r,navigationType:i=zo.Pop,navigator:o,static:l=!1,future:c}=e;Jl()&&pn(!1);let u=t.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:u,navigator:o,static:l,future:Eu({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);typeof r=="string"&&(r=Ql(r));let{pathname:h="/",search:m="",hash:v="",state:x=null,key:w="default"}=r,b=y.useMemo(()=>{let T=Cy(h,u);return T==null?null:{location:{pathname:T,search:m,hash:v,state:x,key:w},navigationType:i}},[u,h,m,v,x,w,i]);return b==null?null:y.createElement(oa.Provider,{value:d},y.createElement(sp.Provider,{children:n,value:b}))}function Pu(e){let{children:t,location:n}=e;return d2(mg(t),n)}new Promise(()=>{});function mg(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,i)=>{if(!y.isValidElement(r))return;let o=[...t,i];if(r.type===y.Fragment){n.push.apply(n,mg(r.props.children,o));return}r.type!==An&&pn(!1),!r.props.index||!r.props.children||pn(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=mg(r.props.children,o)),n.push(l)}),n}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gg.apply(this,arguments)}function T2(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function N2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function k2(e,t){return e.button===0&&(!t||t==="_self")&&!N2(e)}function yg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function R2(e,t){let n=yg(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const A2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],j2="6";try{window.__reactRouterVersion=j2}catch{}const I2="startTransition",w_=wu[I2];function P2(e){let{basename:t,children:n,future:r,window:i}=e,o=y.useRef();o.current==null&&(o.current=Ok({window:i,v5Compat:!0}));let l=o.current,[c,u]=y.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=y.useCallback(m=>{d&&w_?w_(()=>u(m)):u(m)},[u,d]);return y.useLayoutEffect(()=>l.listen(h),[l,h]),y.useEffect(()=>S2(r),[r]),y.createElement(C2,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const L2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=y.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:c,target:u,to:d,preventScrollReset:h,viewTransition:m}=t,v=T2(t,A2),{basename:x}=y.useContext(oa),w,b=!1;if(typeof d=="string"&&O2.test(d)&&(w=d,L2))try{let k=new URL(window.location.href),A=d.startsWith("//")?new URL(k.protocol+d):new URL(d),I=Cy(A.pathname,x);A.origin===k.origin&&I!=null?d=I+A.search+A.hash:b=!0}catch{}let T=c2(d,{relative:i}),S=M2(d,{replace:l,state:c,target:u,preventScrollReset:h,relative:i,viewTransition:m});function R(k){r&&r(k),k.defaultPrevented||S(k)}return y.createElement("a",gg({},v,{href:w||T,onClick:b||o?r:R,ref:n,target:u}))});var b_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(b_||(b_={}));var E_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(E_||(E_={}));function M2(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:c}=t===void 0?{}:t,u=Qn(),d=ec(),h=C1(e,{relative:l});return y.useCallback(m=>{if(k2(m,n)){m.preventDefault();let v=r!==void 0?r:If(d)===If(h);u(e,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[d,u,h,r,i,n,e,o,l,c])}function D2(e){let t=y.useRef(yg(e)),n=y.useRef(!1),r=ec(),i=y.useMemo(()=>R2(r.search,n.current?null:t.current),[r.search]),o=Qn(),l=y.useCallback((c,u)=>{const d=yg(typeof c=="function"?c(i):c);n.current=!0,o("?"+d,u)},[o,i]);return[i,l]}const Wi={graphemeId:null,useNoGlyph:!1},F2={wordSeparator:{...Wi},sentenceSeparator:{...Wi},comma:{...Wi},questionMark:{...Wi},exclamationMark:{...Wi},colon:{...Wi},semicolon:{...Wi},ellipsis:{...Wi},quotationOpen:{...Wi},quotationClose:{...Wi}},$2={glyphDirection:"ltr",wordOrder:"ltr",lineProgression:"ttb",glyphStacking:"horizontal",wordWrap:"word",baselineAlignment:"bottom"},Pf={conlangName:"",simpleScriptSystem:!1,defaultGalleryView:"compact",autoSaveInterval:0,autoManageGlyphs:!1,punctuation:{...F2},writingSystem:{...$2},customCharts:[]};var _m={exports:{}};const B2={},V2=Object.freeze(Object.defineProperty({__proto__:null,default:B2},Symbol.toStringTag,{value:"Module"})),Lf=Tk(V2);var S_;function U2(){return S_||(S_=1,(function(e,t){var n=void 0,r=function(i){return n||(n=new Promise(function(o,l){var c=typeof i<"u"?i:{},u=c.onAbort;c.onAbort=function(_){l(new Error(_)),u&&u(_)},c.postRun=c.postRun||[],c.postRun.push(function(){o(c)}),e=void 0;var d;d||=typeof c<"u"?c:{};var h=typeof window=="object",m=typeof WorkerGlobalScope<"u",v=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";d.onRuntimeInitialized=function(){function _(le,_e){switch(typeof _e){case"boolean":Xp(le,_e?1:0);break;case"number":nd(le,_e);break;case"string":Hp(le,_e,-1,-1);break;case"object":if(_e===null)rd(le);else if(_e.length!=null){var We=ma(_e,yo);Yp(le,We,_e.length,-1),cs(We)}else _o(le,"Wrong API use : tried to return a value of an unknown type ("+_e+").",-1);break;default:rd(le)}}function C(le,_e){for(var We=[],Ke=0;Ke<le;Ke+=1){var it=ge(_e+4*Ke,"i32"),Et=Vp(it);if(Et===1||Et===2)it=Gp(it);else if(Et===3)it=zp(it);else if(Et===4){Et=it,it=Up(Et),Et=Wp(Et);for(var Kr=new Uint8Array(it),Nr=0;Nr<it;Nr+=1)Kr[Nr]=D[Et+Nr];it=Kr}else it=null;We.push(it)}return We}function L(le,_e){this.Qa=le,this.db=_e,this.Oa=1,this.lb=[]}function z(le,_e){if(this.db=_e,_e=_n(le)+1,this.eb=zs(_e),this.eb===null)throw Error("Unable to allocate memory for the SQL string");At(le,$,this.eb,_e),this.kb=this.eb,this.Za=this.pb=null}function ee(le){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),le!=null){var _e=this.filename,We="/",Ke=_e;if(We&&(We=typeof We=="string"?We:Ds(We),Ke=_e?kt(We+"/"+_e):We),_e=Jn(!0,!0),Ke=ne(Ke,_e),le){if(typeof le=="string"){We=Array(le.length);for(var it=0,Et=le.length;it<Et;++it)We[it]=le.charCodeAt(it);le=We}er(Ke,_e|146),We=It(Ke,577),Sr(We,le,0,le.length,0),Pi(We),er(Ke,_e)}}this.handleError(Ye(this.filename,ce)),this.db=ge(ce,"i32"),sd(this.db),this.fb={},this.Sa={}}var ce=Tr(4),ye=d.cwrap,Ye=ye("sqlite3_open","number",["string","number"]),lt=ye("sqlite3_close_v2","number",["number"]),st=ye("sqlite3_exec","number",["number","string","number","number","number"]),Lt=ye("sqlite3_changes","number",["number"]),Mn=ye("sqlite3_prepare_v2","number",["number","string","number","number","number"]),dc=ye("sqlite3_sql","string",["number"]),us=ye("sqlite3_normalized_sql","string",["number"]),il=ye("sqlite3_prepare_v2","number",["number","number","number","number","number"]),sl=ye("sqlite3_bind_text","number",["number","number","number","number","number"]),fc=ye("sqlite3_bind_blob","number",["number","number","number","number","number"]),ol=ye("sqlite3_bind_double","number",["number","number","number"]),al=ye("sqlite3_bind_int","number",["number","number","number"]),ed=ye("sqlite3_bind_parameter_index","number",["number","string"]),dr=ye("sqlite3_step","number",["number"]),xo=ye("sqlite3_errmsg","string",["number"]),pc=ye("sqlite3_column_count","number",["number"]),ya=ye("sqlite3_data_count","number",["number"]),Dp=ye("sqlite3_column_double","number",["number","number"]),ll=ye("sqlite3_column_text","string",["number","number"]),hc=ye("sqlite3_column_blob","number",["number","number"]),va=ye("sqlite3_column_bytes","number",["number","number"]),cl=ye("sqlite3_column_type","number",["number","number"]),td=ye("sqlite3_column_name","string",["number","number"]),Fp=ye("sqlite3_reset","number",["number"]),$p=ye("sqlite3_clear_bindings","number",["number"]),Bp=ye("sqlite3_finalize","number",["number"]),ul=ye("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Vp=ye("sqlite3_value_type","number",["number"]),Up=ye("sqlite3_value_bytes","number",["number"]),zp=ye("sqlite3_value_text","string",["number"]),Wp=ye("sqlite3_value_blob","number",["number"]),Gp=ye("sqlite3_value_double","number",["number"]),nd=ye("sqlite3_result_double","",["number","number"]),rd=ye("sqlite3_result_null","",["number"]),Hp=ye("sqlite3_result_text","",["number","string","number","number"]),Yp=ye("sqlite3_result_blob","",["number","number","number","number"]),Xp=ye("sqlite3_result_int","",["number","number"]),_o=ye("sqlite3_result_error","",["number","string","number"]),id=ye("sqlite3_aggregate_context","number",["number","number"]),sd=ye("RegisterExtensionFunctions","number",["number"]),od=ye("sqlite3_update_hook","number",["number","number","number"]);L.prototype.bind=function(le){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(le)?this.Cb(le):le!=null&&typeof le=="object"?this.Db(le):!0},L.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var le=dr(this.Qa);switch(le){case 100:return!0;case 101:return!1;default:throw this.db.handleError(le)}},L.prototype.wb=function(le){return le==null&&(le=this.Oa,this.Oa+=1),Dp(this.Qa,le)},L.prototype.Gb=function(le){if(le==null&&(le=this.Oa,this.Oa+=1),le=ll(this.Qa,le),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(le)},L.prototype.Hb=function(le){return le==null&&(le=this.Oa,this.Oa+=1),ll(this.Qa,le)},L.prototype.getBlob=function(le){le==null&&(le=this.Oa,this.Oa+=1);var _e=va(this.Qa,le);le=hc(this.Qa,le);for(var We=new Uint8Array(_e),Ke=0;Ke<_e;Ke+=1)We[Ke]=D[le+Ke];return We},L.prototype.get=function(le,_e){_e=_e||{},le!=null&&this.bind(le)&&this.step(),le=[];for(var We=ya(this.Qa),Ke=0;Ke<We;Ke+=1)switch(cl(this.Qa,Ke)){case 1:var it=_e.useBigInt?this.Gb(Ke):this.wb(Ke);le.push(it);break;case 2:le.push(this.wb(Ke));break;case 3:le.push(this.Hb(Ke));break;case 4:le.push(this.getBlob(Ke));break;default:le.push(null)}return le},L.prototype.getColumnNames=function(){for(var le=[],_e=pc(this.Qa),We=0;We<_e;We+=1)le.push(td(this.Qa,We));return le},L.prototype.getAsObject=function(le,_e){le=this.get(le,_e),_e=this.getColumnNames();for(var We={},Ke=0;Ke<_e.length;Ke+=1)We[_e[Ke]]=le[Ke];return We},L.prototype.getSQL=function(){return dc(this.Qa)},L.prototype.getNormalizedSQL=function(){return us(this.Qa)},L.prototype.run=function(le){return le!=null&&this.bind(le),this.step(),this.reset()},L.prototype.sb=function(le,_e){_e==null&&(_e=this.Oa,this.Oa+=1),le=wn(le);var We=ma(le,yo);this.lb.push(We),this.db.handleError(sl(this.Qa,_e,We,le.length-1,0))},L.prototype.Bb=function(le,_e){_e==null&&(_e=this.Oa,this.Oa+=1);var We=ma(le,yo);this.lb.push(We),this.db.handleError(fc(this.Qa,_e,We,le.length,0))},L.prototype.rb=function(le,_e){_e==null&&(_e=this.Oa,this.Oa+=1),this.db.handleError((le===(le|0)?al:ol)(this.Qa,_e,le))},L.prototype.Eb=function(le){le==null&&(le=this.Oa,this.Oa+=1),fc(this.Qa,le,0,0,0)},L.prototype.tb=function(le,_e){switch(_e==null&&(_e=this.Oa,this.Oa+=1),typeof le){case"string":this.sb(le,_e);return;case"number":this.rb(le,_e);return;case"bigint":this.sb(le.toString(),_e);return;case"boolean":this.rb(le+0,_e);return;case"object":if(le===null){this.Eb(_e);return}if(le.length!=null){this.Bb(le,_e);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+le+")."},L.prototype.Db=function(le){var _e=this;return Object.keys(le).forEach(function(We){var Ke=ed(_e.Qa,We);Ke!==0&&_e.tb(le[We],Ke)}),!0},L.prototype.Cb=function(le){for(var _e=0;_e<le.length;_e+=1)this.tb(le[_e],_e+1);return!0},L.prototype.reset=function(){return this.freemem(),$p(this.Qa)===0&&Fp(this.Qa)===0},L.prototype.freemem=function(){for(var le;(le=this.lb.pop())!==void 0;)cs(le)},L.prototype.free=function(){this.freemem();var le=Bp(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,le},z.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var le=ga(),_e=Tr(4);ae(ce),ae(_e);try{this.db.handleError(il(this.db.db,this.kb,-1,ce,_e)),this.kb=ge(_e,"i32");var We=ge(ce,"i32");return We===0?(this.mb(),{done:!0}):(this.Za=new L(We,this.db),this.db.fb[We]=this.Za,{value:this.Za,done:!1})}catch(Ke){throw this.pb=Ae(this.kb),this.mb(),Ke}finally{vo(le)}},z.prototype.mb=function(){cs(this.eb),this.eb=null},z.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:Ae(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(z.prototype[Symbol.iterator]=function(){return this}),ee.prototype.run=function(le,_e){if(!this.db)throw"Database closed";if(_e){le=this.prepare(le,_e);try{le.step()}finally{le.free()}}else this.handleError(st(this.db,le,0,0,ce));return this},ee.prototype.exec=function(le,_e,We){if(!this.db)throw"Database closed";var Ke=ga(),it=null;try{var Et=tl(le),Kr=Tr(4);for(le=[];ge(Et,"i8")!==0;){ae(ce),ae(Kr),this.handleError(il(this.db,Et,-1,ce,Kr));var Nr=ge(ce,"i32");if(Et=ge(Kr,"i32"),Nr!==0){var Gn=null;for(it=new L(Nr,this),_e!=null&&it.bind(_e);it.step();)Gn===null&&(Gn={columns:it.getColumnNames(),values:[]},le.push(Gn)),Gn.values.push(it.get(null,We));it.free()}}return le}catch(Hn){throw it&&it.free(),Hn}finally{vo(Ke)}},ee.prototype.each=function(le,_e,We,Ke,it){typeof _e=="function"&&(Ke=We,We=_e,_e=void 0),le=this.prepare(le,_e);try{for(;le.step();)We(le.getAsObject(null,it))}finally{le.free()}if(typeof Ke=="function")return Ke()},ee.prototype.prepare=function(le,_e){if(ae(ce),this.handleError(Mn(this.db,le,-1,ce,0)),le=ge(ce,"i32"),le===0)throw"Nothing to prepare";var We=new L(le,this);return _e!=null&&We.bind(_e),this.fb[le]=We},ee.prototype.iterateStatements=function(le){return new z(le,this)},ee.prototype.export=function(){Object.values(this.fb).forEach(function(_e){_e.free()}),Object.values(this.Sa).forEach(qr),this.Sa={},this.handleError(lt(this.db));var le=Op(this.filename);return this.handleError(Ye(this.filename,ce)),this.db=ge(ce,"i32"),sd(this.db),le},ee.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(le){le.free()}),Object.values(this.Sa).forEach(qr),this.Sa={},this.Ya&&(qr(this.Ya),this.Ya=void 0),this.handleError(lt(this.db)),Gt("/"+this.filename),this.db=null)},ee.prototype.handleError=function(le){if(le===0)return null;throw le=xo(this.db),Error(le)},ee.prototype.getRowsModified=function(){return Lt(this.db)},ee.prototype.create_function=function(le,_e){Object.prototype.hasOwnProperty.call(this.Sa,le)&&(qr(this.Sa[le]),delete this.Sa[le]);var We=Cr(function(Ke,it,Et){it=C(it,Et);try{var Kr=_e.apply(null,it)}catch(Nr){_o(Ke,Nr,-1);return}_(Ke,Kr)},"viii");return this.Sa[le]=We,this.handleError(ul(this.db,le,_e.length,1,0,We,0,0,0)),this},ee.prototype.create_aggregate=function(le,_e){var We=_e.init||function(){return null},Ke=_e.finalize||function(Gn){return Gn},it=_e.step;if(!it)throw"An aggregate function must have a step function in "+le;var Et={};Object.hasOwnProperty.call(this.Sa,le)&&(qr(this.Sa[le]),delete this.Sa[le]),_e=le+"__finalize",Object.hasOwnProperty.call(this.Sa,_e)&&(qr(this.Sa[_e]),delete this.Sa[_e]);var Kr=Cr(function(Gn,Hn,mc){var ds=id(Gn,1);Object.hasOwnProperty.call(Et,ds)||(Et[ds]=We()),Hn=C(Hn,mc),Hn=[Et[ds]].concat(Hn);try{Et[ds]=it.apply(null,Hn)}catch(ad){delete Et[ds],_o(Gn,ad,-1)}},"viii"),Nr=Cr(function(Gn){var Hn=id(Gn,1);try{var mc=Ke(Et[Hn])}catch(ds){delete Et[Hn],_o(Gn,ds,-1);return}_(Gn,mc),delete Et[Hn]},"vi");return this.Sa[le]=Kr,this.Sa[_e]=Nr,this.handleError(ul(this.db,le,it.length-1,1,0,0,Kr,Nr,0)),this},ee.prototype.updateHook=function(le){this.Ya&&(od(this.db,0,0),qr(this.Ya),this.Ya=void 0),le&&(this.Ya=Cr(function(_e,We,Ke,it,Et){switch(We){case 18:_e="insert";break;case 23:_e="update";break;case 9:_e="delete";break;default:throw"unknown operationCode in updateHook callback: "+We}if(Ke=Ke?de($,Ke):"",it=it?de($,it):"",Et>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";le(_e,Ke,it,Number(Et))},"viiiij"),od(this.db,this.Ya,0))},d.Database=ee};var x={...d},w="./this.program",b=(_,C)=>{throw C},T="",S,R;if(v){var k=Lf;T=__dirname+"/",R=_=>(_=V(_)?new URL(_):_,k.readFileSync(_)),S=async _=>(_=V(_)?new URL(_):_,k.readFileSync(_,void 0)),!d.thisProgram&&1<process.argv.length&&(w=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=d,b=(_,C)=>{throw process.exitCode=_,C}}else(h||m)&&(m?T=self.location.href:typeof document<"u"&&document.currentScript&&(T=document.currentScript.src),T=T.startsWith("blob:")?"":T.slice(0,T.replace(/[?#].*/,"").lastIndexOf("/")+1),m&&(R=_=>{var C=new XMLHttpRequest;return C.open("GET",_,!1),C.responseType="arraybuffer",C.send(null),new Uint8Array(C.response)}),S=async _=>{if(V(_))return new Promise((L,z)=>{var ee=new XMLHttpRequest;ee.open("GET",_,!0),ee.responseType="arraybuffer",ee.onload=()=>{ee.status==200||ee.status==0&&ee.response?L(ee.response):z(ee.status)},ee.onerror=z,ee.send(null)});var C=await fetch(_,{credentials:"same-origin"});if(C.ok)return C.arrayBuffer();throw Error(C.status+" : "+C.url)});var A=d.print||console.log.bind(console),I=d.printErr||console.error.bind(console);Object.assign(d,x),x=null,d.thisProgram&&(w=d.thisProgram);var j=d.wasmBinary,O,B=!1,W,D,$,Q,M,G,J,X,U,V=_=>_.startsWith("file://");function H(){var _=O.buffer;d.HEAP8=D=new Int8Array(_),d.HEAP16=Q=new Int16Array(_),d.HEAPU8=$=new Uint8Array(_),d.HEAPU16=new Uint16Array(_),d.HEAP32=M=new Int32Array(_),d.HEAPU32=G=new Uint32Array(_),d.HEAPF32=J=new Float32Array(_),d.HEAPF64=U=new Float64Array(_),d.HEAP64=X=new BigInt64Array(_),d.HEAPU64=new BigUint64Array(_)}var P=0,Y=null;function re(_){throw d.onAbort?.(_),_="Aborted("+_+")",I(_),B=!0,new WebAssembly.RuntimeError(_+". Build with -sASSERTIONS for more info.")}var q;async function oe(_){if(!j)try{var C=await S(_);return new Uint8Array(C)}catch{}if(_==q&&j)_=new Uint8Array(j);else if(R)_=R(_);else throw"both async and sync fetching of the wasm failed";return _}async function ie(_,C){try{var L=await oe(_);return await WebAssembly.instantiate(L,C)}catch(z){I(`failed to asynchronously prepare wasm: ${z}`),re(z)}}async function ve(_){var C=q;if(!j&&typeof WebAssembly.instantiateStreaming=="function"&&!V(C)&&!v)try{var L=fetch(C,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(L,_)}catch(z){I(`wasm streaming compile failed: ${z}`),I("falling back to ArrayBuffer instantiation")}return ie(C,_)}class be{name="ExitStatus";constructor(C){this.message=`Program terminated with exit(${C})`,this.status=C}}var ke=_=>{for(;0<_.length;)_.shift()(d)},Ee=[],Me=[],me=()=>{var _=d.preRun.shift();Me.unshift(_)};function ge(_,C="i8"){switch(C.endsWith("*")&&(C="*"),C){case"i1":return D[_];case"i8":return D[_];case"i16":return Q[_>>1];case"i32":return M[_>>2];case"i64":return X[_>>3];case"float":return J[_>>2];case"double":return U[_>>3];case"*":return G[_>>2];default:re(`invalid type for getValue: ${C}`)}}var Le=d.noExitRuntime||!0;function ae(_){var C="i32";switch(C.endsWith("*")&&(C="*"),C){case"i1":D[_]=0;break;case"i8":D[_]=0;break;case"i16":Q[_>>1]=0;break;case"i32":M[_>>2]=0;break;case"i64":X[_>>3]=BigInt(0);break;case"float":J[_>>2]=0;break;case"double":U[_>>3]=0;break;case"*":G[_>>2]=0;break;default:re(`invalid type for setValue: ${C}`)}}var xe=typeof TextDecoder<"u"?new TextDecoder:void 0,de=(_,C=0,L=NaN)=>{var z=C+L;for(L=C;_[L]&&!(L>=z);)++L;if(16<L-C&&_.buffer&&xe)return xe.decode(_.subarray(C,L));for(z="";C<L;){var ee=_[C++];if(ee&128){var ce=_[C++]&63;if((ee&224)==192)z+=String.fromCharCode((ee&31)<<6|ce);else{var ye=_[C++]&63;ee=(ee&240)==224?(ee&15)<<12|ce<<6|ye:(ee&7)<<18|ce<<12|ye<<6|_[C++]&63,65536>ee?z+=String.fromCharCode(ee):(ee-=65536,z+=String.fromCharCode(55296|ee>>10,56320|ee&1023))}}else z+=String.fromCharCode(ee)}return z},Ae=(_,C)=>_?de($,_,C):"",Pe=(_,C)=>{for(var L=0,z=_.length-1;0<=z;z--){var ee=_[z];ee==="."?_.splice(z,1):ee===".."?(_.splice(z,1),L++):L&&(_.splice(z,1),L--)}if(C)for(;L;L--)_.unshift("..");return _},kt=_=>{var C=_.charAt(0)==="/",L=_.slice(-1)==="/";return(_=Pe(_.split("/").filter(z=>!!z),!C).join("/"))||C||(_="."),_&&L&&(_+="/"),(C?"/":"")+_},Ct=_=>{var C=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(_).slice(1);return _=C[0],C=C[1],!_&&!C?".":(C&&=C.slice(0,-1),_+C)},dt=_=>_&&_.match(/([^\/]+|\/)\/*$/)[1],$t=()=>{if(v){var _=Lf;return C=>_.randomFillSync(C)}return C=>crypto.getRandomValues(C)},Rt=_=>{(Rt=$t())(_)},cn=(..._)=>{for(var C="",L=!1,z=_.length-1;-1<=z&&!L;z--){if(L=0<=z?_[z]:"/",typeof L!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!L)return"";C=L+"/"+C,L=L.charAt(0)==="/"}return C=Pe(C.split("/").filter(ee=>!!ee),!L).join("/"),(L?"/":"")+C||"."},Wt=[],_n=_=>{for(var C=0,L=0;L<_.length;++L){var z=_.charCodeAt(L);127>=z?C++:2047>=z?C+=2:55296<=z&&57343>=z?(C+=4,++L):C+=3}return C},At=(_,C,L,z)=>{if(!(0<z))return 0;var ee=L;z=L+z-1;for(var ce=0;ce<_.length;++ce){var ye=_.charCodeAt(ce);if(55296<=ye&&57343>=ye){var Ye=_.charCodeAt(++ce);ye=65536+((ye&1023)<<10)|Ye&1023}if(127>=ye){if(L>=z)break;C[L++]=ye}else{if(2047>=ye){if(L+1>=z)break;C[L++]=192|ye>>6}else{if(65535>=ye){if(L+2>=z)break;C[L++]=224|ye>>12}else{if(L+3>=z)break;C[L++]=240|ye>>18,C[L++]=128|ye>>12&63}C[L++]=128|ye>>6&63}C[L++]=128|ye&63}}return C[L]=0,L-ee},wn=(_,C)=>{var L=Array(_n(_)+1);return _=At(_,L,0,L.length),C&&(L.length=_),L},ki=[];function Gr(_,C){ki[_]={input:[],output:[],cb:C},ho(_,Hr)}var Hr={open(_){var C=ki[_.node.rdev];if(!C)throw new je(43);_.tty=C,_.seekable=!1},close(_){_.tty.cb.fsync(_.tty)},fsync(_){_.tty.cb.fsync(_.tty)},read(_,C,L,z){if(!_.tty||!_.tty.cb.xb)throw new je(60);for(var ee=0,ce=0;ce<z;ce++){try{var ye=_.tty.cb.xb(_.tty)}catch{throw new je(29)}if(ye===void 0&&ee===0)throw new je(6);if(ye==null)break;ee++,C[L+ce]=ye}return ee&&(_.node.atime=Date.now()),ee},write(_,C,L,z){if(!_.tty||!_.tty.cb.qb)throw new je(60);try{for(var ee=0;ee<z;ee++)_.tty.cb.qb(_.tty,C[L+ee])}catch{throw new je(29)}return z&&(_.node.mtime=_.node.ctime=Date.now()),ee}},po={xb(){e:{if(!Wt.length){var _=null;if(v){var C=Buffer.alloc(256),L=0,z=process.stdin.fd;try{L=k.readSync(z,C,0,256)}catch(ee){if(ee.toString().includes("EOF"))L=0;else throw ee}0<L&&(_=C.slice(0,L).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(_=window.prompt("Input: "),_!==null&&(_+=`
`));if(!_){_=null;break e}Wt=wn(_,!0)}_=Wt.shift()}return _},qb(_,C){C===null||C===10?(A(de(_.output)),_.output=[]):C!=0&&_.output.push(C)},fsync(_){0<_.output?.length&&(A(de(_.output)),_.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},Ri={qb(_,C){C===null||C===10?(I(de(_.output)),_.output=[]):C!=0&&_.output.push(C)},fsync(_){0<_.output?.length&&(I(de(_.output)),_.output=[])}},Je={Wa:null,Xa(){return Je.createNode(null,"/",16895,0)},createNode(_,C,L,z){if((L&61440)===24576||(L&61440)===4096)throw new je(63);return Je.Wa||(Je.Wa={dir:{node:{Ta:Je.La.Ta,Ua:Je.La.Ua,lookup:Je.La.lookup,hb:Je.La.hb,rename:Je.La.rename,unlink:Je.La.unlink,rmdir:Je.La.rmdir,readdir:Je.La.readdir,symlink:Je.La.symlink},stream:{Va:Je.Ma.Va}},file:{node:{Ta:Je.La.Ta,Ua:Je.La.Ua},stream:{Va:Je.Ma.Va,read:Je.Ma.read,write:Je.Ma.write,ib:Je.Ma.ib,jb:Je.Ma.jb}},link:{node:{Ta:Je.La.Ta,Ua:Je.La.Ua,readlink:Je.La.readlink},stream:{}},ub:{node:{Ta:Je.La.Ta,Ua:Je.La.Ua},stream:fa}}),L=Ii(_,C,L,z),On(L.mode)?(L.La=Je.Wa.dir.node,L.Ma=Je.Wa.dir.stream,L.Na={}):(L.mode&61440)===32768?(L.La=Je.Wa.file.node,L.Ma=Je.Wa.file.stream,L.Ra=0,L.Na=null):(L.mode&61440)===40960?(L.La=Je.Wa.link.node,L.Ma=Je.Wa.link.stream):(L.mode&61440)===8192&&(L.La=Je.Wa.ub.node,L.Ma=Je.Wa.ub.stream),L.atime=L.mtime=L.ctime=Date.now(),_&&(_.Na[C]=L,_.atime=_.mtime=_.ctime=L.atime),L},Sb(_){return _.Na?_.Na.subarray?_.Na.subarray(0,_.Ra):new Uint8Array(_.Na):new Uint8Array(0)},La:{Ta(_){var C={};return C.dev=(_.mode&61440)===8192?_.id:1,C.ino=_.id,C.mode=_.mode,C.nlink=1,C.uid=0,C.gid=0,C.rdev=_.rdev,On(_.mode)?C.size=4096:(_.mode&61440)===32768?C.size=_.Ra:(_.mode&61440)===40960?C.size=_.link.length:C.size=0,C.atime=new Date(_.atime),C.mtime=new Date(_.mtime),C.ctime=new Date(_.ctime),C.blksize=4096,C.blocks=Math.ceil(C.size/C.blksize),C},Ua(_,C){for(var L of["mode","atime","mtime","ctime"])C[L]!=null&&(_[L]=C[L]);C.size!==void 0&&(C=C.size,_.Ra!=C&&(C==0?(_.Na=null,_.Ra=0):(L=_.Na,_.Na=new Uint8Array(C),L&&_.Na.set(L.subarray(0,Math.min(C,_.Ra))),_.Ra=C)))},lookup(){throw Je.vb},hb(_,C,L,z){return Je.createNode(_,C,L,z)},rename(_,C,L){try{var z=br(C,L)}catch{}if(z){if(On(_.mode))for(var ee in z.Na)throw new je(55);Yr(z)}delete _.parent.Na[_.name],C.Na[L]=_,_.name=L,C.ctime=C.mtime=_.parent.ctime=_.parent.mtime=Date.now()},unlink(_,C){delete _.Na[C],_.ctime=_.mtime=Date.now()},rmdir(_,C){var L=br(_,C),z;for(z in L.Na)throw new je(55);delete _.Na[C],_.ctime=_.mtime=Date.now()},readdir(_){return[".","..",...Object.keys(_.Na)]},symlink(_,C,L){return _=Je.createNode(_,C,41471,0),_.link=L,_},readlink(_){if((_.mode&61440)!==40960)throw new je(28);return _.link}},Ma:{read(_,C,L,z,ee){var ce=_.node.Na;if(ee>=_.node.Ra)return 0;if(_=Math.min(_.node.Ra-ee,z),8<_&&ce.subarray)C.set(ce.subarray(ee,ee+_),L);else for(z=0;z<_;z++)C[L+z]=ce[ee+z];return _},write(_,C,L,z,ee,ce){if(C.buffer===D.buffer&&(ce=!1),!z)return 0;if(_=_.node,_.mtime=_.ctime=Date.now(),C.subarray&&(!_.Na||_.Na.subarray)){if(ce)return _.Na=C.subarray(L,L+z),_.Ra=z;if(_.Ra===0&&ee===0)return _.Na=C.slice(L,L+z),_.Ra=z;if(ee+z<=_.Ra)return _.Na.set(C.subarray(L,L+z),ee),z}ce=ee+z;var ye=_.Na?_.Na.length:0;if(ye>=ce||(ce=Math.max(ce,ye*(1048576>ye?2:1.125)>>>0),ye!=0&&(ce=Math.max(ce,256)),ye=_.Na,_.Na=new Uint8Array(ce),0<_.Ra&&_.Na.set(ye.subarray(0,_.Ra),0)),_.Na.subarray&&C.subarray)_.Na.set(C.subarray(L,L+z),ee);else for(ce=0;ce<z;ce++)_.Na[ee+ce]=C[L+ce];return _.Ra=Math.max(_.Ra,ee+z),z},Va(_,C,L){if(L===1?C+=_.position:L===2&&(_.node.mode&61440)===32768&&(C+=_.node.Ra),0>C)throw new je(28);return C},ib(_,C,L,z,ee){if((_.node.mode&61440)!==32768)throw new je(43);if(_=_.node.Na,ee&2||!_||_.buffer!==D.buffer){ee=!0,z=65536*Math.ceil(C/65536);var ce=Li(65536,z);if(ce&&$.fill(0,ce,ce+z),z=ce,!z)throw new je(48);_&&((0<L||L+C<_.length)&&(_.subarray?_=_.subarray(L,L+C):_=Array.prototype.slice.call(_,L,L+C)),D.set(_,z))}else ee=!1,z=_.byteOffset;return{Kb:z,Ab:ee}},jb(_,C,L,z){return Je.Ma.write(_,C,0,z,L,!1),0}}},Jn=(_,C)=>{var L=0;return _&&(L|=365),C&&(L|=146),L},Wn=null,si={},un=[],ns=1,bn=null,Ln=!1,Ai=!0,ji={},je=class{name="ErrnoError";constructor(_){this.Pa=_}},Qa=class{gb={};node=null;get flags(){return this.gb.flags}set flags(_){this.gb.flags=_}get position(){return this.gb.position}set position(_){this.gb.position=_}},qt=class{La={};Ma={};ab=null;constructor(_,C,L,z){_||=this,this.parent=_,this.Xa=_.Xa,this.id=ns++,this.name=C,this.mode=L,this.rdev=z,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(_){_?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(_){_?this.mode|=146:this.mode&=-147}};function on(_,C={}){if(!_)throw new je(44);C.nb??(C.nb=!0),_.charAt(0)==="/"||(_="//"+_);var L=0;e:for(;40>L;L++){_=_.split("/").filter(Ye=>!!Ye);for(var z=Wn,ee="/",ce=0;ce<_.length;ce++){var ye=ce===_.length-1;if(ye&&C.parent)break;if(_[ce]!==".")if(_[ce]==="..")ee=Ct(ee),z=z.parent;else{ee=kt(ee+"/"+_[ce]);try{z=br(z,_[ce])}catch(Ye){if(Ye?.Pa===44&&ye&&C.Jb)return{path:ee};throw Ye}if(!z.ab||ye&&!C.nb||(z=z.ab.root),(z.mode&61440)===40960&&(!ye||C.$a)){if(!z.La.readlink)throw new je(52);z=z.La.readlink(z),z.charAt(0)==="/"||(z=Ct(ee)+"/"+z),_=z+"/"+_.slice(ce+1).join("/");continue e}}}return{path:ee,node:z}}throw new je(32)}function Ds(_){for(var C;;){if(_===_.parent)return _=_.Xa.zb,C?_[_.length-1]!=="/"?`${_}/${C}`:_+C:_;C=C?`${_.name}/${C}`:_.name,_=_.parent}}function Fs(_,C){for(var L=0,z=0;z<C.length;z++)L=(L<<5)-L+C.charCodeAt(z)|0;return(_+L>>>0)%bn.length}function Yr(_){var C=Fs(_.parent.id,_.name);if(bn[C]===_)bn[C]=_.bb;else for(C=bn[C];C;){if(C.bb===_){C.bb=_.bb;break}C=C.bb}}function br(_,C){var L=On(_.mode)?(L=Sn(_,"x"))?L:_.La.lookup?0:2:54;if(L)throw new je(L);for(L=bn[Fs(_.id,C)];L;L=L.bb){var z=L.name;if(L.parent.id===_.id&&z===C)return L}return _.La.lookup(_,C)}function Ii(_,C,L,z){return _=new qt(_,C,L,z),C=Fs(_.parent.id,_.name),_.bb=bn[C],bn[C]=_}function On(_){return(_&61440)===16384}function En(_){var C=["r","w","rw"][_&3];return _&512&&(C+="w"),C}function Sn(_,C){if(Ai)return 0;if(!C.includes("r")||_.mode&292){if(C.includes("w")&&!(_.mode&146)||C.includes("x")&&!(_.mode&73))return 2}else return 2;return 0}function rs(_,C){if(!On(_.mode))return 54;try{return br(_,C),20}catch{}return Sn(_,"wx")}function $s(_,C,L){try{var z=br(_,C)}catch(ee){return ee.Pa}if(_=Sn(_,"wx"))return _;if(L){if(!On(z.mode))return 54;if(z===z.parent||Ds(z)==="/")return 10}else if(On(z.mode))return 31;return 0}function is(_){if(!_)throw new je(63);return _}function mn(_){if(_=un[_],!_)throw new je(8);return _}function Er(_,C=-1){if(_=Object.assign(new Qa,_),C==-1)e:{for(C=0;4096>=C;C++)if(!un[C])break e;throw new je(33)}return _.fd=C,un[C]=_}function oi(_,C=-1){return _=Er(_,C),_.Ma?.Rb?.(_),_}function Bs(_,C,L){var z=_?.Ma.Ua;_=z?_:C,z??=C.La.Ua,is(z),z(_,L)}var fa={open(_){_.Ma=si[_.node.rdev].Ma,_.Ma.open?.(_)},Va(){throw new je(70)}};function ho(_,C){si[_]={Ma:C}}function pa(_,C){var L=C==="/";if(L&&Wn)throw new je(10);if(!L&&C){var z=on(C,{nb:!1});if(C=z.path,z=z.node,z.ab)throw new je(10);if(!On(z.mode))throw new je(54)}C={type:_,Wb:{},zb:C,Ib:[]},_=_.Xa(C),_.Xa=C,C.root=_,L?Wn=_:z&&(z.ab=C,z.Xa&&z.Xa.Ib.push(C))}function ze(_,C,L){var z=on(_,{parent:!0}).node;if(_=dt(_),!_)throw new je(28);if(_==="."||_==="..")throw new je(20);var ee=rs(z,_);if(ee)throw new je(ee);if(!z.La.hb)throw new je(63);return z.La.hb(z,_,C,L)}function ne(_,C=438){return ze(_,C&4095|32768,0)}function Se(_,C=511){return ze(_,C&1023|16384,0)}function Fe(_,C,L){typeof L>"u"&&(L=C,C=438),ze(_,C|8192,L)}function Tt(_,C){if(!cn(_))throw new je(44);var L=on(C,{parent:!0}).node;if(!L)throw new je(44);C=dt(C);var z=rs(L,C);if(z)throw new je(z);if(!L.La.symlink)throw new je(63);L.La.symlink(L,C,_)}function at(_){var C=on(_,{parent:!0}).node;_=dt(_);var L=br(C,_),z=$s(C,_,!0);if(z)throw new je(z);if(!C.La.rmdir)throw new je(63);if(L.ab)throw new je(10);C.La.rmdir(C,_),Yr(L)}function Gt(_){var C=on(_,{parent:!0}).node;if(!C)throw new je(44);_=dt(_);var L=br(C,_),z=$s(C,_,!1);if(z)throw new je(z);if(!C.La.unlink)throw new je(63);if(L.ab)throw new je(10);C.La.unlink(C,_),Yr(L)}function Kt(_,C){return _=on(_,{$a:!C}).node,is(_.La.Ta)(_)}function ur(_,C,L,z){Bs(_,C,{mode:L&4095|C.mode&-4096,ctime:Date.now(),Fb:z})}function er(_,C){_=typeof _=="string"?on(_,{$a:!0}).node:_,ur(null,_,C)}function mo(_,C,L){if(On(C.mode))throw new je(31);if((C.mode&61440)!==32768)throw new je(28);var z=Sn(C,"w");if(z)throw new je(z);Bs(_,C,{size:L,timestamp:Date.now()})}function It(_,C,L=438){if(_==="")throw new je(44);if(typeof C=="string"){var z={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[C];if(typeof z>"u")throw Error(`Unknown file open mode: ${C}`);C=z}if(L=C&64?L&4095|32768:0,typeof _=="object")z=_;else{var ee=_.endsWith("/");_=on(_,{$a:!(C&131072),Jb:!0}),z=_.node,_=_.path}var ce=!1;if(C&64)if(z){if(C&128)throw new je(20)}else{if(ee)throw new je(31);z=ze(_,L|511,0),ce=!0}if(!z)throw new je(44);if((z.mode&61440)===8192&&(C&=-513),C&65536&&!On(z.mode))throw new je(54);if(!ce&&(ee=z?(z.mode&61440)===40960?32:On(z.mode)&&(En(C)!=="r"||C&576)?31:Sn(z,En(C)):44))throw new je(ee);return C&512&&!ce&&(ee=z,ee=typeof ee=="string"?on(ee,{$a:!0}).node:ee,mo(null,ee,0)),C&=-131713,ee=Er({node:z,path:Ds(z),flags:C,seekable:!0,position:0,Ma:z.Ma,Lb:[],error:!1}),ee.Ma.open&&ee.Ma.open(ee),ce&&er(z,L&511),!d.logReadFiles||C&1||_ in ji||(ji[_]=1),ee}function Pi(_){if(_.fd===null)throw new je(8);_.ob&&(_.ob=null);try{_.Ma.close&&_.Ma.close(_)}catch(C){throw C}finally{un[_.fd]=null}_.fd=null}function tr(_,C,L){if(_.fd===null)throw new je(8);if(!_.seekable||!_.Ma.Va)throw new je(70);if(L!=0&&L!=1&&L!=2)throw new je(28);_.position=_.Ma.Va(_,C,L),_.Lb=[]}function Zu(_,C,L,z,ee){if(0>z||0>ee)throw new je(28);if(_.fd===null)throw new je(8);if((_.flags&2097155)===1)throw new je(8);if(On(_.node.mode))throw new je(31);if(!_.Ma.read)throw new je(28);var ce=typeof ee<"u";if(!ce)ee=_.position;else if(!_.seekable)throw new je(70);return C=_.Ma.read(_,C,L,z,ee),ce||(_.position+=C),C}function Sr(_,C,L,z,ee){if(0>z||0>ee)throw new je(28);if(_.fd===null)throw new je(8);if((_.flags&2097155)===0)throw new je(8);if(On(_.node.mode))throw new je(31);if(!_.Ma.write)throw new je(28);_.seekable&&_.flags&1024&&tr(_,0,2);var ce=typeof ee<"u";if(!ce)ee=_.position;else if(!_.seekable)throw new je(70);return C=_.Ma.write(_,C,L,z,ee,void 0),ce||(_.position+=C),C}function Op(_){var C,L=It(_,L||0);_=Kt(_).size;var z=new Uint8Array(_);return Zu(L,z,0,_,0),C=z,Pi(L),C}function ss(_,C,L){_=kt("/dev/"+_);var z=Jn(!!C,!!L);ss.yb??(ss.yb=64);var ee=ss.yb++<<8|0;ho(ee,{open(ce){ce.seekable=!1},close(){L?.buffer?.length&&L(10)},read(ce,ye,Ye,lt){for(var st=0,Lt=0;Lt<lt;Lt++){try{var Mn=C()}catch{throw new je(29)}if(Mn===void 0&&st===0)throw new je(6);if(Mn==null)break;st++,ye[Ye+Lt]=Mn}return st&&(ce.node.atime=Date.now()),st},write(ce,ye,Ye,lt){for(var st=0;st<lt;st++)try{L(ye[Ye+st])}catch{throw new je(29)}return lt&&(ce.node.mtime=ce.node.ctime=Date.now()),st}}),Fe(_,z,ee)}var Pt={};function ai(_,C,L){if(C.charAt(0)==="/")return C;if(_=_===-100?"/":mn(_).path,C.length==0){if(!L)throw new je(44);return _}return _+"/"+C}function Vs(_,C){M[_>>2]=C.dev,M[_+4>>2]=C.mode,G[_+8>>2]=C.nlink,M[_+12>>2]=C.uid,M[_+16>>2]=C.gid,M[_+20>>2]=C.rdev,X[_+24>>3]=BigInt(C.size),M[_+32>>2]=4096,M[_+36>>2]=C.blocks;var L=C.atime.getTime(),z=C.mtime.getTime(),ee=C.ctime.getTime();return X[_+40>>3]=BigInt(Math.floor(L/1e3)),G[_+48>>2]=L%1e3*1e6,X[_+56>>3]=BigInt(Math.floor(z/1e3)),G[_+64>>2]=z%1e3*1e6,X[_+72>>3]=BigInt(Math.floor(ee/1e3)),G[_+80>>2]=ee%1e3*1e6,X[_+88>>3]=BigInt(C.ino),0}var os=void 0,Us=()=>{var _=M[+os>>2];return os+=4,_},lc=0,Mp=[0,31,60,91,121,152,182,213,244,274,305,335],cc=[0,31,59,90,120,151,181,212,243,273,304,334],go={},Ja=_=>{W=_,Le||0<lc||(d.onExit?.(_),B=!0),b(_,new be(_))},ha=_=>{if(!B)try{if(_(),!(Le||0<lc))try{W=_=W,Ja(_)}catch(C){C instanceof be||C=="unwind"||b(1,C)}}catch(C){C instanceof be||C=="unwind"||b(1,C)}},uc={},el=()=>{if(!yt){var _={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:w||"./this.program"},C;for(C in uc)uc[C]===void 0?delete _[C]:_[C]=uc[C];var L=[];for(C in _)L.push(`${C}=${_[C]}`);yt=L}return yt},yt,tl=_=>{var C=_n(_)+1,L=Tr(C);return At(_,$,L,C),L},Qu=(_,C,L,z)=>{var ee={string:st=>{var Lt=0;return st!=null&&st!==0&&(Lt=tl(st)),Lt},array:st=>{var Lt=Tr(st.length);return D.set(st,Lt),Lt}};_=d["_"+_];var ce=[],ye=0;if(z)for(var Ye=0;Ye<z.length;Ye++){var lt=ee[L[Ye]];lt?(ye===0&&(ye=ga()),ce[Ye]=lt(z[Ye])):ce[Ye]=z[Ye]}return L=_(...ce),L=(function(st){return ye!==0&&vo(ye),C==="string"?st?de($,st):"":C==="boolean"?!!st:st})(L)},yo=0,ma=(_,C)=>(C=C==1?Tr(_.length):zs(_.length),_.subarray||_.slice||(_=new Uint8Array(_)),$.set(_,C),C),as,nl=[],Xr,qr=_=>{as.delete(Xr.get(_)),Xr.set(_,null),nl.push(_)},Cr=(_,C)=>{if(!as){as=new WeakMap;var L=Xr.length;if(as)for(var z=0;z<0+L;z++){var ee=Xr.get(z);ee&&as.set(ee,z)}}if(L=as.get(_)||0)return L;if(nl.length)L=nl.pop();else{try{Xr.grow(1)}catch(lt){throw lt instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":lt}L=Xr.length-1}try{Xr.set(L,_)}catch(lt){if(!(lt instanceof TypeError))throw lt;if(typeof WebAssembly.Function=="function"){var ce=WebAssembly.Function;z={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},ee={parameters:[],results:C[0]=="v"?[]:[z[C[0]]]};for(var ye=1;ye<C.length;++ye)ee.parameters.push(z[C[ye]]);C=new ce(ee,_)}else{z=[1],ee=C.slice(0,1),C=C.slice(1),ye={i:127,p:127,j:126,f:125,d:124,e:111},z.push(96);var Ye=C.length;128>Ye?z.push(Ye):z.push(Ye%128|128,Ye>>7);for(ce of C)z.push(ye[ce]);ee=="v"?z.push(0):z.push(1,ye[ee]),C=[0,97,115,109,1,0,0,0,1],ce=z.length,128>ce?C.push(ce):C.push(ce%128|128,ce>>7),C.push(...z),C.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),C=new WebAssembly.Module(new Uint8Array(C)),C=new WebAssembly.Instance(C,{e:{f:_}}).exports.f}Xr.set(L,C)}return as.set(_,L),L};bn=Array(4096),pa(Je,"/"),Se("/tmp"),Se("/home"),Se("/home/web_user"),(function(){Se("/dev"),ho(259,{read:()=>0,write:(z,ee,ce,ye)=>ye,Va:()=>0}),Fe("/dev/null",259),Gr(1280,po),Gr(1536,Ri),Fe("/dev/tty",1280),Fe("/dev/tty1",1536);var _=new Uint8Array(1024),C=0,L=()=>(C===0&&(Rt(_),C=_.byteLength),_[--C]);ss("random",L),ss("urandom",L),Se("/dev/shm"),Se("/dev/shm/tmp")})(),(function(){Se("/proc");var _=Se("/proc/self");Se("/proc/self/fd"),pa({Xa(){var C=Ii(_,"fd",16895,73);return C.Ma={Va:Je.Ma.Va},C.La={lookup(L,z){L=+z;var ee=mn(L);return L={parent:null,Xa:{zb:"fake"},La:{readlink:()=>ee.path},id:L+1},L.parent=L},readdir(){return Array.from(un.entries()).filter(([,L])=>L).map(([L])=>L.toString())}},C}},"/proc/self/fd")})(),Je.vb=new je(44),Je.vb.stack="<generic error, no stack>";var ls={a:(_,C,L,z)=>re(`Assertion failed: ${_?de($,_):""}, at: `+[C?C?de($,C):"":"unknown filename",L,z?z?de($,z):"":"unknown function"]),i:function(_,C){try{return _=_?de($,_):"",er(_,C),0}catch(L){if(typeof Pt>"u"||L.name!=="ErrnoError")throw L;return-L.Pa}},L:function(_,C,L){try{if(C=C?de($,C):"",C=ai(_,C),L&-8)return-28;var z=on(C,{$a:!0}).node;return z?(_="",L&4&&(_+="r"),L&2&&(_+="w"),L&1&&(_+="x"),_&&Sn(z,_)?-2:0):-44}catch(ee){if(typeof Pt>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Pa}},j:function(_,C){try{var L=mn(_);return ur(L,L.node,C,!1),0}catch(z){if(typeof Pt>"u"||z.name!=="ErrnoError")throw z;return-z.Pa}},h:function(_){try{var C=mn(_);return Bs(C,C.node,{timestamp:Date.now(),Fb:!1}),0}catch(L){if(typeof Pt>"u"||L.name!=="ErrnoError")throw L;return-L.Pa}},b:function(_,C,L){os=L;try{var z=mn(_);switch(C){case 0:var ee=Us();if(0>ee)break;for(;un[ee];)ee++;return oi(z,ee).fd;case 1:case 2:return 0;case 3:return z.flags;case 4:return ee=Us(),z.flags|=ee,0;case 12:return ee=Us(),Q[ee+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(ce){if(typeof Pt>"u"||ce.name!=="ErrnoError")throw ce;return-ce.Pa}},g:function(_,C){try{var L=mn(_),z=L.node,ee=L.Ma.Ta;_=ee?L:z,ee??=z.La.Ta,is(ee);var ce=ee(_);return Vs(C,ce)}catch(ye){if(typeof Pt>"u"||ye.name!=="ErrnoError")throw ye;return-ye.Pa}},H:function(_,C){C=-9007199254740992>C||9007199254740992<C?NaN:Number(C);try{if(isNaN(C))return 61;var L=mn(_);if(0>C||(L.flags&2097155)===0)throw new je(28);return mo(L,L.node,C),0}catch(z){if(typeof Pt>"u"||z.name!=="ErrnoError")throw z;return-z.Pa}},G:function(_,C){try{if(C===0)return-28;var L=_n("/")+1;return C<L?-68:(At("/",$,_,C),L)}catch(z){if(typeof Pt>"u"||z.name!=="ErrnoError")throw z;return-z.Pa}},K:function(_,C){try{return _=_?de($,_):"",Vs(C,Kt(_,!0))}catch(L){if(typeof Pt>"u"||L.name!=="ErrnoError")throw L;return-L.Pa}},C:function(_,C,L){try{return C=C?de($,C):"",C=ai(_,C),Se(C,L),0}catch(z){if(typeof Pt>"u"||z.name!=="ErrnoError")throw z;return-z.Pa}},J:function(_,C,L,z){try{C=C?de($,C):"";var ee=z&256;return C=ai(_,C,z&4096),Vs(L,ee?Kt(C,!0):Kt(C))}catch(ce){if(typeof Pt>"u"||ce.name!=="ErrnoError")throw ce;return-ce.Pa}},x:function(_,C,L,z){os=z;try{C=C?de($,C):"",C=ai(_,C);var ee=z?Us():0;return It(C,L,ee).fd}catch(ce){if(typeof Pt>"u"||ce.name!=="ErrnoError")throw ce;return-ce.Pa}},v:function(_,C,L,z){try{if(C=C?de($,C):"",C=ai(_,C),0>=z)return-28;var ee=on(C).node;if(!ee)throw new je(44);if(!ee.La.readlink)throw new je(28);var ce=ee.La.readlink(ee),ye=Math.min(z,_n(ce)),Ye=D[L+ye];return At(ce,$,L,z+1),D[L+ye]=Ye,ye}catch(lt){if(typeof Pt>"u"||lt.name!=="ErrnoError")throw lt;return-lt.Pa}},u:function(_){try{return _=_?de($,_):"",at(_),0}catch(C){if(typeof Pt>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},f:function(_,C){try{return _=_?de($,_):"",Vs(C,Kt(_))}catch(L){if(typeof Pt>"u"||L.name!=="ErrnoError")throw L;return-L.Pa}},r:function(_,C,L){try{return C=C?de($,C):"",C=ai(_,C),L===0?Gt(C):L===512?at(C):re("Invalid flags passed to unlinkat"),0}catch(z){if(typeof Pt>"u"||z.name!=="ErrnoError")throw z;return-z.Pa}},q:function(_,C,L){try{C=C?de($,C):"",C=ai(_,C,!0);var z=Date.now(),ee,ce;if(L){var ye=G[L>>2]+4294967296*M[L+4>>2],Ye=M[L+8>>2];Ye==1073741823?ee=z:Ye==1073741822?ee=null:ee=1e3*ye+Ye/1e6,L+=16,ye=G[L>>2]+4294967296*M[L+4>>2],Ye=M[L+8>>2],Ye==1073741823?ce=z:Ye==1073741822?ce=null:ce=1e3*ye+Ye/1e6}else ce=ee=z;if((ce??ee)!==null){_=ee;var lt=on(C,{$a:!0}).node;is(lt.La.Ua)(lt,{atime:_,mtime:ce})}return 0}catch(st){if(typeof Pt>"u"||st.name!=="ErrnoError")throw st;return-st.Pa}},m:()=>re(""),l:()=>{Le=!1,lc=0},A:function(_,C){_=-9007199254740992>_||9007199254740992<_?NaN:Number(_),_=new Date(1e3*_),M[C>>2]=_.getSeconds(),M[C+4>>2]=_.getMinutes(),M[C+8>>2]=_.getHours(),M[C+12>>2]=_.getDate(),M[C+16>>2]=_.getMonth(),M[C+20>>2]=_.getFullYear()-1900,M[C+24>>2]=_.getDay();var L=_.getFullYear();M[C+28>>2]=(L%4!==0||L%100===0&&L%400!==0?cc:Mp)[_.getMonth()]+_.getDate()-1|0,M[C+36>>2]=-(60*_.getTimezoneOffset()),L=new Date(_.getFullYear(),6,1).getTimezoneOffset();var z=new Date(_.getFullYear(),0,1).getTimezoneOffset();M[C+32>>2]=(L!=z&&_.getTimezoneOffset()==Math.min(z,L))|0},y:function(_,C,L,z,ee,ce,ye){ee=-9007199254740992>ee||9007199254740992<ee?NaN:Number(ee);try{if(isNaN(ee))return 61;var Ye=mn(z);if((C&2)!==0&&(L&2)===0&&(Ye.flags&2097155)!==2)throw new je(2);if((Ye.flags&2097155)===1)throw new je(2);if(!Ye.Ma.ib)throw new je(43);if(!_)throw new je(28);var lt=Ye.Ma.ib(Ye,_,ee,C,L),st=lt.Kb;return M[ce>>2]=lt.Ab,G[ye>>2]=st,0}catch(Lt){if(typeof Pt>"u"||Lt.name!=="ErrnoError")throw Lt;return-Lt.Pa}},z:function(_,C,L,z,ee,ce){ce=-9007199254740992>ce||9007199254740992<ce?NaN:Number(ce);try{var ye=mn(ee);if(L&2){if(L=ce,(ye.node.mode&61440)!==32768)throw new je(43);if(!(z&2)){var Ye=$.slice(_,_+C);ye.Ma.jb&&ye.Ma.jb(ye,Ye,L,C,z)}}}catch(lt){if(typeof Pt>"u"||lt.name!=="ErrnoError")throw lt;return-lt.Pa}},n:(_,C)=>{if(go[_]&&(clearTimeout(go[_].id),delete go[_]),!C)return 0;var L=setTimeout(()=>{delete go[_],ha(()=>Ju(_,performance.now()))},C);return go[_]={id:L,Xb:C},0},B:(_,C,L,z)=>{var ee=new Date().getFullYear(),ce=new Date(ee,0,1).getTimezoneOffset();ee=new Date(ee,6,1).getTimezoneOffset(),G[_>>2]=60*Math.max(ce,ee),M[C>>2]=+(ce!=ee),C=ye=>{var Ye=Math.abs(ye);return`UTC${0<=ye?"-":"+"}${String(Math.floor(Ye/60)).padStart(2,"0")}${String(Ye%60).padStart(2,"0")}`},_=C(ce),C=C(ee),ee<ce?(At(_,$,L,17),At(C,$,z,17)):(At(_,$,z,17),At(C,$,L,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:_=>{var C=$.length;if(_>>>=0,2147483648<_)return!1;for(var L=1;4>=L;L*=2){var z=C*(1+.2/L);z=Math.min(z,_+100663296);e:{z=(Math.min(2147483648,65536*Math.ceil(Math.max(_,z)/65536))-O.buffer.byteLength+65535)/65536|0;try{O.grow(z),H();var ee=1;break e}catch{}ee=void 0}if(ee)return!0}return!1},E:(_,C)=>{var L=0;return el().forEach((z,ee)=>{var ce=C+L;for(ee=G[_+4*ee>>2]=ce,ce=0;ce<z.length;++ce)D[ee++]=z.charCodeAt(ce);D[ee]=0,L+=z.length+1}),0},F:(_,C)=>{var L=el();G[_>>2]=L.length;var z=0;return L.forEach(ee=>z+=ee.length+1),G[C>>2]=z,0},e:function(_){try{var C=mn(_);return Pi(C),0}catch(L){if(typeof Pt>"u"||L.name!=="ErrnoError")throw L;return L.Pa}},p:function(_,C){try{var L=mn(_);return D[C]=L.tty?2:On(L.mode)?3:(L.mode&61440)===40960?7:4,Q[C+2>>1]=0,X[C+8>>3]=BigInt(0),X[C+16>>3]=BigInt(0),0}catch(z){if(typeof Pt>"u"||z.name!=="ErrnoError")throw z;return z.Pa}},w:function(_,C,L,z){try{e:{var ee=mn(_);_=C;for(var ce,ye=C=0;ye<L;ye++){var Ye=G[_>>2],lt=G[_+4>>2];_+=8;var st=Zu(ee,D,Ye,lt,ce);if(0>st){var Lt=-1;break e}if(C+=st,st<lt)break;typeof ce<"u"&&(ce+=st)}Lt=C}return G[z>>2]=Lt,0}catch(Mn){if(typeof Pt>"u"||Mn.name!=="ErrnoError")throw Mn;return Mn.Pa}},D:function(_,C,L,z){C=-9007199254740992>C||9007199254740992<C?NaN:Number(C);try{if(isNaN(C))return 61;var ee=mn(_);return tr(ee,C,L),X[z>>3]=BigInt(ee.position),ee.ob&&C===0&&L===0&&(ee.ob=null),0}catch(ce){if(typeof Pt>"u"||ce.name!=="ErrnoError")throw ce;return ce.Pa}},I:function(_){try{var C=mn(_);return C.Ma?.fsync?C.Ma.fsync(C):0}catch(L){if(typeof Pt>"u"||L.name!=="ErrnoError")throw L;return L.Pa}},t:function(_,C,L,z){try{e:{var ee=mn(_);_=C;for(var ce,ye=C=0;ye<L;ye++){var Ye=G[_>>2],lt=G[_+4>>2];_+=8;var st=Sr(ee,D,Ye,lt,ce);if(0>st){var Lt=-1;break e}if(C+=st,st<lt)break;typeof ce<"u"&&(ce+=st)}Lt=C}return G[z>>2]=Lt,0}catch(Mn){if(typeof Pt>"u"||Mn.name!=="ErrnoError")throw Mn;return Mn.Pa}},k:Ja},Ve;(async function(){function _(L){return Ve=L.exports,O=Ve.M,H(),Xr=Ve.O,P--,d.monitorRunDependencies?.(P),P==0&&Y&&(L=Y,Y=null,L()),Ve}P++,d.monitorRunDependencies?.(P);var C={a:ls};return d.instantiateWasm?new Promise(L=>{d.instantiateWasm(C,(z,ee)=>{_(z),L(z.exports)})}):(q??=d.locateFile?d.locateFile("sql-wasm.wasm",T):T+"sql-wasm.wasm",_((await ve(C)).instance))})(),d._sqlite3_free=_=>(d._sqlite3_free=Ve.P)(_),d._sqlite3_value_text=_=>(d._sqlite3_value_text=Ve.Q)(_),d._sqlite3_prepare_v2=(_,C,L,z,ee)=>(d._sqlite3_prepare_v2=Ve.R)(_,C,L,z,ee),d._sqlite3_step=_=>(d._sqlite3_step=Ve.S)(_),d._sqlite3_reset=_=>(d._sqlite3_reset=Ve.T)(_),d._sqlite3_exec=(_,C,L,z,ee)=>(d._sqlite3_exec=Ve.U)(_,C,L,z,ee),d._sqlite3_finalize=_=>(d._sqlite3_finalize=Ve.V)(_),d._sqlite3_column_name=(_,C)=>(d._sqlite3_column_name=Ve.W)(_,C),d._sqlite3_column_text=(_,C)=>(d._sqlite3_column_text=Ve.X)(_,C),d._sqlite3_column_type=(_,C)=>(d._sqlite3_column_type=Ve.Y)(_,C),d._sqlite3_errmsg=_=>(d._sqlite3_errmsg=Ve.Z)(_),d._sqlite3_clear_bindings=_=>(d._sqlite3_clear_bindings=Ve._)(_),d._sqlite3_value_blob=_=>(d._sqlite3_value_blob=Ve.$)(_),d._sqlite3_value_bytes=_=>(d._sqlite3_value_bytes=Ve.aa)(_),d._sqlite3_value_double=_=>(d._sqlite3_value_double=Ve.ba)(_),d._sqlite3_value_int=_=>(d._sqlite3_value_int=Ve.ca)(_),d._sqlite3_value_type=_=>(d._sqlite3_value_type=Ve.da)(_),d._sqlite3_result_blob=(_,C,L,z)=>(d._sqlite3_result_blob=Ve.ea)(_,C,L,z),d._sqlite3_result_double=(_,C)=>(d._sqlite3_result_double=Ve.fa)(_,C),d._sqlite3_result_error=(_,C,L)=>(d._sqlite3_result_error=Ve.ga)(_,C,L),d._sqlite3_result_int=(_,C)=>(d._sqlite3_result_int=Ve.ha)(_,C),d._sqlite3_result_int64=(_,C)=>(d._sqlite3_result_int64=Ve.ia)(_,C),d._sqlite3_result_null=_=>(d._sqlite3_result_null=Ve.ja)(_),d._sqlite3_result_text=(_,C,L,z)=>(d._sqlite3_result_text=Ve.ka)(_,C,L,z),d._sqlite3_aggregate_context=(_,C)=>(d._sqlite3_aggregate_context=Ve.la)(_,C),d._sqlite3_column_count=_=>(d._sqlite3_column_count=Ve.ma)(_),d._sqlite3_data_count=_=>(d._sqlite3_data_count=Ve.na)(_),d._sqlite3_column_blob=(_,C)=>(d._sqlite3_column_blob=Ve.oa)(_,C),d._sqlite3_column_bytes=(_,C)=>(d._sqlite3_column_bytes=Ve.pa)(_,C),d._sqlite3_column_double=(_,C)=>(d._sqlite3_column_double=Ve.qa)(_,C),d._sqlite3_bind_blob=(_,C,L,z,ee)=>(d._sqlite3_bind_blob=Ve.ra)(_,C,L,z,ee),d._sqlite3_bind_double=(_,C,L)=>(d._sqlite3_bind_double=Ve.sa)(_,C,L),d._sqlite3_bind_int=(_,C,L)=>(d._sqlite3_bind_int=Ve.ta)(_,C,L),d._sqlite3_bind_text=(_,C,L,z,ee)=>(d._sqlite3_bind_text=Ve.ua)(_,C,L,z,ee),d._sqlite3_bind_parameter_index=(_,C)=>(d._sqlite3_bind_parameter_index=Ve.va)(_,C),d._sqlite3_sql=_=>(d._sqlite3_sql=Ve.wa)(_),d._sqlite3_normalized_sql=_=>(d._sqlite3_normalized_sql=Ve.xa)(_),d._sqlite3_changes=_=>(d._sqlite3_changes=Ve.ya)(_),d._sqlite3_close_v2=_=>(d._sqlite3_close_v2=Ve.za)(_),d._sqlite3_create_function_v2=(_,C,L,z,ee,ce,ye,Ye,lt)=>(d._sqlite3_create_function_v2=Ve.Aa)(_,C,L,z,ee,ce,ye,Ye,lt),d._sqlite3_update_hook=(_,C,L)=>(d._sqlite3_update_hook=Ve.Ba)(_,C,L),d._sqlite3_open=(_,C)=>(d._sqlite3_open=Ve.Ca)(_,C);var zs=d._malloc=_=>(zs=d._malloc=Ve.Da)(_),cs=d._free=_=>(cs=d._free=Ve.Ea)(_);d._RegisterExtensionFunctions=_=>(d._RegisterExtensionFunctions=Ve.Fa)(_);var Li=(_,C)=>(Li=Ve.Ga)(_,C),Ju=(_,C)=>(Ju=Ve.Ha)(_,C),vo=_=>(vo=Ve.Ia)(_),Tr=_=>(Tr=Ve.Ja)(_),ga=()=>(ga=Ve.Ka)();d.stackSave=()=>ga(),d.stackRestore=_=>vo(_),d.stackAlloc=_=>Tr(_),d.cwrap=(_,C,L,z)=>{var ee=!L||L.every(ce=>ce==="number"||ce==="boolean");return C!=="string"&&ee&&!z?d["_"+_]:(...ce)=>Qu(_,C,L,ce)},d.addFunction=Cr,d.removeFunction=qr,d.UTF8ToString=Ae,d.ALLOC_NORMAL=yo,d.allocate=ma,d.allocateUTF8OnStack=tl;function rl(){function _(){if(d.calledRun=!0,!B){if(!d.noFSInit&&!Ln){var C,L;Ln=!0,z??=d.stdin,C??=d.stdout,L??=d.stderr,z?ss("stdin",z):Tt("/dev/tty","/dev/stdin"),C?ss("stdout",null,C):Tt("/dev/tty","/dev/stdout"),L?ss("stderr",null,L):Tt("/dev/tty1","/dev/stderr"),It("/dev/stdin",0),It("/dev/stdout",1),It("/dev/stderr",1)}if(Ve.N(),Ai=!1,d.onRuntimeInitialized?.(),d.postRun)for(typeof d.postRun=="function"&&(d.postRun=[d.postRun]);d.postRun.length;){var z=d.postRun.shift();Ee.unshift(z)}ke(Ee)}}if(0<P)Y=rl;else{if(d.preRun)for(typeof d.preRun=="function"&&(d.preRun=[d.preRun]);d.preRun.length;)me();ke(Me),0<P?Y=rl:d.setStatus?(d.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>d.setStatus(""),1),_()},1)):_()}}if(d.preInit)for(typeof d.preInit=="function"&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.pop()();return rl(),c}),n)};e.exports=r,e.exports.default=r})(_m)),_m.exports}var z2=U2();const W2=by(z2);let ct=null,Ol=null;const A1="etymolog_db_v3";async function G2(){if(ct)return ct;Ol=await W2(typeof window>"u"?void 0:{locateFile:n=>`https://sql.js.org/dist/${n}`});const t=localStorage.getItem(A1);if(t)try{const n=Uint8Array.from(atob(t),r=>r.charCodeAt(0));ct=new Ol.Database(n),console.log("[DB] Loaded existing database from localStorage"),ct&&j1(ct)}catch(n){console.warn("[DB] Failed to load saved database, creating new one:",n);const r=new Ol.Database;Of(r),ct=r}else{const n=new Ol.Database;Of(n),ct=n,console.log("[DB] Created new database with v3 schema")}return ct}function Of(e){e.run("PRAGMA foreign_keys = ON"),e.run(`
        CREATE TABLE IF NOT EXISTS glyphs (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            name TEXT NOT NULL,
            svg_data TEXT NOT NULL,
            category TEXT,
            notes TEXT,
            created_at TEXT DEFAULT (datetime('now')),
            updated_at TEXT DEFAULT (datetime('now'))
        )
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_glyphs_name 
        ON glyphs(name)
    `),e.run(`
        CREATE TABLE IF NOT EXISTS graphemes (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            name TEXT NOT NULL,
            category TEXT,
            notes TEXT,
            created_at TEXT DEFAULT (datetime('now')),
            updated_at TEXT DEFAULT (datetime('now'))
        )
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_graphemes_name 
        ON graphemes(name)
    `),e.run(`
        CREATE TABLE IF NOT EXISTS grapheme_glyphs (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            grapheme_id INTEGER NOT NULL,
            glyph_id INTEGER NOT NULL,
            position INTEGER NOT NULL DEFAULT 0,
            transform TEXT,
            FOREIGN KEY (grapheme_id) REFERENCES graphemes(id) ON DELETE CASCADE,
            FOREIGN KEY (glyph_id) REFERENCES glyphs(id) ON DELETE RESTRICT,
            UNIQUE(grapheme_id, glyph_id, position)
        )
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_grapheme_glyphs_grapheme 
        ON grapheme_glyphs(grapheme_id)
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_grapheme_glyphs_glyph 
        ON grapheme_glyphs(glyph_id)
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_grapheme_glyphs_position 
        ON grapheme_glyphs(grapheme_id, position)
    `),e.run(`
        CREATE TABLE IF NOT EXISTS phonemes (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            grapheme_id INTEGER NOT NULL,
            phoneme TEXT NOT NULL,
            use_in_auto_spelling INTEGER DEFAULT 0,
            context TEXT,
            FOREIGN KEY (grapheme_id) REFERENCES graphemes(id) ON DELETE CASCADE
        )
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_phonemes_grapheme_id 
        ON phonemes(grapheme_id)
    `),e.run(`
        CREATE TABLE IF NOT EXISTS lexicon (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            lemma TEXT NOT NULL,
            pronunciation TEXT,
            is_native INTEGER DEFAULT 1,
            auto_spell INTEGER DEFAULT 1,
            meaning TEXT,
            part_of_speech TEXT,
            notes TEXT,
            glyph_order TEXT DEFAULT '[]',
            needs_attention INTEGER DEFAULT 0,
            created_at TEXT DEFAULT (datetime('now')),
            updated_at TEXT DEFAULT (datetime('now'))
        )
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_lexicon_lemma 
        ON lexicon(lemma)
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_lexicon_is_native 
        ON lexicon(is_native)
    `),e.run(`
        CREATE TABLE IF NOT EXISTS lexicon_spelling (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            lexicon_id INTEGER NOT NULL,
            grapheme_id INTEGER NOT NULL,
            position INTEGER NOT NULL DEFAULT 0,
            FOREIGN KEY (lexicon_id) REFERENCES lexicon(id) ON DELETE CASCADE,
            FOREIGN KEY (grapheme_id) REFERENCES graphemes(id) ON DELETE RESTRICT,
            UNIQUE(lexicon_id, grapheme_id, position)
        )
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_lexicon_spelling_lexicon 
        ON lexicon_spelling(lexicon_id)
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_lexicon_spelling_position 
        ON lexicon_spelling(lexicon_id, position)
    `),e.run(`
        CREATE TABLE IF NOT EXISTS lexicon_ancestry (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            lexicon_id INTEGER NOT NULL,
            ancestor_id INTEGER NOT NULL,
            position INTEGER NOT NULL DEFAULT 0,
            ancestry_type TEXT DEFAULT 'derived',
            FOREIGN KEY (lexicon_id) REFERENCES lexicon(id) ON DELETE CASCADE,
            FOREIGN KEY (ancestor_id) REFERENCES lexicon(id) ON DELETE SET NULL,
            UNIQUE(lexicon_id, ancestor_id)
        )
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_lexicon_ancestry_lexicon 
        ON lexicon_ancestry(lexicon_id)
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_lexicon_ancestry_ancestor 
        ON lexicon_ancestry(ancestor_id)
    `),e.run(`
        CREATE TABLE IF NOT EXISTS lexicon_ancestry_closure (
            ancestor_id INTEGER NOT NULL,
            descendant_id INTEGER NOT NULL,
            depth INTEGER NOT NULL,
            PRIMARY KEY (ancestor_id, descendant_id),
            FOREIGN KEY (ancestor_id) REFERENCES lexicon(id) ON DELETE CASCADE,
            FOREIGN KEY (descendant_id) REFERENCES lexicon(id) ON DELETE CASCADE
        )
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_closure_ancestor 
        ON lexicon_ancestry_closure(ancestor_id)
    `),e.run(`
        CREATE INDEX IF NOT EXISTS idx_closure_descendant 
        ON lexicon_ancestry_closure(descendant_id)
    `),console.log("[DB] Tables created successfully (v3 schema with category, lexicon, and closure)")}function j1(e){const t=e.exec(`
        SELECT name FROM sqlite_master 
        WHERE type='table' AND name='glyphs'
    `);if(t.length===0||t[0].values.length===0){console.log("[DB] Migrating from v1 to v3 schema..."),Of(e);return}const n=e.exec("PRAGMA table_info(glyphs)");n.length>0&&n[0].values.some(u=>u[1]==="category")||(console.log("[DB] Migrating from v2 to v3 schema (adding category columns)..."),e.run("ALTER TABLE glyphs ADD COLUMN category TEXT"),e.run("ALTER TABLE graphemes ADD COLUMN category TEXT"),console.log("[DB] Migration to v3 complete"));const i=e.exec(`
        SELECT name FROM sqlite_master
        WHERE type='table' AND name='lexicon'
    `);(i.length===0||i[0].values.length===0)&&(console.log("[DB] Creating lexicon tables..."),e.run(`
            CREATE TABLE IF NOT EXISTS lexicon (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                lemma TEXT NOT NULL,
                pronunciation TEXT,
                is_native INTEGER DEFAULT 1,
                auto_spell INTEGER DEFAULT 1,
                meaning TEXT,
                part_of_speech TEXT,
                notes TEXT,
                created_at TEXT DEFAULT (datetime('now')),
                updated_at TEXT DEFAULT (datetime('now'))
            )
        `),e.run(`
            CREATE INDEX IF NOT EXISTS idx_lexicon_lemma
            ON lexicon(lemma)
        `),e.run(`
            CREATE INDEX IF NOT EXISTS idx_lexicon_is_native
            ON lexicon(is_native)
        `),e.run(`
            CREATE TABLE IF NOT EXISTS lexicon_spelling (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                lexicon_id INTEGER NOT NULL,
                grapheme_id INTEGER NOT NULL,
                position INTEGER NOT NULL DEFAULT 0,
                FOREIGN KEY (lexicon_id) REFERENCES lexicon(id) ON DELETE CASCADE,
                FOREIGN KEY (grapheme_id) REFERENCES graphemes(id) ON DELETE RESTRICT,
                UNIQUE(lexicon_id, grapheme_id, position)
            )
        `),e.run(`
            CREATE INDEX IF NOT EXISTS idx_lexicon_spelling_lexicon
            ON lexicon_spelling(lexicon_id)
        `),e.run(`
            CREATE INDEX IF NOT EXISTS idx_lexicon_spelling_position
            ON lexicon_spelling(lexicon_id, position)
        `),e.run(`
            CREATE TABLE IF NOT EXISTS lexicon_ancestry (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                lexicon_id INTEGER NOT NULL,
                ancestor_id INTEGER NOT NULL,
                position INTEGER NOT NULL DEFAULT 0,
                ancestry_type TEXT DEFAULT 'derived',
                FOREIGN KEY (lexicon_id) REFERENCES lexicon(id) ON DELETE CASCADE,
                FOREIGN KEY (ancestor_id) REFERENCES lexicon(id) ON DELETE SET NULL,
                UNIQUE(lexicon_id, ancestor_id)
            )
        `),e.run(`
            CREATE INDEX IF NOT EXISTS idx_lexicon_ancestry_lexicon 
            ON lexicon_ancestry(lexicon_id)
        `),e.run(`
            CREATE INDEX IF NOT EXISTS idx_lexicon_ancestry_ancestor 
            ON lexicon_ancestry(ancestor_id)
        `));const o=e.exec(`
        SELECT name FROM sqlite_master
        WHERE type='table' AND name='lexicon_ancestry_closure'
    `);(o.length===0||o[0].values.length===0)&&(console.log("[DB] Creating lexicon closure table..."),e.run(`
            CREATE TABLE IF NOT EXISTS lexicon_ancestry_closure (
                ancestor_id INTEGER NOT NULL,
                descendant_id INTEGER NOT NULL,
                depth INTEGER NOT NULL,
                PRIMARY KEY (ancestor_id, descendant_id),
                FOREIGN KEY (ancestor_id) REFERENCES lexicon(id) ON DELETE CASCADE,
                FOREIGN KEY (descendant_id) REFERENCES lexicon(id) ON DELETE CASCADE
            )
        `),e.run(`
            CREATE INDEX IF NOT EXISTS idx_closure_ancestor 
            ON lexicon_ancestry_closure(ancestor_id)
        `),e.run(`
            CREATE INDEX IF NOT EXISTS idx_closure_descendant 
            ON lexicon_ancestry_closure(descendant_id)
        `));const l=e.exec("PRAGMA table_info(lexicon)");if(!(l.length>0&&l[0].values.some(u=>u[1]==="glyph_order"))){console.log("[DB] Migrating lexicon to v4 schema (adding glyph_order and needs_attention)..."),e.run("ALTER TABLE lexicon ADD COLUMN glyph_order TEXT DEFAULT '[]'"),e.run("ALTER TABLE lexicon ADD COLUMN needs_attention INTEGER DEFAULT 0");const u=e.exec("SELECT id FROM lexicon");if(u.length>0&&u[0].values.length>0){for(const d of u[0].values){const h=d[0],m=e.exec(`
                    SELECT grapheme_id FROM lexicon_spelling
                    WHERE lexicon_id = ?
                    ORDER BY position ASC
                `,[h]);if(m.length>0&&m[0].values.length>0){const x=m[0].values.map(b=>b[0]).map(b=>`grapheme-${b}`),w=JSON.stringify(x);e.run("UPDATE lexicon SET glyph_order = ? WHERE id = ?",[w,h])}}console.log("[DB] Migrated existing lexicon spelling to glyph_order format")}console.log("[DB] Migration to v4 complete")}e.run(`
        CREATE INDEX IF NOT EXISTS idx_lexicon_needs_attention
        ON lexicon(needs_attention)
    `)}function qe(){if(!ct)throw new Error("Database not initialized. Call initDatabase() first.");return ct}function aa(){return ct!==null}function Ft(){if(!ct){console.warn("[DB] Cannot persist: database not initialized");return}try{const e=ct.export(),t=Array.from(e).map(r=>String.fromCharCode(r)).join(""),n=btoa(t);localStorage.setItem(A1,n),console.log("[DB] Database persisted to localStorage")}catch(e){console.error("[DB] Failed to persist database:",e)}}function H2(){if(!ct)throw new Error("Database not initialized");const e=ct.export();return new Blob([new Uint8Array(e).buffer],{type:"application/x-sqlite3"})}async function Y2(e){if(!Ol)throw new Error("SQL.js not initialized");const t=await e.arrayBuffer(),n=new Uint8Array(t);ct&&ct.close(),ct=new Ol.Database(n),ct&&(j1(ct),Ft()),console.log("[DB] Database imported successfully")}function X2(){ct&&(ct.run("DELETE FROM lexicon_ancestry_closure"),ct.run("DELETE FROM lexicon_ancestry"),ct.run("DELETE FROM lexicon_spelling"),ct.run("DELETE FROM lexicon"),ct.run("DELETE FROM phonemes"),ct.run("DELETE FROM grapheme_glyphs"),ct.run("DELETE FROM graphemes"),ct.run("DELETE FROM glyphs"),ct.run("DELETE FROM sqlite_sequence WHERE name IN ('glyphs', 'graphemes', 'grapheme_glyphs', 'phonemes', 'lexicon', 'lexicon_spelling', 'lexicon_ancestry', 'lexicon_ancestry_closure')"),Ft(),console.log("[DB] Database cleared"))}function I1(){ct&&(ct.run("DROP TABLE IF EXISTS lexicon_ancestry_closure"),ct.run("DROP TABLE IF EXISTS lexicon_ancestry"),ct.run("DROP TABLE IF EXISTS lexicon_spelling"),ct.run("DROP TABLE IF EXISTS lexicon"),ct.run("DROP TABLE IF EXISTS phonemes"),ct.run("DROP TABLE IF EXISTS grapheme_glyphs"),ct.run("DROP TABLE IF EXISTS graphemes"),ct.run("DROP TABLE IF EXISTS glyphs"),Of(ct),Ft(),console.log("[DB] Database reset to fresh state"))}function q2(e){const t=qe();t.run("INSERT INTO glyphs (name, svg_data, category, notes) VALUES (?, ?, ?, ?)",[e.name,e.svg_data,e.category??null,e.notes??null]);const r=t.exec("SELECT last_insert_rowid() as id")[0].values[0][0];Ft();const i=Mf(r);if(!i)throw new Error("Failed to create glyph");return i}function Mf(e){const n=qe().exec(`SELECT id, name, svg_data, category, notes, created_at, updated_at 
         FROM glyphs WHERE id = ?`,[e]);if(n.length===0||n[0].values.length===0)return null;const r=n[0].values[0];return{id:r[0],name:r[1],svg_data:r[2],category:r[3],notes:r[4],created_at:r[5],updated_at:r[6]}}function K2(){const t=qe().exec(`SELECT id, name, svg_data, category, notes, created_at, updated_at 
         FROM glyphs 
         ORDER BY created_at DESC`);return t.length===0?[]:t[0].values.map(n=>({id:n[0],name:n[1],svg_data:n[2],category:n[3],notes:n[4],created_at:n[5],updated_at:n[6]}))}function Z2(){const t=qe().exec(`
        SELECT g.id, g.name, g.svg_data, g.category, g.notes, g.created_at, g.updated_at,
               COUNT(gg.id) as usage_count
        FROM glyphs g
        LEFT JOIN grapheme_glyphs gg ON g.id = gg.glyph_id
        GROUP BY g.id
        ORDER BY g.created_at DESC
    `);return t.length===0?[]:t[0].values.map(n=>({id:n[0],name:n[1],svg_data:n[2],category:n[3],notes:n[4],created_at:n[5],updated_at:n[6],usageCount:n[7]}))}function Q2(e){const n=qe().exec(`SELECT id, name, svg_data, category, notes, created_at, updated_at 
         FROM glyphs 
         WHERE name LIKE ?
         ORDER BY name`,[`%${e}%`]);return n.length===0?[]:n[0].values.map(r=>({id:r[0],name:r[1],svg_data:r[2],category:r[3],notes:r[4],created_at:r[5],updated_at:r[6]}))}function J2(e,t){const n=qe(),r=[],i=[];return t.name!==void 0&&(r.push("name = ?"),i.push(t.name)),t.svg_data!==void 0&&(r.push("svg_data = ?"),i.push(t.svg_data)),t.category!==void 0&&(r.push("category = ?"),i.push(t.category)),t.notes!==void 0&&(r.push("notes = ?"),i.push(t.notes)),r.length===0||(r.push("updated_at = datetime('now')"),i.push(e.toString()),n.run(`UPDATE glyphs SET ${r.join(", ")} WHERE id = ?`,i),Ft()),Mf(e)}function eR(e){const t=qe(),r=t.exec("SELECT COUNT(*) FROM grapheme_glyphs WHERE glyph_id = ?",[e])[0]?.values[0]?.[0]??0;if(r>0)throw new Error(`Cannot delete glyph: it is used by ${r} grapheme(s)`);return t.run("DELETE FROM glyphs WHERE id = ?",[e]),t.getRowsModified()>0?(Ft(),!0):!1}function tR(e){const t=qe();return t.run("DELETE FROM grapheme_glyphs WHERE glyph_id = ?",[e]),t.run("DELETE FROM glyphs WHERE id = ?",[e]),t.getRowsModified()>0?(Ft(),!0):!1}function nR(e){const t=qe(),n=t.exec("SELECT DISTINCT grapheme_id FROM grapheme_glyphs WHERE glyph_id = ?",[e]),r=n.length>0?n[0].values.map(o=>o[0]):[];for(const o of r)t.run("DELETE FROM phonemes WHERE grapheme_id = ?",[o]),t.run("DELETE FROM grapheme_glyphs WHERE grapheme_id = ?",[o]),t.run("DELETE FROM graphemes WHERE id = ?",[o]);return t.run("DELETE FROM glyphs WHERE id = ?",[e]),t.getRowsModified()>0?(Ft(),!0):!1}function rR(){return qe().exec("SELECT COUNT(*) FROM glyphs")[0]?.values[0]?.[0]??0}function iR(e,t){const n=qe(),r=t?"SELECT COUNT(*) FROM glyphs WHERE name = ? AND id != ?":"SELECT COUNT(*) FROM glyphs WHERE name = ?",i=t?[e,t]:[e];return(n.exec(r,i)[0]?.values[0]?.[0]??0)>0}function P1(){const e=qe(),t=e.exec(`
        SELECT g.id
        FROM glyphs g
        LEFT JOIN grapheme_glyphs gg ON g.id = gg.glyph_id
        WHERE gg.id IS NULL
    `);if(t.length===0||t[0].values.length===0)return 0;const n=t[0].values.map(i=>i[0]);let r=0;for(const i of n)e.run("DELETE FROM glyphs WHERE id = ?",[i]),r++;return r>0&&Ft(),r}function jn(e,t,n){return{success:!1,error:{code:e,message:t,details:n}}}function js(e){return{success:!0,data:e}}function Is(){return aa()?null:jn("DB_NOT_INITIALIZED","Database not initialized. Call initDatabase() first.")}function sR(e){const t=Is();if(t)return t;if(!e.name||e.name.trim()==="")return jn("VALIDATION_ERROR","Glyph name is required");if(!e.svg_data||e.svg_data.trim()==="")return jn("VALIDATION_ERROR","SVG data is required");try{const n=q2({name:e.name.trim(),svg_data:e.svg_data,category:e.category?.trim(),notes:e.notes?.trim()});return js(n)}catch(n){return jn("OPERATION_FAILED",n instanceof Error?n.message:"Failed to create glyph")}}function oR(e){const t=Is();if(t)return t;try{const n=Mf(e);return n?js(n):jn("NOT_FOUND",`Glyph with ID ${e} not found`)}catch(n){return jn("OPERATION_FAILED",n instanceof Error?n.message:"Failed to get glyph")}}function aR(){const e=Is();if(e)return e;try{const t=K2();return js({glyphs:t,total:t.length})}catch(t){return jn("OPERATION_FAILED",t instanceof Error?t.message:"Failed to get glyphs")}}function lR(){const e=Is();if(e)return e;try{const t=Z2();return js({glyphs:t,total:t.length})}catch(t){return jn("OPERATION_FAILED",t instanceof Error?t.message:"Failed to get glyphs with usage")}}function cR(e){const t=Is();if(t)return t;try{const n=Q2(e);return js({glyphs:n,total:n.length})}catch(n){return jn("OPERATION_FAILED",n instanceof Error?n.message:"Failed to search glyphs")}}function uR(e,t){const n=Is();if(n)return n;try{const r=J2(e,{name:t.name?.trim(),svg_data:t.svg_data,notes:t.notes});return r?js(r):jn("NOT_FOUND",`Glyph with ID ${e} not found`)}catch(r){return jn("OPERATION_FAILED",r instanceof Error?r.message:"Failed to update glyph")}}function dR(e){const t=Is();if(t)return t;try{return eR(e)?js(void 0):jn("NOT_FOUND",`Glyph with ID ${e} not found`)}catch(n){const r=n instanceof Error?n.message:"Failed to delete glyph";return r.includes("used by")?jn("CONSTRAINT_VIOLATION",r):jn("OPERATION_FAILED",r)}}function fR(e){const t=Is();if(t)return t;try{return tR(e)?js(void 0):jn("NOT_FOUND",`Glyph with ID ${e} not found`)}catch(n){return jn("OPERATION_FAILED",n instanceof Error?n.message:"Failed to force delete glyph")}}function pR(e){const t=Is();if(t)return t;try{return nR(e)?js(void 0):jn("NOT_FOUND",`Glyph with ID ${e} not found`)}catch(n){return jn("OPERATION_FAILED",n instanceof Error?n.message:"Failed to cascade delete glyph")}}function hR(e,t){const n=Is();if(n)return n;try{const r=iR(e,t);return js(r)}catch(r){return jn("OPERATION_FAILED",r instanceof Error?r.message:"Failed to check glyph name")}}const mR={create:sR,getById:oR,getAll:aR,getAllWithUsage:lR,search:cR,update:uR,delete:dR,forceDelete:fR,cascadeDelete:pR,checkNameExists:hR};function gR(e){const t=qe();if(!e.glyphs||e.glyphs.length===0)throw new Error("At least one glyph is required to create a grapheme");t.run("INSERT INTO graphemes (name, category, notes) VALUES (?, ?, ?)",[e.name,e.category??null,e.notes??null]);const r=t.exec("SELECT last_insert_rowid() as id")[0].values[0][0];for(const c of e.glyphs)wR(r,c);const i=[];if(e.phonemes&&e.phonemes.length>0)for(const c of e.phonemes){const u=M1(r,c);i.push(u)}Ft();const o=Ha(r);if(!o)throw new Error("Failed to create grapheme");const l=jy(r);return{...o,glyphs:l,phonemes:i}}function Ha(e){const n=qe().exec(`SELECT id, name, category, notes, created_at, updated_at 
         FROM graphemes WHERE id = ?`,[e]);if(n.length===0||n[0].values.length===0)return null;const r=n[0].values[0];return{id:r[0],name:r[1],category:r[2],notes:r[3],created_at:r[4],updated_at:r[5]}}function Ay(e){const t=Ha(e);if(!t)return null;const n=jy(e),r=Iy(e);return{...t,glyphs:n,phonemes:r}}function L1(){const t=qe().exec(`SELECT id, name, category, notes, created_at, updated_at 
         FROM graphemes 
         ORDER BY created_at DESC`);return t.length===0?[]:t[0].values.map(n=>({id:n[0],name:n[1],category:n[2],notes:n[3],created_at:n[4],updated_at:n[5]}))}function O1(){return L1().map(t=>({...t,glyphs:jy(t.id),phonemes:Iy(t.id)}))}function yR(e){const n=qe().exec(`SELECT id, name, category, notes, created_at, updated_at 
         FROM graphemes 
         WHERE name LIKE ?
         ORDER BY name`,[`%${e}%`]);return n.length===0?[]:n[0].values.map(r=>({id:r[0],name:r[1],category:r[2],notes:r[3],created_at:r[4],updated_at:r[5]}))}function vR(e,t){const n=qe(),r=[],i=[];return t.name!==void 0&&(r.push("name = ?"),i.push(t.name)),t.category!==void 0&&(r.push("category = ?"),i.push(t.category)),t.notes!==void 0&&(r.push("notes = ?"),i.push(t.notes)),r.length===0||(r.push("updated_at = datetime('now')"),i.push(e.toString()),n.run(`UPDATE graphemes SET ${r.join(", ")} WHERE id = ?`,i),Ft()),Ha(e)}function xR(e){const t=qe(),r=t.exec("SELECT COUNT(*) FROM lexicon_spelling WHERE grapheme_id = ?",[e])[0]?.values[0]?.[0]??0;if(r>0)throw new Error(`Cannot delete grapheme: it is used in ${r} lexicon entries. Constraint failed.`);return t.run("DELETE FROM phonemes WHERE grapheme_id = ?",[e]),t.run("DELETE FROM grapheme_glyphs WHERE grapheme_id = ?",[e]),t.run("DELETE FROM graphemes WHERE id = ?",[e]),t.getRowsModified()>0?(Ft(),!0):!1}function _R(){return qe().exec("SELECT COUNT(*) FROM graphemes")[0]?.values[0]?.[0]??0}function jy(e){const n=qe().exec(`
        SELECT g.id, g.name, g.svg_data, g.category, g.notes, g.created_at, g.updated_at
        FROM glyphs g
        JOIN grapheme_glyphs gg ON g.id = gg.glyph_id
        WHERE gg.grapheme_id = ?
        ORDER BY gg.position ASC
    `,[e]);return n.length===0?[]:n[0].values.map(r=>({id:r[0],name:r[1],svg_data:r[2],category:r[3],notes:r[4],created_at:r[5],updated_at:r[6]}))}function wR(e,t){const n=qe();n.run(`
        INSERT INTO grapheme_glyphs (grapheme_id, glyph_id, position, transform)
        VALUES (?, ?, ?, ?)
    `,[e,t.glyph_id,t.position,t.transform??null]);const i=n.exec("SELECT last_insert_rowid() as id")[0].values[0][0];return n.run("UPDATE graphemes SET updated_at = datetime('now') WHERE id = ?",[e]),Ft(),{id:i,grapheme_id:e,glyph_id:t.glyph_id,position:t.position,transform:t.transform??null}}function bR(e,t){const n=qe();n.run("DELETE FROM grapheme_glyphs WHERE grapheme_id = ?",[e]);for(const r of t)n.run(`
            INSERT INTO grapheme_glyphs (grapheme_id, glyph_id, position, transform)
            VALUES (?, ?, ?, ?)
        `,[e,r.glyph_id,r.position,r.transform??null]);n.run("UPDATE graphemes SET updated_at = datetime('now') WHERE id = ?",[e]),Ft()}function M1(e,t){const n=qe();n.run(`
        INSERT INTO phonemes (grapheme_id, phoneme, use_in_auto_spelling, context) 
        VALUES (?, ?, ?, ?)
    `,[e,t.phoneme,t.use_in_auto_spelling?1:0,t.context??null]);const i=n.exec("SELECT last_insert_rowid() as id")[0].values[0][0];Ft();const o=Df(i);if(!o)throw new Error("Failed to create phoneme");return o}function Df(e){const n=qe().exec(`
        SELECT id, grapheme_id, phoneme, use_in_auto_spelling, context 
        FROM phonemes WHERE id = ?
    `,[e]);if(n.length===0||n[0].values.length===0)return null;const r=n[0].values[0];return{id:r[0],grapheme_id:r[1],phoneme:r[2],use_in_auto_spelling:r[3]===1,context:r[4]}}function Iy(e){const n=qe().exec(`
        SELECT id, grapheme_id, phoneme, use_in_auto_spelling, context 
        FROM phonemes 
        WHERE grapheme_id = ?
        ORDER BY id ASC
    `,[e]);return n.length===0?[]:n[0].values.map(r=>({id:r[0],grapheme_id:r[1],phoneme:r[2],use_in_auto_spelling:r[3]===1,context:r[4]}))}function ER(e,t){const n=qe(),r=[],i=[];return t.phoneme!==void 0&&(r.push("phoneme = ?"),i.push(t.phoneme)),t.use_in_auto_spelling!==void 0&&(r.push("use_in_auto_spelling = ?"),i.push(t.use_in_auto_spelling?1:0)),t.context!==void 0&&(r.push("context = ?"),i.push(t.context)),r.length===0||(i.push(e),n.run(`UPDATE phonemes SET ${r.join(", ")} WHERE id = ?`,i),Ft()),Df(e)}function SR(e){const t=qe();return t.run("DELETE FROM phonemes WHERE id = ?",[e]),t.getRowsModified()>0?(Ft(),!0):!1}function CR(e){const t=qe();t.run("DELETE FROM phonemes WHERE grapheme_id = ?",[e]);const n=t.getRowsModified();return n>0&&Ft(),n}function Py(){const t=qe().exec(`
        SELECT id, grapheme_id, phoneme, use_in_auto_spelling, context
        FROM phonemes
        WHERE use_in_auto_spelling = 1
        ORDER BY grapheme_id, id
    `);return t.length===0?[]:t[0].values.map(n=>({id:n[0],grapheme_id:n[1],phoneme:n[2],use_in_auto_spelling:!0,context:n[4]}))}function TR(e){const n=qe().exec(`
        SELECT grapheme_id FROM phonemes WHERE phoneme = ? LIMIT 1
    `,[e]);if(n.length===0||n[0].values.length===0)return null;const r=n[0].values[0][0];return Ay(r)}function NR(){const e=qe(),t=new Map,n=e.exec(`
        SELECT DISTINCT phoneme, grapheme_id FROM phonemes ORDER BY grapheme_id, id
    `);if(n.length===0)return t;const r=new Set,i=new Map;for(const l of n[0].values){const c=l[0],u=l[1];i.has(c)||(i.set(c,u),r.add(u))}const o=new Map;for(const l of r){const c=Ay(l);c&&o.set(l,c)}for(const[l,c]of i){const u=o.get(c);u&&t.set(l,u)}return t}const D1="etymolog_settings_v1";let Ki={...Pf},C_=!1;function vg(e,t,n){return{success:!1,error:{code:e,message:t,details:n}}}function Ly(e){return{success:!0,data:e}}function kR(){try{const e=localStorage.getItem(D1);if(e){const t=JSON.parse(e);return{...Pf,...t}}}catch(e){console.warn("[Settings] Failed to load settings from localStorage:",e)}return{...Pf}}function F1(e){try{localStorage.setItem(D1,JSON.stringify(e))}catch(t){console.warn("[Settings] Failed to save settings to localStorage:",t)}}function Oy(){C_||(Ki=kR(),C_=!0)}function RR(){return Oy(),Ly({...Ki})}function $1(e){Oy();try{return e.autoSaveInterval!==void 0&&e.autoSaveInterval<0?vg("VALIDATION_ERROR","Auto-save interval cannot be negative"):(Ki={...Ki,...e},F1(Ki),Ly({...Ki}))}catch(t){return vg("OPERATION_FAILED",t instanceof Error?t.message:"Failed to update settings")}}function AR(){try{return Ki={...Pf},F1(Ki),Ly({...Ki})}catch(e){return vg("OPERATION_FAILED",e instanceof Error?e.message:"Failed to reset settings")}}const B1={get:RR,update:$1,reset:AR};function op(){return Oy(),{...Ki}}const xg=new Set;function jR(e){return xg.add(e),()=>xg.delete(e)}function IR(){const e={...Ki};xg.forEach(t=>t(e))}const PR=$1;function LR(e){const t=PR(e);return t.success&&IR(),t}B1.update=LR;function bt(e,t,n){return{success:!1,error:{code:e,message:t,details:n}}}function Un(e){return{success:!0,data:e}}function zn(){return aa()?null:bt("DB_NOT_INITIALIZED","Database not initialized. Call initDatabase() first.")}function OR(e){const t=zn();if(t)return t;if(!e.name||e.name.trim()==="")return bt("VALIDATION_ERROR","Grapheme name is required");if(!e.glyphs||e.glyphs.length===0)return bt("VALIDATION_ERROR","At least one glyph is required");try{const n=gR({name:e.name.trim(),category:e.category?.trim(),notes:e.notes?.trim(),glyphs:e.glyphs.map(r=>({glyph_id:r.glyph_id,position:r.position,transform:r.transform})),phonemes:e.phonemes?.map(r=>({phoneme:r.phoneme.trim(),use_in_auto_spelling:r.use_in_auto_spelling,context:r.context?.trim()}))});return Un(n)}catch(n){return bt("OPERATION_FAILED",n instanceof Error?n.message:"Failed to create grapheme")}}function MR(e){const t=zn();if(t)return t;try{const n=Ha(e);return n?Un(n):bt("NOT_FOUND",`Grapheme with ID ${e} not found`)}catch(n){return bt("OPERATION_FAILED",n instanceof Error?n.message:"Failed to get grapheme")}}function DR(e){const t=zn();if(t)return t;try{const n=Ay(e);return n?Un(n):bt("NOT_FOUND",`Grapheme with ID ${e} not found`)}catch(n){return bt("OPERATION_FAILED",n instanceof Error?n.message:"Failed to get complete grapheme")}}function FR(){const e=zn();if(e)return e;try{const t=L1();return Un({graphemes:t,total:t.length})}catch(t){return bt("OPERATION_FAILED",t instanceof Error?t.message:"Failed to get graphemes")}}function $R(){const e=zn();if(e)return e;try{const t=O1();return Un({graphemes:t,total:t.length})}catch(t){return bt("OPERATION_FAILED",t instanceof Error?t.message:"Failed to get complete graphemes")}}function BR(e){const t=zn();if(t)return t;try{const n=yR(e);return Un({graphemes:n,total:n.length})}catch(n){return bt("OPERATION_FAILED",n instanceof Error?n.message:"Failed to search graphemes")}}function VR(e,t){const n=zn();if(n)return n;try{const r=vR(e,{name:t.name?.trim(),category:t.category!==void 0?t.category?.trim()||null:void 0,notes:t.notes});return r?Un(r):bt("NOT_FOUND",`Grapheme with ID ${e} not found`)}catch(r){return bt("OPERATION_FAILED",r instanceof Error?r.message:"Failed to update grapheme")}}function UR(e,t){const n=zn();if(n)return n;if(!t.glyphs||t.glyphs.length===0)return bt("VALIDATION_ERROR","At least one glyph is required");try{if(!Ha(e))return bt("NOT_FOUND",`Grapheme with ID ${e} not found`);if(bR(e,t.glyphs.map(o=>({glyph_id:o.glyph_id,position:o.position,transform:o.transform}))),op().autoManageGlyphs){const o=P1();o>0&&console.log(`[Auto-manage] Cleaned up ${o} orphaned glyph(s)`)}return Un(void 0)}catch(r){return bt("OPERATION_FAILED",r instanceof Error?r.message:"Failed to update grapheme glyphs")}}function zR(e){const t=zn();if(t)return t;try{if(!xR(e))return bt("NOT_FOUND",`Grapheme with ID ${e} not found`);if(op().autoManageGlyphs){const i=P1();i>0&&console.log(`[Auto-manage] Cleaned up ${i} orphaned glyph(s)`)}return Un(void 0)}catch(n){return bt("OPERATION_FAILED",n instanceof Error?n.message:"Failed to delete grapheme")}}function WR(e){const t=zn();if(t)return t;try{const n=TR(e);return Un(n)}catch(n){return bt("OPERATION_FAILED",n instanceof Error?n.message:"Failed to get grapheme by phoneme")}}function GR(){const e=zn();if(e)return e;try{const t=NR();return Un(t)}catch(t){return bt("OPERATION_FAILED",t instanceof Error?t.message:"Failed to get phoneme-grapheme mappings")}}const HR={create:OR,getById:MR,getByIdComplete:DR,getAll:FR,getAllComplete:$R,search:BR,update:VR,updateGlyphs:UR,delete:zR,getByPhoneme:WR,getPhonemeMap:GR};function YR(e){const t=zn();if(t)return t;if(!e.phoneme||e.phoneme.trim()==="")return bt("VALIDATION_ERROR","Phoneme is required");try{if(!Ha(e.grapheme_id))return bt("NOT_FOUND",`Grapheme with ID ${e.grapheme_id} not found`);const r=M1(e.grapheme_id,{phoneme:e.phoneme.trim(),use_in_auto_spelling:e.use_in_auto_spelling,context:e.context?.trim()});return Un(r)}catch(n){return bt("OPERATION_FAILED",n instanceof Error?n.message:"Failed to add phoneme")}}function XR(e){const t=zn();if(t)return t;try{const n=Df(e);return n?Un(n):bt("NOT_FOUND",`Phoneme with ID ${e} not found`)}catch(n){return bt("OPERATION_FAILED",n instanceof Error?n.message:"Failed to get phoneme")}}function qR(e){const t=zn();if(t)return t;try{const n=Iy(e);return Un(n)}catch(n){return bt("OPERATION_FAILED",n instanceof Error?n.message:"Failed to get phonemes")}}function KR(e,t){const n=zn();if(n)return n;try{const r=ER(e,{phoneme:t.phoneme?.trim(),use_in_auto_spelling:t.use_in_auto_spelling,context:t.context});return r?Un(r):bt("NOT_FOUND",`Phoneme with ID ${e} not found`)}catch(r){return bt("OPERATION_FAILED",r instanceof Error?r.message:"Failed to update phoneme")}}function ZR(e){const t=zn();if(t)return t;try{return SR(e)?Un(void 0):bt("NOT_FOUND",`Phoneme with ID ${e} not found`)}catch(n){return bt("OPERATION_FAILED",n instanceof Error?n.message:"Failed to delete phoneme")}}function QR(e){const t=zn();if(t)return t;try{const n=CR(e);return Un(n)}catch(n){return bt("OPERATION_FAILED",n instanceof Error?n.message:"Failed to delete phonemes")}}function JR(){const e=zn();if(e)return e;try{const t=Py();return Un(t)}catch(t){return bt("OPERATION_FAILED",t instanceof Error?t.message:"Failed to get auto-spelling phonemes")}}const eA={add:YR,getById:XR,getByGraphemeId:qR,update:KR,delete:ZR,deleteAllForGrapheme:QR,getAutoSpelling:JR};function ro(e,t,n){return{success:!1,error:{code:e,message:t,details:n}}}function Lu(e){return{success:!0,data:e}}function tA(){try{const e=aa();let t=0,n=0;if(e)try{t=rR(),n=_R()}catch{}return Lu({initialized:e,glyphCount:t,graphemeCount:n})}catch(e){return ro("OPERATION_FAILED",e instanceof Error?e.message:"Failed to get database status")}}function nA(e="sqlite"){if(!aa())return ro("DB_NOT_INITIALIZED","Database not initialized");try{if(e==="json")return ro("OPERATION_FAILED","JSON export not yet implemented");const t=H2();return Lu(t)}catch(t){return ro("OPERATION_FAILED",t instanceof Error?t.message:"Failed to export database")}}async function rA(e){try{return await Y2(e),Lu(void 0)}catch(t){return ro("OPERATION_FAILED",t instanceof Error?t.message:"Failed to import database")}}function iA(){if(!aa())return ro("DB_NOT_INITIALIZED","Database not initialized");try{return X2(),Lu(void 0)}catch(e){return ro("OPERATION_FAILED",e instanceof Error?e.message:"Failed to clear database")}}function sA(){if(!aa())return ro("DB_NOT_INITIALIZED","Database not initialized");try{return I1(),Lu(void 0)}catch(e){return ro("OPERATION_FAILED",e instanceof Error?e.message:"Failed to reset database")}}const oA={getStatus:tA,export:nA,import:rA,clear:iA,reset:sA},_g="grapheme-";function aA(e){if(!e.startsWith(_g))return null;const t=e.substring(_g.length),n=parseInt(t,10);return isNaN(n)||n<=0?null:n}function V1(e){return`${_g}${e}`}function U1(e){const t=aA(e);return t!==null?{type:"grapheme",rawValue:e,graphemeId:t}:{type:"ipa",rawValue:e,ipaCharacter:e}}function Ff(e){return e.map(U1)}function lA(e){const t=new Set;let n=0;for(const r of e){const i=U1(r);i.type==="grapheme"&&i.graphemeId?t.add(i.graphemeId):i.type==="ipa"&&n++}return{graphemeIds:Array.from(t),hasIpaFallbacks:n>0,ipaFallbackCount:n}}function My(e){return JSON.stringify(e)}function z1(e){if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.filter(n=>typeof n=="string"):[]}catch{return[]}}function cA(e,t){const n=qe();try{n.run(`
            INSERT OR IGNORE INTO lexicon_ancestry_closure (ancestor_id, descendant_id, depth)
            VALUES (?, ?, 1)
        `,[t,e])}catch{}n.run(`
        INSERT OR IGNORE INTO lexicon_ancestry_closure (ancestor_id, descendant_id, depth)
        SELECT 
            closure.ancestor_id,
            ? as descendant_id,
            closure.depth + 1
        FROM lexicon_ancestry_closure closure
        WHERE closure.descendant_id = ?
    `,[e,t]),n.run(`
        INSERT OR IGNORE INTO lexicon_ancestry_closure (ancestor_id, descendant_id, depth)
        SELECT 
            ? as ancestor_id,
            closure.descendant_id,
            closure.depth + 1
        FROM lexicon_ancestry_closure closure
        WHERE closure.ancestor_id = ?
    `,[t,e]),n.run(`
        INSERT OR IGNORE INTO lexicon_ancestry_closure (ancestor_id, descendant_id, depth)
        SELECT 
            super.ancestor_id,
            sub.descendant_id,
            super.depth + 1 + sub.depth
        FROM lexicon_ancestry_closure super
        CROSS JOIN lexicon_ancestry_closure sub
        WHERE super.descendant_id = ? AND sub.ancestor_id = ?
    `,[t,e]),Ft()}function uA(){const e=qe();e.run("DELETE FROM lexicon_ancestry_closure"),e.run(`
        INSERT INTO lexicon_ancestry_closure (ancestor_id, descendant_id, depth)
        WITH RECURSIVE paths(ancestor_id, descendant_id, depth) AS (
            -- Base case: direct parents
            SELECT ancestor_id, lexicon_id, 1
            FROM lexicon_ancestry
            
            UNION ALL
            
            -- Recursive case: path -> child
            SELECT p.ancestor_id, la.lexicon_id, p.depth + 1
            FROM paths p
            JOIN lexicon_ancestry la ON p.descendant_id = la.ancestor_id
            WHERE p.depth < 50 -- fail-safe against cycles
        )
        SELECT DISTINCT ancestor_id, descendant_id, depth FROM paths
    `),Ft()}function W1(e,t){const n=qe();if(e===t)return!0;const r=n.exec(`
        SELECT 1 FROM lexicon_ancestry_closure 
        WHERE ancestor_id = ? AND descendant_id = ?
        LIMIT 1
    `,[e,t]);return r.length>0&&r[0].values.length>0}function dA(e){const t=qe();let n=[];e.glyph_order&&e.glyph_order.length>0?n=e.glyph_order:e.spelling&&e.spelling.length>0&&(n=[...e.spelling].sort((u,d)=>u.position-d.position).map(u=>V1(u.grapheme_id)));const r=My(n);t.run(`INSERT INTO lexicon (lemma, pronunciation, is_native, auto_spell, meaning, part_of_speech, notes, glyph_order, needs_attention) 
         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,[e.lemma!==void 0?e.lemma:null,e.pronunciation!==void 0?e.pronunciation:null,e.is_native!==!1?1:0,e.auto_spell!==!1?1:0,e.meaning!==void 0?e.meaning:null,e.part_of_speech!==void 0?e.part_of_speech:null,e.notes!==void 0?e.notes:null,r,0]);const o=t.exec("SELECT last_insert_rowid() as id")[0].values[0][0];if(Z1(o,n),e.ancestry&&e.ancestry.length>0)for(const c of e.ancestry)xA(o,c);Ft();const l=G1(o);if(!l)throw new Error("Failed to create lexicon entry");return l}function ts(e){const n=qe().exec(`SELECT id, lemma, pronunciation, is_native, auto_spell, meaning, part_of_speech, notes, glyph_order, needs_attention, created_at, updated_at 
         FROM lexicon WHERE id = ?`,[e]);if(n.length===0||n[0].values.length===0)return null;const r=n[0].values[0];return qa(r)}function fA(e){const t=ts(e);if(!t)return null;const n=vA(e);return{...t,spelling:n}}function G1(e){const t=ts(e);if(!t)return null;const{entries:n,hasIpaFallbacks:r}=Q1(t.glyph_order),i=n.filter(c=>c.type==="grapheme"&&c.grapheme).map(c=>c.grapheme),o=Dy(e),l=q1(e);return{...t,spellingDisplay:n,spelling:i,ancestors:o,descendants:l,hasIpaFallbacks:r}}function H1(){const t=qe().exec(`SELECT id, lemma, pronunciation, is_native, auto_spell, meaning, part_of_speech, notes, glyph_order, needs_attention, created_at, updated_at 
         FROM lexicon 
         ORDER BY needs_attention DESC, COALESCE(pronunciation, lemma) ASC`);return t.length===0?[]:t[0].values.map(qa)}function Y1(){return H1().map(t=>{const{entries:n,hasIpaFallbacks:r}=Q1(t.glyph_order),i=n.filter(o=>o.type==="grapheme"&&o.grapheme).map(o=>o.grapheme);return{...t,spellingDisplay:n,spelling:i,ancestors:Dy(t.id),descendants:q1(t.id),hasIpaFallbacks:r}})}function pA(){const t=qe().exec(`
        SELECT l.id, l.lemma, l.pronunciation, l.is_native, l.auto_spell, l.meaning, 
               l.part_of_speech, l.notes, l.glyph_order, l.needs_attention, l.created_at, l.updated_at,
               COUNT(la.id) as descendant_count
        FROM lexicon l
        LEFT JOIN lexicon_ancestry la ON l.id = la.ancestor_id
        GROUP BY l.id
        ORDER BY l.needs_attention DESC, COALESCE(l.pronunciation, l.lemma) ASC
    `);return t.length===0?[]:t[0].values.map(n=>({...qa(n),descendantCount:n[12]}))}function hA(e){const n=qe().exec(`SELECT id, lemma, pronunciation, is_native, auto_spell, meaning, part_of_speech, notes, glyph_order, needs_attention, created_at, updated_at 
         FROM lexicon 
         WHERE pronunciation LIKE ? OR meaning LIKE ? OR lemma LIKE ?
         ORDER BY needs_attention DESC, COALESCE(pronunciation, lemma) ASC`,[`%${e}%`,`%${e}%`,`%${e}%`]);return n.length===0?[]:n[0].values.map(qa)}function mA(e){const n=qe().exec(`SELECT id, lemma, pronunciation, is_native, auto_spell, meaning, part_of_speech, notes, glyph_order, needs_attention, created_at, updated_at 
         FROM lexicon 
         WHERE is_native = ?
         ORDER BY needs_attention DESC, COALESCE(pronunciation, lemma) ASC`,[e?1:0]);return n.length===0?[]:n[0].values.map(qa)}function gA(e,t){const n=qe(),r=[],i=[];if(t.lemma!==void 0&&(r.push("lemma = ?"),i.push(t.lemma)),t.pronunciation!==void 0&&(r.push("pronunciation = ?"),i.push(t.pronunciation)),t.is_native!==void 0&&(r.push("is_native = ?"),i.push(t.is_native?1:0)),t.auto_spell!==void 0&&(r.push("auto_spell = ?"),i.push(t.auto_spell?1:0)),t.meaning!==void 0&&(r.push("meaning = ?"),i.push(t.meaning)),t.part_of_speech!==void 0&&(r.push("part_of_speech = ?"),i.push(t.part_of_speech)),t.notes!==void 0&&(r.push("notes = ?"),i.push(t.notes)),t.glyph_order!==void 0){const o=My(t.glyph_order);r.push("glyph_order = ?"),i.push(o)}return t.needs_attention!==void 0&&(r.push("needs_attention = ?"),i.push(t.needs_attention?1:0)),r.length===0||(r.push("updated_at = datetime('now')"),i.push(e),n.run(`UPDATE lexicon SET ${r.join(", ")} WHERE id = ?`,i),t.glyph_order!==void 0&&Z1(e,t.glyph_order),Ft()),ts(e)}function yA(e){const t=qe();if(!ts(e))throw new Error(`Lexicon entry with id ${e} not found`);t.run("DELETE FROM lexicon_spelling WHERE lexicon_id = ?",[e]),t.run("DELETE FROM lexicon_ancestry WHERE lexicon_id = ?",[e]),t.run("DELETE FROM lexicon_ancestry WHERE ancestor_id = ?",[e]),t.run("DELETE FROM lexicon WHERE id = ?",[e]);const r=t.getRowsModified();return r>0&&Ft(),r>0}function vA(e){const n=qe().exec(`
        SELECT g.id, g.name, g.category, g.notes, g.created_at, g.updated_at
        FROM graphemes g
        JOIN lexicon_spelling ls ON g.id = ls.grapheme_id
        WHERE ls.lexicon_id = ?
        ORDER BY ls.position ASC
    `,[e]);return n.length===0?[]:n[0].values.map(r=>({id:r[0],name:r[1],category:r[2],notes:r[3],created_at:r[4],updated_at:r[5]}))}function X1(e,t){const n=qe();n.run("DELETE FROM lexicon_spelling WHERE lexicon_id = ?",[e]);for(const r of t)n.run(`
            INSERT INTO lexicon_spelling (lexicon_id, grapheme_id, position)
            VALUES (?, ?, ?)
        `,[e,r.grapheme_id,r.position]);n.run("UPDATE lexicon SET updated_at = datetime('now') WHERE id = ?",[e]),Ft()}function Dy(e){const n=qe().exec(`
        SELECT l.id, l.lemma, l.pronunciation, l.is_native, l.auto_spell, l.meaning, 
               l.part_of_speech, l.notes, l.created_at, l.updated_at,
               la.position, la.ancestry_type
        FROM lexicon l
        JOIN lexicon_ancestry la ON l.id = la.ancestor_id
        WHERE la.lexicon_id = ?
        ORDER BY la.position ASC
    `,[e]);return n.length===0?[]:n[0].values.map(r=>({ancestor:qa(r),position:r[10],ancestry_type:r[11]}))}function q1(e){const n=qe().exec(`
        SELECT l.id, l.lemma, l.pronunciation, l.is_native, l.auto_spell, l.meaning, 
               l.part_of_speech, l.notes, l.created_at, l.updated_at,
               la.ancestry_type
        FROM lexicon l
        JOIN lexicon_ancestry la ON l.id = la.lexicon_id
        WHERE la.ancestor_id = ?
        ORDER BY COALESCE(l.pronunciation, l.lemma) ASC
    `,[e]);return n.length===0?[]:n[0].values.map(r=>({descendant:qa(r),ancestry_type:r[10]}))}function xA(e,t){if(W1(e,t.ancestor_id))throw new Error(`Cannot add ancestor: would create a cycle (lexicon ${e} is an ancestor of ${t.ancestor_id})`);const n=qe();n.run(`
        INSERT INTO lexicon_ancestry (lexicon_id, ancestor_id, position, ancestry_type)
        VALUES (?, ?, ?, ?)
    `,[e,t.ancestor_id,t.position,t.ancestry_type??"derived"]);const i=n.exec("SELECT last_insert_rowid() as id")[0].values[0][0];return n.run("UPDATE lexicon SET updated_at = datetime('now') WHERE id = ?",[e]),cA(e,t.ancestor_id),Ft(),{id:i,lexicon_id:e,ancestor_id:t.ancestor_id,position:t.position,ancestry_type:t.ancestry_type??"derived"}}function _A(e,t){const n=qe();n.run("DELETE FROM lexicon_ancestry WHERE lexicon_id = ?",[e]);for(const r of t)n.run(`
            INSERT INTO lexicon_ancestry (lexicon_id, ancestor_id, position, ancestry_type)
            VALUES (?, ?, ?, ?)
        `,[e,r.ancestor_id,r.position,r.ancestry_type??"derived"]);n.run("UPDATE lexicon SET updated_at = datetime('now') WHERE id = ?",[e]),uA(),Ft()}function wA(e,t=50){if(!ts(e))throw new Error(`Lexicon entry with id ${e} not found`);const r=new Set;function i(o,l,c,u){const d=ts(o);if(!d||r.has(o)||u>t)return{entry:d??{id:o,lemma:"[Not Found]"},ancestry_type:l,position:c,ancestors:[]};r.add(o);const m=Dy(o).map(v=>i(v.ancestor.id,v.ancestry_type,v.position,u+1));return{entry:d,ancestry_type:l,position:c,ancestors:m}}return i(e,null,null,0)}function bA(e,t=50){const r=qe().exec(`
        WITH RECURSIVE ancestors AS (
            SELECT ancestor_id, 1 as depth
            FROM lexicon_ancestry
            WHERE lexicon_id = ?
            
            UNION ALL
            
            SELECT la.ancestor_id, a.depth + 1
            FROM lexicon_ancestry la
            JOIN ancestors a ON la.lexicon_id = a.ancestor_id
            WHERE a.depth < ?
        )
        SELECT DISTINCT ancestor_id FROM ancestors
    `,[e,t]);return r.length===0?[]:r[0].values.map(i=>i[0])}function EA(e,t=50){const n=qe(),r=n.exec(`
        SELECT descendant_id FROM lexicon_ancestry_closure
        WHERE ancestor_id = ?
    `,[e]);if(r.length>0)return r[0].values.map(o=>o[0]);const i=n.exec(`
        WITH RECURSIVE descendants AS (
            SELECT lexicon_id, 1 as depth
            FROM lexicon_ancestry
            WHERE ancestor_id = ?
            
            UNION ALL
            
            SELECT la.lexicon_id, d.depth + 1
            FROM lexicon_ancestry la
            JOIN descendants d ON la.ancestor_id = d.lexicon_id
            WHERE d.depth < ?
        )
        SELECT DISTINCT lexicon_id FROM descendants
    `,[e,t]);return i.length===0?[]:i[0].values.map(o=>o[0])}function K1(e,t){return W1(e,t)}function qa(e){return{id:e[0],lemma:e[1],pronunciation:e[2],is_native:e[3]===1,auto_spell:e[4]===1,meaning:e[5],part_of_speech:e[6],notes:e[7],glyph_order:e[8]??"[]",needs_attention:e[9]===1,created_at:e[10],updated_at:e[11]}}function Z1(e,t){const n=qe();n.run("DELETE FROM lexicon_spelling WHERE lexicon_id = ?",[e]);const r=lA(t),i=new Map;let o=0;for(const l of Ff(t))l.type==="grapheme"&&l.graphemeId&&!i.has(l.graphemeId)&&i.set(l.graphemeId,o++);for(const l of r.graphemeIds){const c=i.get(l)??0;try{n.run(`
                INSERT INTO lexicon_spelling (lexicon_id, grapheme_id, position)
                VALUES (?, ?, ?)
            `,[e,l,c])}catch(u){console.warn(`[LexiconService] Failed to sync spelling for lexicon ${e}, grapheme ${l}:`,u)}}}function Q1(e){const t=qe(),n=[],r=Ff(z1(e));let i=!1;for(let o=0;o<r.length;o++){const l=r[o];if(l.type==="grapheme"&&l.graphemeId){const c=t.exec(`
                SELECT id, name, category, notes, created_at, updated_at
                FROM graphemes WHERE id = ?
            `,[l.graphemeId]);if(c.length>0&&c[0].values.length>0){const u=c[0].values[0];n.push({type:"grapheme",position:o,grapheme:{id:u[0],name:u[1],category:u[2],notes:u[3],created_at:u[4],updated_at:u[5]}})}else n.push({type:"ipa",position:o,ipaCharacter:`[?${l.graphemeId}]`}),i=!0}else l.type==="ipa"&&l.ipaCharacter&&(n.push({type:"ipa",position:o,ipaCharacter:l.ipaCharacter}),i=!0)}return{entries:n,hasIpaFallbacks:i}}const SA={direction:"ltr",glyphSpacing:8,glyphWidth:48,glyphHeight:48,canvasPadding:16};function J1(e){return{...SA,...e,customLayout:e?.customLayout}}function CA(e,t={}){const n=J1(t),{direction:r,customLayout:i}=n;if(r==="custom"&&i)return i(e,n);switch(r){case"rtl":return NA(e,n);case"ttb":return kA(e,n);case"btt":return RA(e,n);case"ltr":default:return TA(e,n)}}function TA(e,t){const{glyphSpacing:n,glyphWidth:r,glyphHeight:i,canvasPadding:o}=t;return e.map((l,c)=>({glyph:l,index:c,x:o+c*(r+n),y:o,width:r,height:i}))}function NA(e,t){const{glyphSpacing:n,glyphWidth:r,glyphHeight:i,canvasPadding:o}=t,l=e.length*r+(e.length-1)*n,c=o+l-r;return e.map((u,d)=>({glyph:u,index:d,x:c-d*(r+n),y:o,width:r,height:i}))}function kA(e,t){const{glyphSpacing:n,glyphWidth:r,glyphHeight:i,canvasPadding:o}=t;return e.map((l,c)=>({glyph:l,index:c,x:o,y:o+c*(i+n),width:r,height:i}))}function RA(e,t){const{glyphSpacing:n,glyphWidth:r,glyphHeight:i,canvasPadding:o}=t,l=e.length*i+(e.length-1)*n,c=o+l-i;return e.map((u,d)=>({glyph:u,index:d,x:o,y:c-d*(i+n),width:r,height:i}))}function AA(e,t={}){const n=J1(t),{canvasPadding:r,glyphWidth:i,glyphHeight:o}=n;if(e.length===0)return{width:r*2+i,height:r*2+o,minX:0,minY:0,maxX:r*2+i,maxY:r*2+o};let l=1/0,c=1/0,u=-1/0,d=-1/0;for(const h of e)l=Math.min(l,h.x),c=Math.min(c,h.y),u=Math.max(u,h.x+h.width),d=Math.max(d,h.y+h.height);return{width:u-l+r*2,height:d-c+r*2,minX:l-r,minY:c-r,maxX:u+r,maxY:d+r}}function jA(e,t=2,n=24){if(e.length===0)return"";if(e.length===1)return e[0];const r=e.length*n+(e.length-1)*t,i=n,o=e.map((l,c)=>{const u=l.match(/<svg[^>]*>([\s\S]*?)<\/svg>/i),d=u?u[1]:l;return`<g transform="translate(${c*(n+t)}, 0)">${d}</g>`});return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${r} ${i}" width="${r}" height="${i}">${o.join("")}</svg>`}function IA(e){if(!e.glyphs||e.glyphs.length===0)return"";const t=e.glyphs.filter(n=>n.svg_data).map(n=>n.svg_data);return jA(t)}function PA(e){return{id:e.id,name:e.name,svg_data:IA(e),category:e.category,notes:e.notes}}function LA(e){return typeof e=="object"&&e!==null&&"glyphs"in e&&Array.isArray(e.glyphs)}function eE(e){return LA(e)?PA(e):{id:e.id,name:e.name,svg_data:e.svg_data,category:e.category,notes:e.notes,usageCount:e.usageCount}}function OA(e){const t=new Map;for(const n of e){const r=eE(n);t.set(r.id,r)}return t}const MA=1e6;function DA(e){let t=5381;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return Math.abs(t)}function tE(e){return-(1+DA(e)%MA)}function bf(e){return e<0}function FA(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function $A(e){return`<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
  <style>
    .ipa-char {
      font-family: "Doulos SIL", "Charis SIL", "Gentium Plus", "DejaVu Sans", "Lucida Sans Unicode", "Arial Unicode MS", sans-serif;
      font-size: 28px;
      fill: currentColor;
      dominant-baseline: central;
      text-anchor: middle;
    }
  </style>
  <text x="24" y="24" class="ipa-char">${FA(e)}</text>
</svg>`}function fu(e,t){return{id:tE(e),ipaCharacter:e,name:e,svg_data:$A(e),category:"IPA Fallback",notes:t??null,source:"virtual-ipa"}}function wg(e,t){return t==null||e.coverage>t.coverage?!0:e.coverage<t.coverage?!1:e.graphemeCount<t.graphemeCount}function nE(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e.substring(r),o=[];for(const l of t)i.startsWith(l.phoneme)&&o.push({mapping:l,endIndex:r+l.phoneme.length});o.length>0&&n.set(r,o)}return n}function BA(e,t,n){const r=[];let i=t;for(;i>0;){const d=e[i];r.push({match:d.lastMatch,isSkip:d.isSkip,skippedChar:d.skippedChar}),i=d.prevIndex}r.reverse();const o=[],l=[];let c=!1,u=0;for(const d of r)if(d.isSkip&&d.skippedChar){const h=tE(d.skippedChar);o.push({grapheme_id:h,position:u++,isVirtual:!0,ipaCharacter:d.skippedChar}),l.push(d.skippedChar),c=!0}else d.match&&(o.push({grapheme_id:d.match.grapheme_id,position:u++,isVirtual:!1}),l.push(d.match.phoneme));return{spelling:o,segments:l,hasVirtualGlyphs:c}}function rE(e){if(!e||e.trim()==="")return{success:!1,spelling:[],segments:[],unmatchedParts:[],error:"Pronunciation is empty"};const t=Py();if(t.length===0)return{success:!1,spelling:[],segments:[],unmatchedParts:[e],error:'No phonemes are marked for auto-spelling. Create graphemes with phonemes and enable "use in auto-spelling".'};const n=iE(t);return VA(e,n)}function iE(e){const t=new Map,n=[];for(const r of e)t.has(r.phoneme)||(t.set(r.phoneme,r.grapheme_id),n.push({phoneme:r.phoneme,grapheme_id:r.grapheme_id}));return n}function VA(e,t){const n=e.length,r=nE(e,t),i=new Array(n+1);i[0]={coverage:0,graphemeCount:0,prevIndex:-1,lastMatch:null,isSkip:!1};for(let d=1;d<=n;d++)for(let h=0;h<d;h++){if(!i[h])continue;const m=r.get(h);if(m){for(const{mapping:v,endIndex:x}of m)if(x===d){const w={coverage:i[h].coverage+(d-h),graphemeCount:i[h].graphemeCount+1,prevIndex:h,lastMatch:v,isSkip:!1};wg(w,i[d])&&(i[d]=w)}}}if(!i[n]){let d=0;for(let m=n;m>=0;m--)if(i[m]){d=m;break}const h=[];return d<n&&h.push(e.substring(d)),{success:!1,spelling:[],segments:[],unmatchedParts:h.length>0?h:[e],error:`Could not match: ${h.length>0?h.join(", "):e}`}}const o=[];let l=n;for(;l>0&&i[l];){const d=i[l].lastMatch;d&&o.push(d),l=i[l].prevIndex}o.reverse();const c=[],u=[];for(let d=0;d<o.length;d++)c.push({grapheme_id:o[d].grapheme_id,position:d}),u.push(o[d].phoneme);return{success:!0,spelling:c,segments:u,unmatchedParts:[]}}function UA(e,t){const n=e.length,r=nE(e,t),i=new Array(n+1);i[0]={coverage:0,graphemeCount:0,prevIndex:-1,lastMatch:null,isSkip:!1};for(let u=1;u<=n;u++){if(i[u-1]){const d={coverage:i[u-1].coverage,graphemeCount:i[u-1].graphemeCount+1,prevIndex:u-1,lastMatch:null,isSkip:!0,skippedChar:e[u-1]};wg(d,i[u])&&(i[u]=d)}for(let d=0;d<u;d++){if(!i[d])continue;const h=r.get(d);if(h){for(const{mapping:m,endIndex:v}of h)if(v===u){const x={coverage:i[d].coverage+(u-d),graphemeCount:i[d].graphemeCount+1,prevIndex:d,lastMatch:m,isSkip:!1};wg(x,i[u])&&(i[u]=x)}}}}const{spelling:o,segments:l,hasVirtualGlyphs:c}=BA(i,n);return{success:o.length>0,spelling:o,segments:l,unmatchedParts:[],hasVirtualGlyphs:c}}function sE(e){if(!e||e.trim()==="")return{success:!1,spelling:[],segments:[],unmatchedParts:[],error:"Pronunciation is empty",hasVirtualGlyphs:!1};const t=Py(),n=iE(t);return UA(e,n)}function zA(e){return sE(e)}function WA(e){const t=new Map;for(const n of e.spelling)if(n.isVirtual&&n.ipaCharacter){const r=fu(n.ipaCharacter);t.set(n.grapheme_id,r)}return t}function mt(e,t,n){return{success:!1,error:{code:e,message:t,details:n}}}function In(e){return{success:!0,data:e}}function Pn(){return aa()?null:mt("DB_NOT_INITIALIZED","Database not initialized. Call initDatabase() first.")}function GA(e){const t=Pn();if(t)return t;const n=e.lemma&&e.lemma.trim()?e.lemma.trim():e.pronunciation&&e.pronunciation.trim()?e.pronunciation.trim():void 0;if(!n)return mt("VALIDATION_ERROR","Lemma or pronunciation is required");try{const r=dA({...e,lemma:n,pronunciation:e.pronunciation?.trim(),meaning:e.meaning?.trim(),part_of_speech:e.part_of_speech?.trim(),notes:e.notes?.trim()});return In(r)}catch(r){const i=r instanceof Error?r.message:"Failed to create lexicon entry";return mt("OPERATION_FAILED",i)}}function HA(e){const t=Pn();if(t)return t;try{const n=ts(e);return n?In(n):mt("NOT_FOUND",`Lexicon entry with id ${e} not found`)}catch(n){const r=n instanceof Error?n.message:"Failed to get lexicon entry";return mt("OPERATION_FAILED",r)}}function YA(e){const t=Pn();if(t)return t;try{const n=G1(e);return n?In(n):mt("NOT_FOUND",`Lexicon entry with id ${e} not found`)}catch(n){const r=n instanceof Error?n.message:"Failed to get lexicon entry";return mt("OPERATION_FAILED",r)}}function XA(){const e=Pn();if(e)return e;try{const t=H1();return In({entries:t,total:t.length})}catch(t){const n=t instanceof Error?t.message:"Failed to get lexicon entries";return mt("OPERATION_FAILED",n)}}function qA(){const e=Pn();if(e)return e;try{const t=Y1();return In({entries:t,total:t.length})}catch(t){const n=t instanceof Error?t.message:"Failed to get lexicon entries";return mt("OPERATION_FAILED",n)}}function KA(){const e=Pn();if(e)return e;try{const t=pA();return In({entries:t,total:t.length})}catch(t){const n=t instanceof Error?t.message:"Failed to get lexicon entries";return mt("OPERATION_FAILED",n)}}function ZA(e){const t=Pn();if(t)return t;try{const n=hA(e);return In({entries:n,total:n.length})}catch(n){const r=n instanceof Error?n.message:"Failed to search lexicon entries";return mt("OPERATION_FAILED",r)}}function QA(e){const t=Pn();if(t)return t;try{const n=mA(e);return In({entries:n,total:n.length})}catch(n){const r=n instanceof Error?n.message:"Failed to get lexicon entries";return mt("OPERATION_FAILED",r)}}function JA(e,t){const n=Pn();if(n)return n;try{const r=gA(e,{...t,lemma:t.lemma?.trim(),pronunciation:t.pronunciation?.trim(),meaning:t.meaning?.trim(),part_of_speech:t.part_of_speech?.trim(),notes:t.notes?.trim()});return r?In(r):mt("NOT_FOUND",`Lexicon entry with id ${e} not found`)}catch(r){const i=r instanceof Error?r.message:"Failed to update lexicon entry";return mt("OPERATION_FAILED",i)}}function ej(e){const t=Pn();if(t)return t;try{return yA(e)?In(void 0):mt("NOT_FOUND",`Lexicon entry with id ${e} not found`)}catch(n){const r=n instanceof Error?n.message:"Failed to delete lexicon entry";return mt("OPERATION_FAILED",r)}}function tj(e,t){const n=Pn();if(n)return n;try{return ts(e)?(X1(e,t.spelling),In(void 0)):mt("NOT_FOUND",`Lexicon entry with id ${e} not found`)}catch(r){const i=r instanceof Error?r.message:"Failed to update spelling";return i.includes("FOREIGN KEY constraint failed")?mt("CONSTRAINT_VIOLATION","One or more grapheme IDs do not exist"):mt("OPERATION_FAILED",i)}}function nj(e,t){const n=Pn();if(n)return n;try{if(!ts(e))return mt("NOT_FOUND",`Lexicon entry with id ${e} not found`);for(const i of t.ancestry)if(K1(e,i.ancestor_id))return mt("CONSTRAINT_VIOLATION",`Adding ancestor ${i.ancestor_id} would create a cycle in the etymology tree`);return _A(e,t.ancestry),In(void 0)}catch(r){const i=r instanceof Error?r.message:"Failed to update ancestry";return i.includes("FOREIGN KEY constraint failed")?mt("CONSTRAINT_VIOLATION","One or more ancestor IDs do not exist"):mt("OPERATION_FAILED",i)}}function rj(e,t){const n=Pn();if(n)return n;try{const r=wA(e,t);return In(r)}catch(r){const i=r instanceof Error?r.message:"Failed to get ancestry tree";return i.includes("not found")?mt("NOT_FOUND",i):mt("OPERATION_FAILED",i)}}function ij(e){const t=Pn();if(t)return t;try{const n=bA(e);return In(n)}catch(n){const r=n instanceof Error?n.message:"Failed to get ancestor IDs";return mt("OPERATION_FAILED",r)}}function sj(e){const t=Pn();if(t)return t;try{const n=EA(e);return In(n)}catch(n){const r=n instanceof Error?n.message:"Failed to get descendant IDs";return mt("OPERATION_FAILED",r)}}function oj(e,t){const n=Pn();if(n)return n;try{const r=K1(e,t);return In(r)}catch(r){const i=r instanceof Error?r.message:"Failed to check for cycle";return mt("OPERATION_FAILED",i)}}function aj(e){const t=Pn();if(t)return t;try{const n=rE(e);return In(n)}catch(n){const r=n instanceof Error?n.message:"Failed to generate auto-spelling";return mt("OPERATION_FAILED",r)}}function lj(e){const t=Pn();if(t)return t;try{const n=zA(e);return In(n)}catch(n){const r=n instanceof Error?n.message:"Failed to preview auto-spelling";return mt("OPERATION_FAILED",r)}}function cj(e){const t=Pn();if(t)return t;try{const n=ts(e);if(!n)return mt("NOT_FOUND",`Lexicon entry with id ${e} not found`);if(!n.pronunciation)return mt("VALIDATION_ERROR","Lexicon entry has no pronunciation to generate spelling from");const r=rE(n.pronunciation);if(!r.success)return mt("OPERATION_FAILED",r.error??"Failed to generate spelling");X1(e,r.spelling);const i=fA(e);return i?In(i):mt("OPERATION_FAILED","Failed to get updated lexicon entry")}catch(n){const r=n instanceof Error?n.message:"Failed to apply auto-spelling";return mt("OPERATION_FAILED",r)}}const uj={create:GA,getById:HA,getByIdComplete:YA,getAll:XA,getAllComplete:qA,getAllWithUsage:KA,search:ZA,getByNative:QA,update:JA,delete:ej,updateSpelling:tj,updateAncestry:nj,getAncestryTree:rj,getAllAncestorIds:ij,getAllDescendantIds:sj,wouldCreateCycle:oj,generateAutoSpelling:aj,previewAutoSpelling:lj,applyAutoSpelling:cj},$f=`
`;function dj(e){if(!e||!e.trim())return[];const t=[];let n=0;const r=e.split(/\n/);for(let i=0;i<r.length;i++){const l=r[i].split(/[ \t]+/).filter(c=>c.length>0);for(const c of l)t.push({originalWord:c,normalizedWord:c.toLowerCase().trim(),position:n++});i<r.length-1&&t.push({originalWord:$f,normalizedWord:$f,position:n++})}return t}function fj(e,t){for(const n of t)if(n.lemma.toLowerCase()===e)return n;return null}function pj(e,t){const n=fj(e.normalizedWord,t);if(n)return{word:e,type:"lexicon",lexiconEntry:n,spellingDisplay:n.spellingDisplay,hasVirtualGlyphs:n.hasIpaFallbacks};const r=sE(e.originalWord),i=r.spelling.map((o,l)=>o.isVirtual&&o.ipaCharacter?{type:"ipa",position:l,ipaCharacter:o.ipaCharacter}:{type:"ipa",position:l,ipaCharacter:e.originalWord[l]||"?"});return{word:e,type:"autospell",spellingDisplay:i,hasVirtualGlyphs:r.hasVirtualGlyphs}}function hj(e,t){return e?.useNoGlyph?null:e?.graphemeId!==null&&t?{type:"grapheme",position:0,grapheme:{id:t.id,name:t.name,category:t.category,notes:t.notes,created_at:t.created_at,updated_at:t.updated_at}}:{type:"ipa",position:0,ipaCharacter:" "}}function mj(e,t,n){const r=e,i=e.trim(),o=dj(i),c=o.filter(b=>b.originalWord!==$f).map(b=>pj(b,t)),u=n?.punctuationSettings?.wordSeparator,d=u?.graphemeId!==null&&u?.graphemeId!==void 0?n?.punctuationGraphemes?.get(u.graphemeId):null,h=[];let m=0,v=!1,x=0,w=!1;for(let b=0;b<o.length;b++){if(o[b].originalWord===$f){h.push({type:"ipa",position:m++,ipaCharacter:`
`}),w=!1;continue}if(w){const R=hj(u,d);R!==null&&h.push({...R,position:m++})}const S=c[x++];for(const R of S.spellingDisplay)h.push({...R,position:m++});S.hasVirtualGlyphs&&(v=!0),w=!0}return{originalPhrase:r,normalizedPhrase:i,wordTranslations:c,combinedSpelling:h,hasVirtualGlyphs:v,timestamp:new Date().toISOString()}}function bg(e,t,n){return{success:!1,error:{code:e,message:t,details:n}}}function gj(e){return{success:!0,data:e}}function yj(){return aa()?null:bg("DB_NOT_INITIALIZED","Database not initialized. Call initDatabase() first.")}function vj(e,t){const n=yj();if(n)return n;if(!e||!e.trim())return bg("VALIDATION_ERROR","Phrase is empty");try{const r=Y1();let i;if(t){const l=O1(),c=new Map;for(const u of l)c.set(u.id,u);i={punctuationSettings:t,punctuationGraphemes:c}}const o=mj(e,r,i);return gj(o)}catch(r){const i=r instanceof Error?r.message:"Translation failed";return bg("OPERATION_FAILED",i)}}const xj={translate:vj},xt={glyph:mR,grapheme:HR,phoneme:eA,settings:B1,database:oA,lexicon:uj,phrase:xj},_j={glyphs:[],glyphsWithUsage:[],graphemesComplete:[],lexiconComplete:[],glyphCount:0,graphemeCount:0,lexiconCount:0},oE=y.createContext(null);function wj({children:e}){const[t,n]=y.useState(!0),[r,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(_j),[d,h]=y.useState(op);y.useEffect(()=>{let S=!0;async function R(){try{await G2(),S&&(i(!0),l(null))}catch(k){S&&l(k instanceof Error?k:new Error("Database initialization failed"))}finally{S&&n(!1)}}return R(),()=>{S=!1}},[]),y.useEffect(()=>jR(R=>{h(R)}),[]);const m=y.useCallback(()=>{if(!r)return;const S=xt.glyph.getAll(),R=xt.glyph.getAllWithUsage();S.success&&R.success&&u(k=>({...k,glyphs:S.data?.glyphs??[],glyphsWithUsage:R.data?.glyphs??[],glyphCount:S.data?.total??0}))},[r]),v=y.useCallback(()=>{if(!r)return;const S=xt.grapheme.getAllComplete();S.success&&u(R=>({...R,graphemesComplete:S.data?.graphemes??[],graphemeCount:S.data?.total??0}))},[r]),x=y.useCallback(()=>{if(!r)return;const S=xt.lexicon.getAllComplete();S.success&&u(R=>({...R,lexiconComplete:S.data?.entries??[],lexiconCount:S.data?.total??0}))},[r]),w=y.useCallback(()=>{m(),v(),x()},[m,v,x]);y.useEffect(()=>{r&&w()},[r,w]);const b=y.useMemo(()=>{const S=(R,k)=>((...A)=>{const I=R(...A);return I.success&&k(),I});return{glyph:{...xt.glyph,create:S(xt.glyph.create,w),update:S(xt.glyph.update,w),delete:S(xt.glyph.delete,w),forceDelete:S(xt.glyph.forceDelete,w),cascadeDelete:S(xt.glyph.cascadeDelete,w)},grapheme:{...xt.grapheme,create:S(xt.grapheme.create,w),update:S(xt.grapheme.update,v),updateGlyphs:S(xt.grapheme.updateGlyphs,v),delete:S(xt.grapheme.delete,w)},phoneme:{...xt.phoneme,add:S(xt.phoneme.add,v),update:S(xt.phoneme.update,v),delete:S(xt.phoneme.delete,v),deleteAllForGrapheme:S(xt.phoneme.deleteAllForGrapheme,v)},settings:xt.settings,database:{...xt.database,clear:(()=>{const R=xt.database.clear();return R.success&&w(),R}),reset:(()=>{const R=xt.database.reset();return R.success&&w(),R}),import:async R=>{const k=await xt.database.import(R);return k.success&&w(),k}},lexicon:{...xt.lexicon,create:S(xt.lexicon.create,x),update:S(xt.lexicon.update,x),delete:S(xt.lexicon.delete,x),updateSpelling:S(xt.lexicon.updateSpelling,x),updateAncestry:S(xt.lexicon.updateAncestry,x),applyAutoSpelling:S(xt.lexicon.applyAutoSpelling,x)},phrase:xt.phrase}},[w,m,v,x]),T=y.useMemo(()=>({api:b,data:c,settings:d,isLoading:t,isReady:r,error:o,refresh:w,refreshGlyphs:m,refreshGraphemes:v,refreshLexicon:x}),[b,c,d,t,r,o,w,m,v,x]);return f.jsx(oE.Provider,{value:T,children:e})}function hn(){const e=y.useContext(oE);if(!e)throw new Error("useEtymolog must be used within an EtymologProvider");return e}function aE(){const{api:e}=hn();return e}function lE(){const{settings:e,api:t}=hn(),n=y.useCallback(i=>t.settings.update(i),[t]),r=y.useCallback(()=>t.settings.reset(),[t]);return{settings:e,updateSettings:n,resetSettings:r}}const bj="_positionRelative_22xdi_5",Ej="_cursorPointer_22xdi_26",Sj="_transformStylePreserve3d_22xdi_51",Fy={positionRelative:bj,cursorPointer:Ej,transformStylePreserve3d:Sj},Cj="_flex_vjhre_1",Tj="_flexColumn_vjhre_1",Nj="_flexRow_vjhre_1",kj="_flexCenter_vjhre_11",Rj="_justifyContentEnd_vjhre_29",Aj="_justifyContentCenter_vjhre_33",jj="_justifyContentSpaceBetween_vjhre_37",Ij="_alignItemsCenter_vjhre_50",Pj="_flexGrow_vjhre_55",Lj="_flexGapS_vjhre_82",Oj="_flexGapM_vjhre_86",Mj="_flexGapL_vjhre_90",pe={flex:Cj,flexColumn:Tj,flexRow:Nj,flexCenter:kj,justifyContentEnd:Rj,justifyContentCenter:Aj,justifyContentSpaceBetween:jj,alignItemsCenter:Ij,flexGrow:Pj,flexGapS:Lj,flexGapM:Oj,flexGapL:Mj},Dj="_underlineHighlightColorPrimary_11tsj_103",ri={underlineHighlightColorPrimary:Dj},Fj="_parentWidth_16e3p_48",$j="_parentSize_16e3p_56",Bj="_paddingS_16e3p_78",Vj="_paddingM_16e3p_90",Uj="_paddingL_16e3p_102",zj="_paddingLHeight_16e3p_106",Wj="_fitContent_16e3p_210",Ot={parentWidth:Fj,parentSize:$j,paddingS:Bj,paddingM:Vj,paddingL:Uj,paddingLHeight:zj,fitContent:Wj},Gj="_primaryOutlineContainer_1pdhf_1",Hj={primaryOutlineContainer:Gj},Yj="_spinner_124lh_1",Xj="_loadingText_124lh_11",qj="_successIcon_124lh_17",Kj="_failureIcon_124lh_29",Zj="_messageText_124lh_41",Hl={spinner:Yj,loadingText:Xj,successIcon:qj,failureIcon:Kj,messageText:Zj};var wm={exports:{}};var T_;function Qj(){return T_||(T_=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)t.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(wm)),wm.exports}var Jj=Qj();const Z=by(Jj);function cE(e={},t={}){return(n,r={})=>{const i=e[n||""]||t[n||""]||n||"";return!r||Object.keys(r).length===0?i:i.replace(/%\{([^}]+)\}/g,(o,l)=>{const c=r[l];return c!=null?String(c):""})}}var Ml=9e15,la=1e9,Eg="0123456789abcdef",Bf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Vf="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Sg={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ml,maxE:Ml,crypto:!1},uE,to,rt=!0,ap="[DecimalError] ",ea=ap+"Invalid argument: ",dE=ap+"Precision limit exceeded",fE=ap+"crypto unavailable",pE="[object Decimal]",lr=Math.floor,Rn=Math.pow,eI=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,tI=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,nI=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,hE=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qi=1e7,et=7,rI=9007199254740991,iI=Bf.length-1,Cg=Vf.length-1,we={toStringTag:pE};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Xe(e)};we.ceil=function(){return Xe(new this.constructor(this),this.e+1,2)};we.clampedTo=we.clamp=function(e,t){var n,r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(ea+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new i(r)};we.comparedTo=we.cmp=function(e){var t,n,r,i,o=this,l=o.d,c=(e=new o.constructor(e)).d,u=o.s,d=e.s;if(!l||!c)return!u||!d?NaN:u!==d?u:l===c?0:!l^u<0?1:-1;if(!l[0]||!c[0])return l[0]?u:c[0]?-d:0;if(u!==d)return u;if(o.e!==e.e)return o.e>e.e^u<0?1:-1;for(r=l.length,i=c.length,t=0,n=r<i?r:i;t<n;++t)if(l[t]!==c[t])return l[t]>c[t]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1};we.cosine=we.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+et,r.rounding=1,n=sI(r,xE(r,n)),r.precision=e,r.rounding=t,Xe(to==2||to==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};we.cubeRoot=we.cbrt=function(){var e,t,n,r,i,o,l,c,u,d,h=this,m=h.constructor;if(!h.isFinite()||h.isZero())return new m(h);for(rt=!1,o=h.s*Rn(h.s*h,1/3),!o||Math.abs(o)==1/0?(n=Zn(h.d),e=h.e,(o=(e-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=Rn(n,1/3),e=lr((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?n="5e"+e:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new m(n),r.s=h.s):r=new m(o.toString()),l=(e=m.precision)+3;;)if(c=r,u=c.times(c).times(c),d=u.plus(h),r=Mt(d.plus(h).times(c),d.plus(u),l+2,1),Zn(c.d).slice(0,l)===(n=Zn(r.d)).slice(0,l))if(n=n.slice(l-3,l+1),n=="9999"||!i&&n=="4999"){if(!i&&(Xe(c,e+1,0),c.times(c).times(c).eq(h))){r=c;break}l+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(Xe(r,e+1,1),t=!r.times(r).times(r).eq(h));break}return rt=!0,Xe(r,e,m.rounding,t)};we.decimalPlaces=we.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-lr(this.e/et))*et,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};we.dividedBy=we.div=function(e){return Mt(this,new this.constructor(e))};we.dividedToIntegerBy=we.divToInt=function(e){var t=this,n=t.constructor;return Xe(Mt(t,new n(e),0,1,1),n.precision,n.rounding)};we.equals=we.eq=function(e){return this.cmp(e)===0};we.floor=function(){return Xe(new this.constructor(this),this.e+1,3)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){var t=this.cmp(e);return t==1||t===0};we.hyperbolicCosine=we.cosh=function(){var e,t,n,r,i,o=this,l=o.constructor,c=new l(1);if(!o.isFinite())return new l(o.s?1/0:NaN);if(o.isZero())return c;n=l.precision,r=l.rounding,l.precision=n+Math.max(o.e,o.sd())+4,l.rounding=1,i=o.d.length,i<32?(e=Math.ceil(i/3),t=(1/cp(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),o=Yl(l,1,o.times(t),new l(1),!0);for(var u,d=e,h=new l(8);d--;)u=o.times(o),o=c.minus(u.times(h.minus(u.times(h))));return Xe(o,l.precision=n,l.rounding=r,!0)};we.hyperbolicSine=we.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=Yl(o,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,i=i.times(1/cp(5,e)),i=Yl(o,2,i,i,!0);for(var l,c=new o(5),u=new o(16),d=new o(20);e--;)l=i.times(i),i=i.times(c.plus(l.times(u.times(l).plus(d))))}return o.precision=t,o.rounding=n,Xe(i,t,n,!0)};we.hyperbolicTangent=we.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,Mt(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};we.inverseCosine=we.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,i=t.rounding;return n!==-1?n===0?e.isNeg()?bs(t,r,i):new t(0):new t(NaN):e.isZero()?bs(t,r+4,i).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=i,e.times(2))};we.inverseHyperbolicCosine=we.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,rt=!1,n=n.times(n).minus(1).sqrt().plus(n),rt=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};we.inverseHyperbolicSine=we.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,rt=!1,n=n.times(n).plus(1).sqrt().plus(n),rt=!0,r.precision=e,r.rounding=t,n.ln())};we.inverseHyperbolicTangent=we.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?Xe(new o(i),e,t,!0):(o.precision=n=r-i.e,i=Mt(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)};we.inverseSine=we.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,t!==-1?t===0?(e=bs(o,n+4,r).times(.5),e.s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))};we.inverseTangent=we.atan=function(){var e,t,n,r,i,o,l,c,u,d=this,h=d.constructor,m=h.precision,v=h.rounding;if(d.isFinite()){if(d.isZero())return new h(d);if(d.abs().eq(1)&&m+4<=Cg)return l=bs(h,m+4,v).times(.25),l.s=d.s,l}else{if(!d.s)return new h(NaN);if(m+4<=Cg)return l=bs(h,m+4,v).times(.5),l.s=d.s,l}for(h.precision=c=m+10,h.rounding=1,n=Math.min(28,c/et+2|0),e=n;e;--e)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(rt=!1,t=Math.ceil(c/et),r=1,u=d.times(d),l=new h(d),i=d;e!==-1;)if(i=i.times(u),o=l.minus(i.div(r+=2)),i=i.times(u),l=o.plus(i.div(r+=2)),l.d[t]!==void 0)for(e=t;l.d[e]===o.d[e]&&e--;);return n&&(l=l.times(2<<n-1)),rt=!0,Xe(l,h.precision=m,h.rounding=v,!0)};we.isFinite=function(){return!!this.d};we.isInteger=we.isInt=function(){return!!this.d&&lr(this.e/et)>this.d.length-2};we.isNaN=function(){return!this.s};we.isNegative=we.isNeg=function(){return this.s<0};we.isPositive=we.isPos=function(){return this.s>0};we.isZero=function(){return!!this.d&&this.d[0]===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,n,r,i,o,l,c,u,d=this,h=d.constructor,m=h.precision,v=h.rounding,x=5;if(e==null)e=new h(10),t=!0;else{if(e=new h(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new h(NaN);t=e.eq(10)}if(n=d.d,d.s<0||!n||!n[0]||d.eq(1))return new h(n&&!n[0]?-1/0:d.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=i!==1}if(rt=!1,c=m+x,l=Wo(d,c),r=t?Uf(h,c+10):Wo(e,c),u=Mt(l,r,c,1),Su(u.d,i=m,v))do if(c+=10,l=Wo(d,c),r=t?Uf(h,c+10):Wo(e,c),u=Mt(l,r,c,1),!o){+Zn(u.d).slice(i+1,i+15)+1==1e14&&(u=Xe(u,m+1,0));break}while(Su(u.d,i+=10,v));return rt=!0,Xe(u,m,v)};we.minus=we.sub=function(e){var t,n,r,i,o,l,c,u,d,h,m,v,x=this,w=x.constructor;if(e=new w(e),!x.d||!e.d)return!x.s||!e.s?e=new w(NaN):x.d?e.s=-e.s:e=new w(e.d||x.s!==e.s?x:NaN),e;if(x.s!=e.s)return e.s=-e.s,x.plus(e);if(d=x.d,v=e.d,c=w.precision,u=w.rounding,!d[0]||!v[0]){if(v[0])e.s=-e.s;else if(d[0])e=new w(x);else return new w(u===3?-0:0);return rt?Xe(e,c,u):e}if(n=lr(e.e/et),h=lr(x.e/et),d=d.slice(),o=h-n,o){for(m=o<0,m?(t=d,o=-o,l=v.length):(t=v,n=h,l=d.length),r=Math.max(Math.ceil(c/et),l)+2,o>r&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for(r=d.length,l=v.length,m=r<l,m&&(l=r),r=0;r<l;r++)if(d[r]!=v[r]){m=d[r]<v[r];break}o=0}for(m&&(t=d,d=v,v=t,e.s=-e.s),l=d.length,r=v.length-l;r>0;--r)d[l++]=0;for(r=v.length;r>o;){if(d[--r]<v[r]){for(i=r;i&&d[--i]===0;)d[i]=Qi-1;--d[i],d[r]+=Qi}d[r]-=v[r]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=lp(d,n),rt?Xe(e,c,u):e):new w(u===3?-0:0)};we.modulo=we.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?Xe(new r(n),r.precision,r.rounding):(rt=!1,r.modulo==9?(t=Mt(n,e.abs(),0,3,1),t.s*=e.s):t=Mt(n,e,0,r.modulo,1),t=t.times(e),rt=!0,n.minus(t))};we.naturalExponential=we.exp=function(){return Tg(this)};we.naturalLogarithm=we.ln=function(){return Wo(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Xe(e)};we.plus=we.add=function(e){var t,n,r,i,o,l,c,u,d,h,m=this,v=m.constructor;if(e=new v(e),!m.d||!e.d)return!m.s||!e.s?e=new v(NaN):m.d||(e=new v(e.d||m.s===e.s?m:NaN)),e;if(m.s!=e.s)return e.s=-e.s,m.minus(e);if(d=m.d,h=e.d,c=v.precision,u=v.rounding,!d[0]||!h[0])return h[0]||(e=new v(m)),rt?Xe(e,c,u):e;if(o=lr(m.e/et),r=lr(e.e/et),d=d.slice(),i=o-r,i){for(i<0?(n=d,i=-i,l=h.length):(n=h,r=o,l=d.length),o=Math.ceil(c/et),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=d.length,i=h.length,l-i<0&&(i=l,n=h,h=d,d=n),t=0;i;)t=(d[--i]=d[i]+h[i]+t)/Qi|0,d[i]%=Qi;for(t&&(d.unshift(t),++r),l=d.length;d[--l]==0;)d.pop();return e.d=d,e.e=lp(d,r),rt?Xe(e,c,u):e};we.precision=we.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ea+e);return n.d?(t=mE(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};we.round=function(){var e=this,t=e.constructor;return Xe(new t(e),e.e+1,t.rounding)};we.sine=we.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+et,r.rounding=1,n=aI(r,xE(r,n)),r.precision=e,r.rounding=t,Xe(to>2?n.neg():n,e,t,!0)):new r(NaN)};we.squareRoot=we.sqrt=function(){var e,t,n,r,i,o,l=this,c=l.d,u=l.e,d=l.s,h=l.constructor;if(d!==1||!c||!c[0])return new h(!d||d<0&&(!c||c[0])?NaN:c?l:1/0);for(rt=!1,d=Math.sqrt(+l),d==0||d==1/0?(t=Zn(c),(t.length+u)%2==0&&(t+="0"),d=Math.sqrt(t),u=lr((u+1)/2)-(u<0||u%2),d==1/0?t="5e"+u:(t=d.toExponential(),t=t.slice(0,t.indexOf("e")+1)+u),r=new h(t)):r=new h(d.toString()),n=(u=h.precision)+3;;)if(o=r,r=o.plus(Mt(l,o,n+2,1)).times(.5),Zn(o.d).slice(0,n)===(t=Zn(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!i&&t=="4999"){if(!i&&(Xe(o,u+1,0),o.times(o).eq(l))){r=o;break}n+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Xe(r,u+1,1),e=!r.times(r).eq(l));break}return rt=!0,Xe(r,u,h.rounding,e)};we.tangent=we.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=Mt(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,Xe(to==2||to==4?n.neg():n,e,t,!0)):new r(NaN)};we.times=we.mul=function(e){var t,n,r,i,o,l,c,u,d,h=this,m=h.constructor,v=h.d,x=(e=new m(e)).d;if(e.s*=h.s,!v||!v[0]||!x||!x[0])return new m(!e.s||v&&!v[0]&&!x||x&&!x[0]&&!v?NaN:!v||!x?e.s/0:e.s*0);for(n=lr(h.e/et)+lr(e.e/et),u=v.length,d=x.length,u<d&&(o=v,v=x,x=o,l=u,u=d,d=l),o=[],l=u+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)c=o[i]+x[r]*v[i-r-1]+t,o[i--]=c%Qi|0,t=c/Qi|0;o[i]=(o[i]+t)%Qi|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=lp(o,n),rt?Xe(e,m.precision,m.rounding):e};we.toBinary=function(e,t){return $y(this,2,e,t)};we.toDecimalPlaces=we.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(zr(e,0,la),t===void 0?t=r.rounding:zr(t,0,8),Xe(n,e+n.e+1,t))};we.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=As(r,!0):(zr(e,0,la),t===void 0?t=i.rounding:zr(t,0,8),r=Xe(new i(r),e+1,t),n=As(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};we.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?n=As(i):(zr(e,0,la),t===void 0?t=o.rounding:zr(t,0,8),r=Xe(new o(i),e+i.e+1,t),n=As(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};we.toFraction=function(e){var t,n,r,i,o,l,c,u,d,h,m,v,x=this,w=x.d,b=x.constructor;if(!w)return new b(x);if(d=n=new b(1),r=u=new b(0),t=new b(r),o=t.e=mE(w)-x.e-1,l=o%et,t.d[0]=Rn(10,l<0?et+l:l),e==null)e=o>0?t:d;else{if(c=new b(e),!c.isInt()||c.lt(d))throw Error(ea+c);e=c.gt(t)?o>0?t:d:c}for(rt=!1,c=new b(Zn(w)),h=b.precision,b.precision=o=w.length*et*2;m=Mt(c,t,0,1,1),i=n.plus(m.times(r)),i.cmp(e)!=1;)n=r,r=i,i=d,d=u.plus(m.times(i)),u=i,i=t,t=c.minus(m.times(i)),c=i;return i=Mt(e.minus(n),r,0,1,1),u=u.plus(i.times(d)),n=n.plus(i.times(r)),u.s=d.s=x.s,v=Mt(d,r,o,1).minus(x).abs().cmp(Mt(u,n,o,1).minus(x).abs())<1?[d,r]:[u,n],b.precision=h,rt=!0,v};we.toHexadecimal=we.toHex=function(e,t){return $y(this,16,e,t)};we.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:zr(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(rt=!1,n=Mt(n,e,0,t,1).times(e),rt=!0,Xe(n)):(e.s=n.s,n=e),n};we.toNumber=function(){return+this};we.toOctal=function(e,t){return $y(this,8,e,t)};we.toPower=we.pow=function(e){var t,n,r,i,o,l,c=this,u=c.constructor,d=+(e=new u(e));if(!c.d||!e.d||!c.d[0]||!e.d[0])return new u(Rn(+c,d));if(c=new u(c),c.eq(1))return c;if(r=u.precision,o=u.rounding,e.eq(1))return Xe(c,r,o);if(t=lr(e.e/et),t>=e.d.length-1&&(n=d<0?-d:d)<=rI)return i=gE(u,c,n,r),e.s<0?new u(1).div(i):Xe(i,r,o);if(l=c.s,l<0){if(t<e.d.length-1)return new u(NaN);if((e.d[t]&1)==0&&(l=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=l,c}return n=Rn(+c,d),t=n==0||!isFinite(n)?lr(d*(Math.log("0."+Zn(c.d))/Math.LN10+c.e+1)):new u(n+"").e,t>u.maxE+1||t<u.minE-1?new u(t>0?l/0:0):(rt=!1,u.rounding=c.s=1,n=Math.min(12,(t+"").length),i=Tg(e.times(Wo(c,r+n)),r),i.d&&(i=Xe(i,r+5,1),Su(i.d,r,o)&&(t=r+10,i=Xe(Tg(e.times(Wo(c,t+n)),t),t+5,1),+Zn(i.d).slice(r+1,r+15)+1==1e14&&(i=Xe(i,r+1,0)))),i.s=l,rt=!0,u.rounding=o,Xe(i,r,o))};we.toPrecision=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=As(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(zr(e,1,la),t===void 0?t=i.rounding:zr(t,0,8),r=Xe(new i(r),e,t),n=As(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};we.toSignificantDigits=we.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(zr(e,1,la),t===void 0?t=r.rounding:zr(t,0,8)),Xe(new r(n),e,t)};we.toString=function(){var e=this,t=e.constructor,n=As(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};we.truncated=we.trunc=function(){return Xe(new this.constructor(this),this.e+1,1)};we.valueOf=we.toJSON=function(){var e=this,t=e.constructor,n=As(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function Zn(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=et-r.length,n&&(o+=Vo(n)),o+=r;l=e[t],r=l+"",n=et-r.length,n&&(o+=Vo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}function zr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ea+e)}function Su(e,t,n,r){var i,o,l,c;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=et,i=0):(i=Math.ceil((t+1)/et),t%=et),o=Rn(10,et-t),c=e[i]%o|0,r==null?t<3?(t==0?c=c/100|0:t==1&&(c=c/10|0),l=n<4&&c==99999||n>3&&c==49999||c==5e4||c==0):l=(n<4&&c+1==o||n>3&&c+1==o/2)&&(e[i+1]/o/100|0)==Rn(10,t-2)-1||(c==o/2||c==0)&&(e[i+1]/o/100|0)==0:t<4?(t==0?c=c/1e3|0:t==1?c=c/100|0:t==2&&(c=c/10|0),l=(r||n<4)&&c==9999||!r&&n>3&&c==4999):l=((r||n<4)&&c+1==o||!r&&n>3&&c+1==o/2)&&(e[i+1]/o/1e3|0)==Rn(10,t-3)-1,l}function Ef(e,t,n){for(var r,i=[0],o,l=0,c=e.length;l<c;){for(o=i.length;o--;)i[o]*=t;for(i[0]+=Eg.indexOf(e.charAt(l++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function sI(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/cp(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=Yl(e,1,t.times(i),new e(1));for(var o=n;o--;){var l=t.times(t);t=l.times(l).minus(l).times(8).plus(1)}return e.precision-=n,t}var Mt=(function(){function e(r,i,o){var l,c=0,u=r.length;for(r=r.slice();u--;)l=r[u]*i+c,r[u]=l%o|0,c=l/o|0;return c&&r.unshift(c),r}function t(r,i,o,l){var c,u;if(o!=l)u=o>l?1:-1;else for(c=u=0;c<o;c++)if(r[c]!=i[c]){u=r[c]>i[c]?1:-1;break}return u}function n(r,i,o,l){for(var c=0;o--;)r[o]-=c,c=r[o]<i[o]?1:0,r[o]=c*l+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l,c,u){var d,h,m,v,x,w,b,T,S,R,k,A,I,j,O,B,W,D,$,Q,M=r.constructor,G=r.s==i.s?1:-1,J=r.d,X=i.d;if(!J||!J[0]||!X||!X[0])return new M(!r.s||!i.s||(J?X&&J[0]==X[0]:!X)?NaN:J&&J[0]==0||!X?G*0:G/0);for(u?(x=1,h=r.e-i.e):(u=Qi,x=et,h=lr(r.e/x)-lr(i.e/x)),$=X.length,W=J.length,S=new M(G),R=S.d=[],m=0;X[m]==(J[m]||0);m++);if(X[m]>(J[m]||0)&&h--,o==null?(j=o=M.precision,l=M.rounding):c?j=o+(r.e-i.e)+1:j=o,j<0)R.push(1),w=!0;else{if(j=j/x+2|0,m=0,$==1){for(v=0,X=X[0],j++;(m<W||v)&&j--;m++)O=v*u+(J[m]||0),R[m]=O/X|0,v=O%X|0;w=v||m<W}else{for(v=u/(X[0]+1)|0,v>1&&(X=e(X,v,u),J=e(J,v,u),$=X.length,W=J.length),B=$,k=J.slice(0,$),A=k.length;A<$;)k[A++]=0;Q=X.slice(),Q.unshift(0),D=X[0],X[1]>=u/2&&++D;do v=0,d=t(X,k,$,A),d<0?(I=k[0],$!=A&&(I=I*u+(k[1]||0)),v=I/D|0,v>1?(v>=u&&(v=u-1),b=e(X,v,u),T=b.length,A=k.length,d=t(b,k,T,A),d==1&&(v--,n(b,$<T?Q:X,T,u))):(v==0&&(d=v=1),b=X.slice()),T=b.length,T<A&&b.unshift(0),n(k,b,A,u),d==-1&&(A=k.length,d=t(X,k,$,A),d<1&&(v++,n(k,$<A?Q:X,A,u))),A=k.length):d===0&&(v++,k=[0]),R[m++]=v,d&&k[0]?k[A++]=J[B]||0:(k=[J[B]],A=1);while((B++<W||k[0]!==void 0)&&j--);w=k[0]!==void 0}R[0]||R.shift()}if(x==1)S.e=h,uE=w;else{for(m=1,v=R[0];v>=10;v/=10)m++;S.e=m+h*x-1,Xe(S,c?o+S.e+1:o,l,w)}return S}})();function Xe(e,t,n,r){var i,o,l,c,u,d,h,m,v,x=e.constructor;e:if(t!=null){if(m=e.d,!m)return e;for(i=1,c=m[0];c>=10;c/=10)i++;if(o=t-i,o<0)o+=et,l=t,h=m[v=0],u=h/Rn(10,i-l-1)%10|0;else if(v=Math.ceil((o+1)/et),c=m.length,v>=c)if(r){for(;c++<=v;)m.push(0);h=u=0,i=1,o%=et,l=o-et+1}else break e;else{for(h=c=m[v],i=1;c>=10;c/=10)i++;o%=et,l=o-et+i,u=l<0?0:h/Rn(10,i-l-1)%10|0}if(r=r||t<0||m[v+1]!==void 0||(l<0?h:h%Rn(10,i-l-1)),d=n<4?(u||r)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||r||n==6&&(o>0?l>0?h/Rn(10,i-l):0:m[v-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,d?(t-=e.e+1,m[0]=Rn(10,(et-t%et)%et),e.e=-t||0):m[0]=e.e=0,e;if(o==0?(m.length=v,c=1,v--):(m.length=v+1,c=Rn(10,et-o),m[v]=l>0?(h/Rn(10,i-l)%Rn(10,l)|0)*c:0),d)for(;;)if(v==0){for(o=1,l=m[0];l>=10;l/=10)o++;for(l=m[0]+=c,c=1;l>=10;l/=10)c++;o!=c&&(e.e++,m[0]==Qi&&(m[0]=1));break}else{if(m[v]+=c,m[v]!=Qi)break;m[v--]=0,c=1}for(o=m.length;m[--o]===0;)m.pop()}return rt&&(e.e>x.maxE?(e.d=null,e.e=NaN):e.e<x.minE&&(e.e=0,e.d=[0])),e}function As(e,t,n){if(!e.isFinite())return vE(e);var r,i=e.e,o=Zn(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Vo(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+Vo(-i-1)+o,n&&(r=n-l)>0&&(o+=Vo(r))):i>=l?(o+=Vo(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Vo(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Vo(r))),o}function lp(e,t){var n=e[0];for(t*=et;n>=10;n/=10)t++;return t}function Uf(e,t,n){if(t>iI)throw rt=!0,n&&(e.precision=n),Error(dE);return Xe(new e(Bf),t,1,!0)}function bs(e,t,n){if(t>Cg)throw Error(dE);return Xe(new e(Vf),t,n,!0)}function mE(e){var t=e.length-1,n=t*et+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Vo(e){for(var t="";e--;)t+="0";return t}function gE(e,t,n,r){var i,o=new e(1),l=Math.ceil(r/et+4);for(rt=!1;;){if(n%2&&(o=o.times(t),k_(o.d,l)&&(i=!0)),n=lr(n/2),n===0){n=o.d.length-1,i&&o.d[n]===0&&++o.d[n];break}t=t.times(t),k_(t.d,l)}return rt=!0,o}function N_(e){return e.d[e.d.length-1]&1}function yE(e,t,n){for(var r,i,o=new e(t[0]),l=0;++l<t.length;){if(i=new e(t[l]),!i.s){o=i;break}r=o.cmp(i),(r===n||r===0&&o.s===n)&&(o=i)}return o}function Tg(e,t){var n,r,i,o,l,c,u,d=0,h=0,m=0,v=e.constructor,x=v.rounding,w=v.precision;if(!e.d||!e.d[0]||e.e>17)return new v(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(rt=!1,u=w):u=t,c=new v(.03125);e.e>-2;)e=e.times(c),m+=5;for(r=Math.log(Rn(2,m))/Math.LN10*2+5|0,u+=r,n=o=l=new v(1),v.precision=u;;){if(o=Xe(o.times(e),u,1),n=n.times(++h),c=l.plus(Mt(o,n,u,1)),Zn(c.d).slice(0,u)===Zn(l.d).slice(0,u)){for(i=m;i--;)l=Xe(l.times(l),u,1);if(t==null)if(d<3&&Su(l.d,u-r,x,d))v.precision=u+=10,n=o=c=new v(1),h=0,d++;else return Xe(l,v.precision=w,x,rt=!0);else return v.precision=w,l}l=c}}function Wo(e,t){var n,r,i,o,l,c,u,d,h,m,v,x=1,w=10,b=e,T=b.d,S=b.constructor,R=S.rounding,k=S.precision;if(b.s<0||!T||!T[0]||!b.e&&T[0]==1&&T.length==1)return new S(T&&!T[0]?-1/0:b.s!=1?NaN:T?0:b);if(t==null?(rt=!1,h=k):h=t,S.precision=h+=w,n=Zn(T),r=n.charAt(0),Math.abs(o=b.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=Zn(b.d),r=n.charAt(0),x++;o=b.e,r>1?(b=new S("0."+n),o++):b=new S(r+"."+n.slice(1))}else return d=Uf(S,h+2,k).times(o+""),b=Wo(new S(r+"."+n.slice(1)),h-w).plus(d),S.precision=k,t==null?Xe(b,k,R,rt=!0):b;for(m=b,u=l=b=Mt(b.minus(1),b.plus(1),h,1),v=Xe(b.times(b),h,1),i=3;;){if(l=Xe(l.times(v),h,1),d=u.plus(Mt(l,new S(i),h,1)),Zn(d.d).slice(0,h)===Zn(u.d).slice(0,h))if(u=u.times(2),o!==0&&(u=u.plus(Uf(S,h+2,k).times(o+""))),u=Mt(u,new S(x),h,1),t==null)if(Su(u.d,h-w,R,c))S.precision=h+=w,d=l=b=Mt(m.minus(1),m.plus(1),h,1),v=Xe(b.times(b),h,1),i=c=1;else return Xe(u,S.precision=k,R,rt=!0);else return S.precision=k,u;u=d,i+=2}}function vE(e){return String(e.s*e.s/0)}function Sf(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i),t){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%et,n<0&&(r+=et),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=et;r<i;)e.d.push(+t.slice(r,r+=et));t=t.slice(r),r=et-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),rt&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function oI(e,t){var n,r,i,o,l,c,u,d,h;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),hE.test(t))return Sf(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(tI.test(t))n=16,t=t.toLowerCase();else if(eI.test(t))n=2;else if(nI.test(t))n=8;else throw Error(ea+t);for(o=t.search(/p/i),o>0?(u=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),o=t.indexOf("."),l=o>=0,r=e.constructor,l&&(t=t.replace(".",""),c=t.length,o=c-o,i=gE(r,new r(n),o,o*2)),d=Ef(t,n,Qi),h=d.length-1,o=h;d[o]===0;--o)d.pop();return o<0?new r(e.s*0):(e.e=lp(d,h),e.d=d,rt=!1,l&&(e=Mt(e,i,c*4)),u&&(e=e.times(Math.abs(u)<54?Rn(2,u):up.pow(2,u))),rt=!0,e)}function aI(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Yl(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/cp(5,n)),t=Yl(e,2,t,t);for(var i,o=new e(5),l=new e(16),c=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(l.times(i).minus(c))));return t}function Yl(e,t,n,r,i){var o,l,c,u,d=e.precision,h=Math.ceil(d/et);for(rt=!1,u=n.times(n),c=new e(r);;){if(l=Mt(c.times(u),new e(t++*t++),d,1),c=i?r.plus(l):r.minus(l),r=Mt(l.times(u),new e(t++*t++),d,1),l=c.plus(r),l.d[h]!==void 0){for(o=h;l.d[o]===c.d[o]&&o--;);if(o==-1)break}o=c,c=r,r=l,l=o}return rt=!0,l.d.length=h+1,l}function cp(e,t){for(var n=e;--t;)n*=e;return n}function xE(e,t){var n,r=t.s<0,i=bs(e,e.precision,1),o=i.times(.5);if(t=t.abs(),t.lte(o))return to=r?4:1,t;if(n=t.divToInt(i),n.isZero())to=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(o))return to=N_(n)?r?2:3:r?4:1,t;to=N_(n)?r?1:4:r?3:2}return t.minus(i).abs()}function $y(e,t,n,r){var i,o,l,c,u,d,h,m,v,x=e.constructor,w=n!==void 0;if(w?(zr(n,1,la),r===void 0?r=x.rounding:zr(r,0,8)):(n=x.precision,r=x.rounding),!e.isFinite())h=vE(e);else{for(h=As(e),l=h.indexOf("."),w?(i=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):i=t,l>=0&&(h=h.replace(".",""),v=new x(1),v.e=h.length-l,v.d=Ef(As(v),10,i),v.e=v.d.length),m=Ef(h,10,i),o=u=m.length;m[--u]==0;)m.pop();if(!m[0])h=w?"0p+0":"0";else{if(l<0?o--:(e=new x(e),e.d=m,e.e=o,e=Mt(e,v,n,r,0,i),m=e.d,o=e.e,d=uE),l=m[n],c=i/2,d=d||m[n+1]!==void 0,d=r<4?(l!==void 0||d)&&(r===0||r===(e.s<0?3:2)):l>c||l===c&&(r===4||d||r===6&&m[n-1]&1||r===(e.s<0?8:7)),m.length=n,d)for(;++m[--n]>i-1;)m[n]=0,n||(++o,m.unshift(1));for(u=m.length;!m[u-1];--u);for(l=0,h="";l<u;l++)h+=Eg.charAt(m[l]);if(w){if(u>1)if(t==16||t==8){for(l=t==16?4:3,--u;u%l;u++)h+="0";for(m=Ef(h,i,t),u=m.length;!m[u-1];--u);for(l=1,h="1.";l<u;l++)h+=Eg.charAt(m[l])}else h=h.charAt(0)+"."+h.slice(1);h=h+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)h="0"+h;h="0."+h}else if(++o>u)for(o-=u;o--;)h+="0";else o<u&&(h=h.slice(0,o)+"."+h.slice(o))}h=(t==16?"0x":t==2?"0b":t==8?"0o":"")+h}return e.s<0?"-"+h:h}function k_(e,t){if(e.length>t)return e.length=t,!0}function lI(e){return new this(e).abs()}function cI(e){return new this(e).acos()}function uI(e){return new this(e).acosh()}function dI(e,t){return new this(e).plus(t)}function fI(e){return new this(e).asin()}function pI(e){return new this(e).asinh()}function hI(e){return new this(e).atan()}function mI(e){return new this(e).atanh()}function gI(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=bs(this,o,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?bs(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=bs(this,o,1).times(.5),n.s=e.s):t.s<0?(this.precision=o,this.rounding=1,n=this.atan(Mt(e,t,o,1)),t=bs(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(Mt(e,t,o,1)),n}function yI(e){return new this(e).cbrt()}function vI(e){return Xe(e=new this(e),e.e+1,2)}function xI(e,t,n){return new this(e).clamp(t,n)}function _I(e){if(!e||typeof e!="object")throw Error(ap+"Object expected");var t,n,r,i=e.defaults===!0,o=["precision",1,la,"rounding",0,8,"toExpNeg",-Ml,0,"toExpPos",0,Ml,"maxE",0,Ml,"minE",-Ml,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=Sg[n]),(r=e[n])!==void 0)if(lr(r)===r&&r>=o[t+1]&&r<=o[t+2])this[n]=r;else throw Error(ea+n+": "+r);if(n="crypto",i&&(this[n]=Sg[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(fE);else this[n]=!1;else throw Error(ea+n+": "+r);return this}function wI(e){return new this(e).cos()}function bI(e){return new this(e).cosh()}function _E(e){var t,n,r;function i(o){var l,c,u,d=this;if(!(d instanceof i))return new i(o);if(d.constructor=i,R_(o)){d.s=o.s,rt?!o.d||o.e>i.maxE?(d.e=NaN,d.d=null):o.e<i.minE?(d.e=0,d.d=[0]):(d.e=o.e,d.d=o.d.slice()):(d.e=o.e,d.d=o.d?o.d.slice():o.d);return}if(u=typeof o,u==="number"){if(o===0){d.s=1/o<0?-1:1,d.e=0,d.d=[0];return}if(o<0?(o=-o,d.s=-1):d.s=1,o===~~o&&o<1e7){for(l=0,c=o;c>=10;c/=10)l++;rt?l>i.maxE?(d.e=NaN,d.d=null):l<i.minE?(d.e=0,d.d=[0]):(d.e=l,d.d=[o]):(d.e=l,d.d=[o]);return}if(o*0!==0){o||(d.s=NaN),d.e=NaN,d.d=null;return}return Sf(d,o.toString())}if(u==="string")return(c=o.charCodeAt(0))===45?(o=o.slice(1),d.s=-1):(c===43&&(o=o.slice(1)),d.s=1),hE.test(o)?Sf(d,o):oI(d,o);if(u==="bigint")return o<0?(o=-o,d.s=-1):d.s=1,Sf(d,o.toString());throw Error(ea+o)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=_I,i.clone=_E,i.isDecimal=R_,i.abs=lI,i.acos=cI,i.acosh=uI,i.add=dI,i.asin=fI,i.asinh=pI,i.atan=hI,i.atanh=mI,i.atan2=gI,i.cbrt=yI,i.ceil=vI,i.clamp=xI,i.cos=wI,i.cosh=bI,i.div=EI,i.exp=SI,i.floor=CI,i.hypot=TI,i.ln=NI,i.log=kI,i.log10=AI,i.log2=RI,i.max=jI,i.min=II,i.mod=PI,i.mul=LI,i.pow=OI,i.random=MI,i.round=DI,i.sign=FI,i.sin=$I,i.sinh=BI,i.sqrt=VI,i.sub=UI,i.sum=zI,i.tan=WI,i.tanh=GI,i.trunc=HI,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function EI(e,t){return new this(e).div(t)}function SI(e){return new this(e).exp()}function CI(e){return Xe(e=new this(e),e.e+1,3)}function TI(){var e,t,n=new this(0);for(rt=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return rt=!0,new this(1/0);n=t}return rt=!0,n.sqrt()}function R_(e){return e instanceof up||e&&e.toStringTag===pE||!1}function NI(e){return new this(e).ln()}function kI(e,t){return new this(e).log(t)}function RI(e){return new this(e).log(2)}function AI(e){return new this(e).log(10)}function jI(){return yE(this,arguments,-1)}function II(){return yE(this,arguments,1)}function PI(e,t){return new this(e).mod(t)}function LI(e,t){return new this(e).mul(t)}function OI(e,t){return new this(e).pow(t)}function MI(e){var t,n,r,i,o=0,l=new this(1),c=[];if(e===void 0?e=this.precision:zr(e,1,la),r=Math.ceil(e/et),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)i=t[o],i>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:c[o++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);o<r;)i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((t[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,o):(c.push(i%1e7),o+=4);o=r/4}else throw Error(fE);else for(;o<r;)c[o++]=Math.random()*1e7|0;for(r=c[--o],e%=et,r&&e&&(i=Rn(10,et-e),c[o]=(r/i|0)*i);c[o]===0;o--)c.pop();if(o<0)n=0,c=[0];else{for(n=-1;c[0]===0;n-=et)c.shift();for(r=1,i=c[0];i>=10;i/=10)r++;r<et&&(n-=et-r)}return l.e=n,l.d=c,l}function DI(e){return Xe(e=new this(e),e.e+1,this.rounding)}function FI(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function $I(e){return new this(e).sin()}function BI(e){return new this(e).sinh()}function VI(e){return new this(e).sqrt()}function UI(e,t){return new this(e).sub(t)}function zI(){var e=0,t=arguments,n=new this(t[e]);for(rt=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return rt=!0,Xe(n,this.precision,this.rounding)}function WI(e){return new this(e).tan()}function GI(e){return new this(e).tanh()}function HI(e){return Xe(e=new this(e),e.e+1,1)}we[Symbol.for("nodejs.util.inspect.custom")]=we.toString;we[Symbol.toStringTag]="Decimal";var up=we.constructor=_E(Sg);Bf=new up(Bf);Vf=new up(Vf);function xn({iconName:e="bounding-box-circles",size:t="inherit",color:n="inherit",fontSize:r,className:i,style:o,...l}){let c=e;return e.startsWith("bi-")||(c="bi-"+e),f.jsx("i",{className:Z(c,i),style:{display:"flex",alignItems:"center",fontSize:r||t,color:n,...o},...l})}var YI=Object.defineProperty,XI=(e,t,n)=>t in e?YI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bm=(e,t,n)=>(XI(e,typeof t!="symbol"?t+"":t,n),n);let qI=class{constructor(){bm(this,"current",this.detect()),bm(this,"handoffState","pending"),bm(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ss=new qI;function Ou(e){var t;return Ss.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function Ng(e){var t,n;return Ss.isServer?null:e==null?document:(n=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?n:document}function wE(e){var t,n;return(n=(t=Ng(e))==null?void 0:t.activeElement)!=null?n:null}function KI(e){return wE(e)===e}function dp(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function fo(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return dp(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=fo();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function fp(){let[e]=y.useState(fo);return y.useEffect(()=>()=>e.dispose(),[e]),e}let Vr=(e,t)=>{Ss.isServer?y.useEffect(e,t):y.useLayoutEffect(e,t)};function Ka(e){let t=y.useRef(e);return Vr(()=>{t.current=e},[e]),t}let Dt=function(e){let t=Ka(e);return Oe.useCallback((...n)=>t.current(...n),[t])};function Mu(e){return y.useMemo(()=>e,Object.values(e))}let ZI=y.createContext(void 0);function QI(){return y.useContext(ZI)}function kg(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function oo(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,oo),r}var zf=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(zf||{}),Go=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Go||{});function Ni(){let e=eP();return y.useCallback(t=>JI({mergeRefs:e,...t}),[e])}function JI({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:l,mergeRefs:c}){c=c??tP;let u=bE(t,e);if(o)return tf(u,n,r,l,c);let d=i??0;if(d&2){let{static:h=!1,...m}=u;if(h)return tf(m,n,r,l,c)}if(d&1){let{unmount:h=!0,...m}=u;return oo(h?0:1,{0(){return null},1(){return tf({...m,hidden:!0,style:{display:"none"}},n,r,l,c)}})}return tf(u,n,r,l,c)}function tf(e,t={},n,r,i){let{as:o=n,children:l,refName:c="ref",...u}=Em(e,["unmount","static"]),d=e.ref!==void 0?{[c]:e.ref}:{},h=typeof l=="function"?l(t):l;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(t)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let m={};if(t){let v=!1,x=[];for(let[w,b]of Object.entries(t))typeof b=="boolean"&&(v=!0),b===!0&&x.push(w.replace(/([A-Z])/g,T=>`-${T.toLowerCase()}`));if(v){m["data-headlessui-state"]=x.join(" ");for(let w of x)m[`data-${w}`]=""}}if(pu(o)&&(Object.keys(La(u)).length>0||Object.keys(La(m)).length>0))if(!y.isValidElement(h)||Array.isArray(h)&&h.length>1||rP(h)){if(Object.keys(La(u)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(La(u)).concat(Object.keys(La(m))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,x=v?.className,w=typeof x=="function"?(...S)=>kg(x(...S),u.className):kg(x,u.className),b=w?{className:w}:{},T=bE(h.props,La(Em(u,["ref"])));for(let S in m)S in T&&delete m[S];return y.cloneElement(h,Object.assign({},T,m,d,{ref:i(nP(h),d.ref)},b))}return y.createElement(o,Object.assign({},Em(u,["ref"]),!pu(o)&&d,!pu(o)&&m),h)}function eP(){let e=y.useRef([]),t=y.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function tP(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function bE(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i?.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let l=n[r];for(let c of l){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;c(i,...o)}}});return t}function Wr(e){var t;return Object.assign(y.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function La(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Em(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function nP(e){return Oe.version.split(".")[0]>="19"?e.props.ref:e.ref}function pu(e){return e===y.Fragment||e===Symbol.for("react.fragment")}function rP(e){return pu(e.type)}let iP="span";var Wf=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Wf||{});function sP(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ni()({ourProps:o,theirProps:i,slot:{},defaultTag:iP,name:"Hidden"})}let Rg=Wr(sP);function oP(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Ko(e){return oP(e)&&"tagName"in e}function Ya(e){return Ko(e)&&"accessKey"in e}function Ho(e){return Ko(e)&&"tabIndex"in e}function aP(e){return Ko(e)&&"style"in e}function lP(e){return Ya(e)&&e.nodeName==="IFRAME"}function cP(e){return Ya(e)&&e.nodeName==="INPUT"}let EE=Symbol();function uP(e,t=!0){return Object.assign(e,{[EE]:t})}function Ps(...e){let t=y.useRef(e);y.useEffect(()=>{t.current=e},[e]);let n=Dt(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||r?.[EE])?void 0:n}let By=y.createContext(null);By.displayName="DescriptionContext";function SE(){let e=y.useContext(By);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,SE),t}return e}function dP(){let[e,t]=y.useState([]);return[e.length>0?e.join(" "):void 0,y.useMemo(()=>function(n){let r=Dt(o=>(t(l=>[...l,o]),()=>t(l=>{let c=l.slice(),u=c.indexOf(o);return u!==-1&&c.splice(u,1),c}))),i=y.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Oe.createElement(By.Provider,{value:i},n.children)},[t])]}let fP="p";function pP(e,t){let n=y.useId(),r=QI(),{id:i=`headlessui-description-${n}`,...o}=e,l=SE(),c=Ps(t);Vr(()=>l.register(i),[i,l.register]);let u=Mu({...l.slot,disabled:r||!1}),d={ref:c,...l.props,id:i};return Ni()({ourProps:d,theirProps:o,slot:u,defaultTag:fP,name:l.name||"Description"})}let hP=Wr(pP),mP=Object.assign(hP,{});var CE=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(CE||{});let gP=y.createContext(()=>{});function yP({value:e,children:t}){return Oe.createElement(gP.Provider,{value:e},t)}let TE=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var vP=Object.defineProperty,xP=(e,t,n)=>t in e?vP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_P=(e,t,n)=>(xP(e,t+"",n),n),NE=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},hi=(e,t,n)=>(NE(e,t,"read from private field"),n?n.call(e):t.get(e)),Sm=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},A_=(e,t,n,r)=>(NE(e,t,"write to private field"),t.set(e,n),n),ys,iu,su;let wP=class{constructor(t){Sm(this,ys,{}),Sm(this,iu,new TE(()=>new Set)),Sm(this,su,new Set),_P(this,"disposables",fo()),A_(this,ys,t),Ss.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return hi(this,ys)}subscribe(t,n){if(Ss.isServer)return()=>{};let r={selector:t,callback:n,current:t(hi(this,ys))};return hi(this,su).add(r),this.disposables.add(()=>{hi(this,su).delete(r)})}on(t,n){return Ss.isServer?()=>{}:(hi(this,iu).get(t).add(n),this.disposables.add(()=>{hi(this,iu).get(t).delete(n)}))}send(t){let n=this.reduce(hi(this,ys),t);if(n!==hi(this,ys)){A_(this,ys,n);for(let r of hi(this,su)){let i=r.selector(hi(this,ys));kE(r.current,i)||(r.current=i,r.callback(i))}for(let r of hi(this,iu).get(t.type))r(hi(this,ys),t)}}};ys=new WeakMap,iu=new WeakMap,su=new WeakMap;function kE(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Cm(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Cm(e.entries(),t.entries()):j_(e)&&j_(t)?Cm(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Cm(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function j_(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var bP=Object.defineProperty,EP=(e,t,n)=>t in e?bP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I_=(e,t,n)=>(EP(e,typeof t!="symbol"?t+"":t,n),n),SP=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(SP||{});let CP={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let o=e.stack.slice();return o.splice(i,1),o.push(n),r=o,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}},TP=class RE extends wP{constructor(){super(...arguments),I_(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),I_(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new RE({stack:[]})}reduce(t,n){return oo(n.type,CP,t,n)}};const AE=new TE(()=>TP.new());var Tm={exports:{}},Nm={};var P_;function NP(){if(P_)return Nm;P_=1;var e=ip();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return Nm.useSyncExternalStoreWithSelector=function(u,d,h,m,v){var x=i(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function T(I){if(!S){if(S=!0,R=I,I=m(I),v!==void 0&&w.hasValue){var j=w.value;if(v(j,I))return k=j}return k=I}if(j=k,n(R,I))return j;var O=m(I);return v!==void 0&&v(j,O)?(R=I,j):(R=I,k=O)}var S=!1,R,k,A=h===void 0?null:h;return[function(){return T(d())},A===null?void 0:function(){return T(A())}]},[d,h,m,v]);var b=r(u,x[0],x[1]);return o(function(){w.hasValue=!0,w.value=b},[b]),c(b),b},Nm}var L_;function kP(){return L_||(L_=1,Tm.exports=NP()),Tm.exports}var RP=kP();function jE(e,t,n=kE){return RP.useSyncExternalStoreWithSelector(Dt(r=>e.subscribe(AP,r)),Dt(()=>e.state),Dt(()=>e.state),Dt(t),n)}function AP(e){return e}function Du(e,t){let n=y.useId(),r=AE.get(t),[i,o]=jE(r,y.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return Vr(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?o?i:!0:!1}let Ag=new Map,hu=new Map;function O_(e){var t;let n=(t=hu.get(e))!=null?t:0;return hu.set(e,n+1),n!==0?()=>M_(e):(Ag.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>M_(e))}function M_(e){var t;let n=(t=hu.get(e))!=null?t:1;if(n===1?hu.delete(e):hu.set(e,n-1),n!==1)return;let r=Ag.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Ag.delete(e))}function jP(e,{allowed:t,disallowed:n}={}){let r=Du(e,"inert-others");Vr(()=>{var i,o;if(!r)return;let l=fo();for(let u of(i=n?.())!=null?i:[])u&&l.add(O_(u));let c=(o=t?.())!=null?o:[];for(let u of c){if(!u)continue;let d=Ou(u);if(!d)continue;let h=u.parentElement;for(;h&&h!==d.body;){for(let m of h.children)c.some(v=>m.contains(v))||l.add(O_(m));h=h.parentElement}}return l.dispose},[r,t,n])}function IP(e,t,n){let r=Ka(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});y.useEffect(()=>{if(!e)return;let i=t===null?null:Ya(t)?t:t.current;if(!i)return;let o=fo();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}return()=>o.dispose()},[t,r,e])}let Gf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),PP=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var eo=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(eo||{}),jg=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(jg||{}),LP=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(LP||{});function OP(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Gf)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function MP(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(PP)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var IE=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(IE||{});function DP(e,t=0){var n;return e===((n=Ou(e))==null?void 0:n.body)?!1:oo(t,{0(){return e.matches(Gf)},1(){let r=e;for(;r!==null;){if(r.matches(Gf))return!0;r=r.parentElement}return!1}})}var FP=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(FP||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function io(e){e?.focus({preventScroll:!0})}let $P=["textarea","input"].join(",");function BP(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,$P))!=null?n:!1}function VP(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let l=i.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function mu(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?Ng(e[0]):document:Ng(e),l=Array.isArray(e)?n?VP(e):e:t&64?MP(e):OP(e);i.length>0&&l.length>1&&(l=l.filter(x=>!i.some(w=>w!=null&&"current"in w?w?.current===x:w===x))),r=r??o?.activeElement;let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},h=0,m=l.length,v;do{if(h>=m||h+m<=0)return 0;let x=u+h;if(t&16)x=(x+m)%m;else{if(x<0)return 3;if(x>=m)return 1}v=l[x],v?.focus(d),h+=c}while(v!==wE(v));return t&6&&BP(v)&&v.select(),2}function PE(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function UP(){return/Android/gi.test(window.navigator.userAgent)}function D_(){return PE()||UP()}function nf(e,t,n,r){let i=Ka(n);y.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function LE(e,t,n,r){let i=Ka(n);y.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const F_=30;function zP(e,t,n){let r=Ka(n),i=y.useCallback(function(c,u){if(c.defaultPrevented)return;let d=u(c);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=(function m(v){return typeof v=="function"?m(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let m of h)if(m!==null&&(m.contains(d)||c.composed&&c.composedPath().includes(m)))return;return!DP(d,IE.Loose)&&d.tabIndex!==-1&&c.preventDefault(),r.current(c,d)},[r,t]),o=y.useRef(null);nf(e,"pointerdown",c=>{var u,d;D_()||(o.current=((d=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:d[0])||c.target)},!0),nf(e,"pointerup",c=>{if(D_()||!o.current)return;let u=o.current;return o.current=null,i(c,()=>u)},!0);let l=y.useRef({x:0,y:0});nf(e,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),nf(e,"touchend",c=>{let u={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(u.x-l.current.x)>=F_||Math.abs(u.y-l.current.y)>=F_))return i(c,()=>Ho(c.target)?c.target:null)},!0),LE(e,"blur",c=>i(c,()=>lP(window.document.activeElement)?window.document.activeElement:null),!0)}function Vy(...e){return y.useMemo(()=>Ou(...e),[...e])}function OE(e,t,n,r){let i=Ka(n);y.useEffect(()=>{e=e??window;function o(l){i.current(l)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function WP(e){return y.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function GP(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let l=t[i].call(n,...o);l&&(n=l,r.forEach(c=>c()))}}}function HP(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function YP(){return PE()?{before({doc:e,d:t,meta:n}){function r(i){for(let o of n().containers)for(let l of o())if(l.contains(i))return!0;return!1}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=fo();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;t.addEventListener(e,"click",c=>{if(Ho(c.target))try{let u=c.target.closest("a");if(!u)return;let{hash:d}=new URL(u.href),h=e.querySelector(d);Ho(h)&&!r(h)&&(l=h)}catch{}},!0),t.group(c=>{t.addEventListener(e,"touchstart",u=>{if(c.dispose(),Ho(u.target)&&aP(u.target))if(r(u.target)){let d=u.target;for(;d.parentElement&&r(d.parentElement);)d=d.parentElement;c.style(d,"overscrollBehavior","contain")}else c.style(u.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",c=>{if(Ho(c.target)){if(cP(c.target))return;if(r(c.target)){let u=c.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let u=(c=window.scrollY)!=null?c:window.pageYOffset;o!==u&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function XP(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function $_(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let $a=GP(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:fo(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=$_(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=$_(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[YP(),HP(),XP()];n.forEach(({before:r})=>r?.(t)),n.forEach(({after:r})=>r?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});$a.subscribe(()=>{let e=$a.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&$a.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&$a.dispatch("TEARDOWN",n)}});function qP(e,t,n=()=>({containers:[]})){let r=WP($a),i=t?r.get(t):void 0,o=i?i.count>0:!1;return Vr(()=>{if(!(!t||!e))return $a.dispatch("PUSH",t,n),()=>$a.dispatch("POP",t,n)},[e,t]),o}function KP(e,t,n=()=>[document.body]){let r=Du(e,"scroll-lock");qP(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function ZP(e=0){let[t,n]=y.useState(e),r=y.useCallback(u=>n(u),[]),i=y.useCallback(u=>n(d=>d|u),[]),o=y.useCallback(u=>(t&u)===u,[t]),l=y.useCallback(u=>n(d=>d&~u),[]),c=y.useCallback(u=>n(d=>d^u),[]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:l,toggleFlag:c}}var QP={},B_,V_;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((B_=process==null?void 0:QP)==null?void 0:B_.NODE_ENV)==="test"&&typeof((V_=Element?.prototype)==null?void 0:V_.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var JP=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(JP||{});function eL(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function tL(e,t,n,r){let[i,o]=y.useState(n),{hasFlag:l,addFlag:c,removeFlag:u}=ZP(e&&i?3:0),d=y.useRef(!1),h=y.useRef(!1),m=fp();return Vr(()=>{var v;if(e){if(n&&o(!0),!t){n&&c(3);return}return(v=r?.start)==null||v.call(r,n),nL(t,{inFlight:d,prepare(){h.current?h.current=!1:h.current=d.current,d.current=!0,!h.current&&(n?(c(3),u(4)):(c(4),u(2)))},run(){h.current?n?(u(3),c(4)):(u(4),c(3)):n?u(1):c(1)},done(){var x;h.current&&sL(t)||(d.current=!1,u(7),n||o(!1),(x=r?.end)==null||x.call(r,n))}})}},[e,n,t,m]),e?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function nL(e,{prepare:t,run:n,done:r,inFlight:i}){let o=fo();return iL(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(rL(e,r))})}),o.dispose}function rL(e,t){var n,r;let i=fo();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(c=>c instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),i.dispose):(Promise.allSettled(l.map(c=>c.finished)).then(()=>{o||t()}),i.dispose)}function iL(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function sL(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Uy(e,t){let n=y.useRef([]),r=Dt(e);y.useEffect(()=>{let i=[...n.current];for(let[o,l]of t.entries())if(n.current[o]!==l){let c=r(t,i);return n.current=t,c}},[r,...t])}function pp(){return typeof window<"u"}function tc(e){return zy(e)?(e.nodeName||"").toLowerCase():"#document"}function Ur(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ls(e){var t;return(t=(zy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zy(e){return pp()?e instanceof Node||e instanceof Ur(e).Node:!1}function Xt(e){return pp()?e instanceof Element||e instanceof Ur(e).Element:!1}function xr(e){return pp()?e instanceof HTMLElement||e instanceof Ur(e).HTMLElement:!1}function Ig(e){return!pp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ur(e).ShadowRoot}const oL=new Set(["inline","contents"]);function Fu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ii(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!oL.has(i)}const aL=new Set(["table","td","th"]);function lL(e){return aL.has(tc(e))}const cL=[":popover-open",":modal"];function hp(e){return cL.some(t=>{try{return e.matches(t)}catch{return!1}})}const uL=["transform","translate","scale","rotate","perspective"],dL=["transform","translate","scale","rotate","perspective","filter"],fL=["paint","layout","strict","content"];function Wy(e){const t=mp(),n=Xt(e)?ii(e):e;return uL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||dL.some(r=>(n.willChange||"").includes(r))||fL.some(r=>(n.contain||"").includes(r))}function pL(e){let t=ao(e);for(;xr(t)&&!so(t);){if(Wy(t))return t;if(hp(t))return null;t=ao(t)}return null}function mp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hL=new Set(["html","body","#document"]);function so(e){return hL.has(tc(e))}function ii(e){return Ur(e).getComputedStyle(e)}function gp(e){return Xt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ao(e){if(tc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ig(e)&&e.host||Ls(e);return Ig(t)?t.host:t}function ME(e){const t=ao(e);return so(t)?e.ownerDocument?e.ownerDocument.body:e.body:xr(t)&&Fu(t)?t:ME(t)}function Zo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=ME(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),l=Ur(i);if(o){const c=Pg(l);return t.concat(l,l.visualViewport||[],Fu(i)?i:[],c&&n?Zo(c):[])}return t.concat(i,Zo(i,[],n))}function Pg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const ta=Math.min,ni=Math.max,Hf=Math.round,rf=Math.floor,Cs=e=>({x:e,y:e}),mL={left:"right",right:"left",bottom:"top",top:"bottom"},gL={start:"end",end:"start"};function Lg(e,t,n){return ni(e,ta(t,n))}function nc(e,t){return typeof e=="function"?e(t):e}function na(e){return e.split("-")[0]}function rc(e){return e.split("-")[1]}function DE(e){return e==="x"?"y":"x"}function Gy(e){return e==="y"?"height":"width"}const yL=new Set(["top","bottom"]);function no(e){return yL.has(na(e))?"y":"x"}function Hy(e){return DE(no(e))}function vL(e,t,n){n===void 0&&(n=!1);const r=rc(e),i=Hy(e),o=Gy(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Yf(l)),[l,Yf(l)]}function xL(e){const t=Yf(e);return[Og(e),t,Og(t)]}function Og(e){return e.replace(/start|end/g,t=>gL[t])}const U_=["left","right"],z_=["right","left"],_L=["top","bottom"],wL=["bottom","top"];function bL(e,t,n){switch(e){case"top":case"bottom":return n?t?z_:U_:t?U_:z_;case"left":case"right":return t?_L:wL;default:return[]}}function EL(e,t,n,r){const i=rc(e);let o=bL(na(e),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(Og)))),o}function Yf(e){return e.replace(/left|right|bottom|top/g,t=>mL[t])}function SL(e){return{top:0,right:0,bottom:0,left:0,...e}}function FE(e){return typeof e!="number"?SL(e):{top:e,right:e,bottom:e,left:e}}function Xf(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var CL=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Mg=CL.join(","),$E=typeof Element>"u",Cu=$E?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,qf=!$E&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},Tu=function(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",l=o||n&&t&&Tu(t.parentNode);return l},TL=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},NL=function(t,n,r){if(Tu(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(Mg));return n&&Cu.call(t,Mg)&&i.unshift(t),i=i.filter(r),i},Dg=function(t,n,r){for(var i=[],o=Array.from(t);o.length;){var l=o.shift();if(!Tu(l,!1))if(l.tagName==="SLOT"){var c=l.assignedElements(),u=c.length?c:l.children,d=Dg(u,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:l,candidates:d})}else{var h=Cu.call(l,Mg);h&&r.filter(l)&&(n||!t.includes(l))&&i.push(l);var m=l.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(l),v=!Tu(m,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(l));if(m&&v){var x=Dg(m===!0?l.children:m.children,!0,r);r.flatten?i.push.apply(i,x):i.push({scopeParent:l,candidates:x})}else o.unshift.apply(o,l.children)}}return i},BE=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},VE=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||TL(t))&&!BE(t)?0:t.tabIndex},kL=function(t,n){var r=VE(t);return r<0&&n&&!BE(t)?0:r},RL=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},UE=function(t){return t.tagName==="INPUT"},AL=function(t){return UE(t)&&t.type==="hidden"},jL=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},IL=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},PL=function(t){if(!t.name)return!0;var n=t.form||qf(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var o=IL(i,t.form);return!o||o===t},LL=function(t){return UE(t)&&t.type==="radio"},OL=function(t){return LL(t)&&!PL(t)},ML=function(t){var n,r=t&&qf(t),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==t){var l,c,u;for(o=!!((l=i)!==null&&l!==void 0&&(c=l.ownerDocument)!==null&&c!==void 0&&c.contains(i)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!o&&i;){var d,h,m;r=qf(i),i=(d=r)===null||d===void 0?void 0:d.host,o=!!((h=i)!==null&&h!==void 0&&(m=h.ownerDocument)!==null&&m!==void 0&&m.contains(i))}}return o},W_=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},DL=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in t){var o=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!o}if(getComputedStyle(t).visibility==="hidden")return!0;var l=Cu.call(t,"details>summary:first-of-type"),c=l?t.parentElement:t;if(Cu.call(c,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof i=="function"){for(var u=t;t;){var d=t.parentElement,h=qf(t);if(d&&!d.shadowRoot&&i(d)===!0)return W_(t);t.assignedSlot?t=t.assignedSlot:!d&&h!==t.ownerDocument?t=h.host:t=d}t=u}if(ML(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return W_(t);return!1},FL=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Cu.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},$L=function(t,n){return!(n.disabled||Tu(n)||AL(n)||DL(n,t)||jL(n)||FL(n))},G_=function(t,n){return!(OL(n)||VE(n)<0||!$L(t,n))},BL=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},zE=function(t){var n=[],r=[];return t.forEach(function(i,o){var l=!!i.scopeParent,c=l?i.scopeParent:i,u=kL(c,l),d=l?zE(i.candidates):c;u===0?l?n.push.apply(n,d):n.push(c):r.push({documentOrder:o,tabIndex:u,item:i,isScope:l,content:d})}),r.sort(RL).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},WE=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Dg([t],n.includeContainer,{filter:G_.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:BL}):r=NL(t,n.includeContainer,G_.bind(null,n)),zE(r)};function H_(e,t,n){let{reference:r,floating:i}=e;const o=no(t),l=Hy(t),c=Gy(l),u=na(t),d=o==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let x;switch(u){case"top":x={x:h,y:r.y-i.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-i.width,y:m};break;default:x={x:r.x,y:r.y}}switch(rc(t)){case"start":x[l]-=v*(n&&d?-1:1);break;case"end":x[l]+=v*(n&&d?-1:1);break}return x}const VL=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:m}=H_(d,r,u),v=r,x={},w=0;for(let b=0;b<c.length;b++){const{name:T,fn:S}=c[b],{x:R,y:k,data:A,reset:I}=await S({x:h,y:m,initialPlacement:r,placement:v,strategy:i,middlewareData:x,rects:d,platform:l,elements:{reference:e,floating:t}});h=R??h,m=k??m,x={...x,[T]:{...x[T],...A}},I&&w<=50&&(w++,typeof I=="object"&&(I.placement&&(v=I.placement),I.rects&&(d=I.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):I.rects),{x:h,y:m}=H_(d,v,u)),b=-1)}return{x:h,y:m,placement:v,strategy:i,middlewareData:x}};async function Yy(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:v=!1,padding:x=0}=nc(t,e),w=FE(x),T=c[v?m==="floating"?"reference":"floating":m],S=Xf(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:h,strategy:u})),R=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),A=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},I=Xf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:R,offsetParent:k,strategy:u}):R);return{top:(S.top-I.top+w.top)/A.y,bottom:(I.bottom-S.bottom+w.bottom)/A.y,left:(S.left-I.left+w.left)/A.x,right:(I.right-S.right+w.right)/A.x}}const UL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:l,elements:c,middlewareData:u}=t,{element:d,padding:h=0}=nc(e,t)||{};if(d==null)return{};const m=FE(h),v={x:n,y:r},x=Hy(i),w=Gy(x),b=await l.getDimensions(d),T=x==="y",S=T?"top":"left",R=T?"bottom":"right",k=T?"clientHeight":"clientWidth",A=o.reference[w]+o.reference[x]-v[x]-o.floating[w],I=v[x]-o.reference[x],j=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let O=j?j[k]:0;(!O||!await(l.isElement==null?void 0:l.isElement(j)))&&(O=c.floating[k]||o.floating[w]);const B=A/2-I/2,W=O/2-b[w]/2-1,D=ta(m[S],W),$=ta(m[R],W),Q=D,M=O-b[w]-$,G=O/2-b[w]/2+B,J=Lg(Q,G,M),X=!u.arrow&&rc(i)!=null&&G!==J&&o.reference[w]/2-(G<Q?D:$)-b[w]/2<0,U=X?G<Q?G-Q:G-M:0;return{[x]:v[x]+U,data:{[x]:J,centerOffset:G-J-U,...X&&{alignmentOffset:U}},reset:X}}}),zL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:u,elements:d}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...T}=nc(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const S=na(i),R=no(c),k=na(c)===c,A=await(u.isRTL==null?void 0:u.isRTL(d.floating)),I=v||(k||!b?[Yf(c)]:xL(c)),j=w!=="none";!v&&j&&I.push(...EL(c,b,w,A));const O=[c,...I],B=await Yy(t,T),W=[];let D=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&W.push(B[S]),m){const G=vL(i,l,A);W.push(B[G[0]],B[G[1]])}if(D=[...D,{placement:i,overflows:W}],!W.every(G=>G<=0)){var $,Q;const G=((($=o.flip)==null?void 0:$.index)||0)+1,J=O[G];if(J&&(!(m==="alignment"?R!==no(J):!1)||D.every(V=>no(V.placement)===R?V.overflows[0]>0:!0)))return{data:{index:G,overflows:D},reset:{placement:J}};let X=(Q=D.filter(U=>U.overflows[0]<=0).sort((U,V)=>U.overflows[1]-V.overflows[1])[0])==null?void 0:Q.placement;if(!X)switch(x){case"bestFit":{var M;const U=(M=D.filter(V=>{if(j){const H=no(V.placement);return H===R||H==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(H=>H>0).reduce((H,P)=>H+P,0)]).sort((V,H)=>V[1]-H[1])[0])==null?void 0:M[0];U&&(X=U);break}case"initialPlacement":X=c;break}if(i!==X)return{reset:{placement:X}}}return{}}}},WL=new Set(["left","top"]);async function GL(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=na(n),c=rc(n),u=no(n)==="y",d=WL.has(l)?-1:1,h=o&&u?-1:1,m=nc(t,e);let{mainAxis:v,crossAxis:x,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof w=="number"&&(x=c==="end"?w*-1:w),u?{x:x*h,y:v*d}:{x:v*d,y:x*h}}const HL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:l,middlewareData:c}=t,u=await GL(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:l}}}}},YL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:T=>{let{x:S,y:R}=T;return{x:S,y:R}}},...u}=nc(e,t),d={x:n,y:r},h=await Yy(t,u),m=no(na(i)),v=DE(m);let x=d[v],w=d[m];if(o){const T=v==="y"?"top":"left",S=v==="y"?"bottom":"right",R=x+h[T],k=x-h[S];x=Lg(R,x,k)}if(l){const T=m==="y"?"top":"left",S=m==="y"?"bottom":"right",R=w+h[T],k=w-h[S];w=Lg(R,w,k)}const b=c.fn({...t,[v]:x,[m]:w});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[v]:o,[m]:l}}}}}},XL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:l,elements:c}=t,{apply:u=()=>{},...d}=nc(e,t),h=await Yy(t,d),m=na(i),v=rc(i),x=no(i)==="y",{width:w,height:b}=o.floating;let T,S;m==="top"||m==="bottom"?(T=m,S=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(S=m,T=v==="end"?"top":"bottom");const R=b-h.top-h.bottom,k=w-h.left-h.right,A=ta(b-h[T],R),I=ta(w-h[S],k),j=!t.middlewareData.shift;let O=A,B=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=R),j&&!v){const D=ni(h.left,0),$=ni(h.right,0),Q=ni(h.top,0),M=ni(h.bottom,0);x?B=w-2*(D!==0||$!==0?D+$:ni(h.left,h.right)):O=b-2*(Q!==0||M!==0?Q+M:ni(h.top,h.bottom))}await u({...t,availableWidth:B,availableHeight:O});const W=await l.getDimensions(c.floating);return w!==W.width||b!==W.height?{reset:{rects:!0}}:{}}}};function GE(e){const t=ii(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=xr(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:r,c=Hf(n)!==o||Hf(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Xy(e){return Xt(e)?e:e.contextElement}function zl(e){const t=Xy(e);if(!xr(t))return Cs(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=GE(t);let l=(o?Hf(n.width):n.width)/r,c=(o?Hf(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const qL=Cs(0);function HE(e){const t=Ur(e);return!mp()||!t.visualViewport?qL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ur(e)?!1:t}function Xa(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Xy(e);let l=Cs(1);t&&(r?Xt(r)&&(l=zl(r)):l=zl(e));const c=KL(o,n,r)?HE(o):Cs(0);let u=(i.left+c.x)/l.x,d=(i.top+c.y)/l.y,h=i.width/l.x,m=i.height/l.y;if(o){const v=Ur(o),x=r&&Xt(r)?Ur(r):r;let w=v,b=Pg(w);for(;b&&r&&x!==w;){const T=zl(b),S=b.getBoundingClientRect(),R=ii(b),k=S.left+(b.clientLeft+parseFloat(R.paddingLeft))*T.x,A=S.top+(b.clientTop+parseFloat(R.paddingTop))*T.y;u*=T.x,d*=T.y,h*=T.x,m*=T.y,u+=k,d+=A,w=Ur(b),b=Pg(w)}}return Xf({width:h,height:m,x:u,y:d})}function yp(e,t){const n=gp(e).scrollLeft;return t?t.left+n:Xa(Ls(e)).left+n}function YE(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-yp(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function ZL(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",l=Ls(r),c=t?hp(t.floating):!1;if(r===l||c&&o)return n;let u={scrollLeft:0,scrollTop:0},d=Cs(1);const h=Cs(0),m=xr(r);if((m||!m&&!o)&&((tc(r)!=="body"||Fu(l))&&(u=gp(r)),xr(r))){const x=Xa(r);d=zl(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const v=l&&!m&&!o?YE(l,u):Cs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+v.x,y:n.y*d.y-u.scrollTop*d.y+h.y+v.y}}function QL(e){return Array.from(e.getClientRects())}function JL(e){const t=Ls(e),n=gp(e),r=e.ownerDocument.body,i=ni(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ni(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+yp(e);const c=-n.scrollTop;return ii(r).direction==="rtl"&&(l+=ni(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}const Y_=25;function eO(e,t){const n=Ur(e),r=Ls(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,u=0;if(i){o=i.width,l=i.height;const h=mp();(!h||h&&t==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const d=yp(r);if(d<=0){const h=r.ownerDocument,m=h.body,v=getComputedStyle(m),x=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(r.clientWidth-m.clientWidth-x);w<=Y_&&(o-=w)}else d<=Y_&&(o+=d);return{width:o,height:l,x:c,y:u}}const tO=new Set(["absolute","fixed"]);function nO(e,t){const n=Xa(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=xr(e)?zl(e):Cs(1),l=e.clientWidth*o.x,c=e.clientHeight*o.y,u=i*o.x,d=r*o.y;return{width:l,height:c,x:u,y:d}}function X_(e,t,n){let r;if(t==="viewport")r=eO(e,n);else if(t==="document")r=JL(Ls(e));else if(Xt(t))r=nO(t,n);else{const i=HE(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Xf(r)}function XE(e,t){const n=ao(e);return n===t||!Xt(n)||so(n)?!1:ii(n).position==="fixed"||XE(n,t)}function rO(e,t){const n=t.get(e);if(n)return n;let r=Zo(e,[],!1).filter(c=>Xt(c)&&tc(c)!=="body"),i=null;const o=ii(e).position==="fixed";let l=o?ao(e):e;for(;Xt(l)&&!so(l);){const c=ii(l),u=Wy(l);!u&&c.position==="fixed"&&(i=null),(o?!u&&!i:!u&&c.position==="static"&&!!i&&tO.has(i.position)||Fu(l)&&!u&&XE(e,l))?r=r.filter(h=>h!==l):i=c,l=ao(l)}return t.set(e,r),r}function iO(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?hp(t)?[]:rO(t,this._c):[].concat(n),r],c=l[0],u=l.reduce((d,h)=>{const m=X_(t,h,i);return d.top=ni(m.top,d.top),d.right=ta(m.right,d.right),d.bottom=ta(m.bottom,d.bottom),d.left=ni(m.left,d.left),d},X_(t,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function sO(e){const{width:t,height:n}=GE(e);return{width:t,height:n}}function oO(e,t,n){const r=xr(t),i=Ls(t),o=n==="fixed",l=Xa(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const u=Cs(0);function d(){u.x=yp(i)}if(r||!r&&!o)if((tc(t)!=="body"||Fu(i))&&(c=gp(t)),r){const x=Xa(t,!0,o,t);u.x=x.x+t.clientLeft,u.y=x.y+t.clientTop}else i&&d();o&&!r&&i&&d();const h=i&&!r&&!o?YE(i,c):Cs(0),m=l.left+c.scrollLeft-u.x-h.x,v=l.top+c.scrollTop-u.y-h.y;return{x:m,y:v,width:l.width,height:l.height}}function km(e){return ii(e).position==="static"}function q_(e,t){if(!xr(e)||ii(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ls(e)===n&&(n=n.ownerDocument.body),n}function qE(e,t){const n=Ur(e);if(hp(e))return n;if(!xr(e)){let i=ao(e);for(;i&&!so(i);){if(Xt(i)&&!km(i))return i;i=ao(i)}return n}let r=q_(e,t);for(;r&&lL(r)&&km(r);)r=q_(r,t);return r&&so(r)&&km(r)&&!Wy(r)?n:r||pL(e)||n}const aO=async function(e){const t=this.getOffsetParent||qE,n=this.getDimensions,r=await n(e.floating);return{reference:oO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lO(e){return ii(e).direction==="rtl"}const cO={convertOffsetParentRelativeRectToViewportRelativeRect:ZL,getDocumentElement:Ls,getClippingRect:iO,getOffsetParent:qE,getElementRects:aO,getClientRects:QL,getDimensions:sO,getScale:zl,isElement:Xt,isRTL:lO};function KE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uO(e,t){let n=null,r;const i=Ls(e);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const d=e.getBoundingClientRect(),{left:h,top:m,width:v,height:x}=d;if(c||t(),!v||!x)return;const w=rf(m),b=rf(i.clientWidth-(h+v)),T=rf(i.clientHeight-(m+x)),S=rf(h),k={rootMargin:-w+"px "+-b+"px "+-T+"px "+-S+"px",threshold:ni(0,ta(1,u))||1};let A=!0;function I(j){const O=j[0].intersectionRatio;if(O!==u){if(!A)return l();O?l(!1,O):r=setTimeout(()=>{l(!1,1e-7)},1e3)}O===1&&!KE(d,e.getBoundingClientRect())&&l(),A=!1}try{n=new IntersectionObserver(I,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,k)}n.observe(e)}return l(!0),o}function ZE(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=Xy(e),h=i||o?[...d?Zo(d):[],...Zo(t)]:[];h.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const m=d&&c?uO(d,n):null;let v=-1,x=null;l&&(x=new ResizeObserver(S=>{let[R]=S;R&&R.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=x)==null||k.observe(t)})),n()}),d&&!u&&x.observe(d),x.observe(t));let w,b=u?Xa(e):null;u&&T();function T(){const S=Xa(e);b&&!KE(b,S)&&n(),b=S,w=requestAnimationFrame(T)}return n(),()=>{var S;h.forEach(R=>{i&&R.removeEventListener("scroll",n),o&&R.removeEventListener("resize",n)}),m?.(),(S=x)==null||S.disconnect(),x=null,u&&cancelAnimationFrame(w)}}const dO=HL,fO=YL,pO=zL,hO=XL,K_=UL,mO=(e,t,n)=>{const r=new Map,i={platform:cO,...n},o={...i.platform,_c:r};return VL(e,t,{...i,platform:o})};var gO=typeof document<"u",yO=function(){},Cf=gO?y.useLayoutEffect:yO;function Kf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Kf(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Kf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function QE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Z_(e,t){const n=QE(e);return Math.round(t*n)/n}function Rm(e){const t=y.useRef(e);return Cf(()=>{t.current=e}),t}function vO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[h,m]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,x]=y.useState(r);Kf(v,r)||x(r);const[w,b]=y.useState(null),[T,S]=y.useState(null),R=y.useCallback(V=>{V!==j.current&&(j.current=V,b(V))},[]),k=y.useCallback(V=>{V!==O.current&&(O.current=V,S(V))},[]),A=o||w,I=l||T,j=y.useRef(null),O=y.useRef(null),B=y.useRef(h),W=u!=null,D=Rm(u),$=Rm(i),Q=Rm(d),M=y.useCallback(()=>{if(!j.current||!O.current)return;const V={placement:t,strategy:n,middleware:v};$.current&&(V.platform=$.current),mO(j.current,O.current,V).then(H=>{const P={...H,isPositioned:Q.current!==!1};G.current&&!Kf(B.current,P)&&(B.current=P,Ey.flushSync(()=>{m(P)}))})},[v,t,n,$,Q]);Cf(()=>{d===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,m(V=>({...V,isPositioned:!1})))},[d]);const G=y.useRef(!1);Cf(()=>(G.current=!0,()=>{G.current=!1}),[]),Cf(()=>{if(A&&(j.current=A),I&&(O.current=I),A&&I){if(D.current)return D.current(A,I,M);M()}},[A,I,M,D,W]);const J=y.useMemo(()=>({reference:j,floating:O,setReference:R,setFloating:k}),[R,k]),X=y.useMemo(()=>({reference:A,floating:I}),[A,I]),U=y.useMemo(()=>{const V={position:n,left:0,top:0};if(!X.floating)return V;const H=Z_(X.floating,h.x),P=Z_(X.floating,h.y);return c?{...V,transform:"translate("+H+"px, "+P+"px)",...QE(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:P}},[n,c,X.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:M,refs:J,elements:X,floatingStyles:U}),[h,M,J,X,U])}const xO=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?K_({element:r.current,padding:i}).fn(n):{}:r?K_({element:r,padding:i}).fn(n):{}}}},JE=(e,t)=>({...dO(e),options:[e,t]}),eS=(e,t)=>({...fO(e),options:[e,t]}),tS=(e,t)=>({...pO(e),options:[e,t]}),_O=(e,t)=>({...hO(e),options:[e,t]}),wO=(e,t)=>({...xO(e),options:[e,t]});let vp=y.createContext(null);vp.displayName="OpenClosedContext";var Zi=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Zi||{});function xp(){return y.useContext(vp)}function bO({value:e,children:t}){return Oe.createElement(vp.Provider,{value:e},t)}function EO({children:e}){return Oe.createElement(vp.Provider,{value:null},e)}function SO(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Uo=[];SO(()=>{function e(t){if(!Ho(t.target)||t.target===document.body||Uo[0]===t.target)return;let n=t.target;n=n.closest(Gf),Uo.unshift(n??t.target),Uo=Uo.filter(r=>r!=null&&r.isConnected),Uo.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function nS(e){let t=Dt(e),n=y.useRef(!1);y.useEffect(()=>(n.current=!1,()=>{n.current=!0,dp(()=>{n.current&&t()})}),[t])}let rS=y.createContext(!1);function CO(){return y.useContext(rS)}function Q_(e){return Oe.createElement(rS.Provider,{value:e.force},e.children)}function TO(e){let t=CO(),n=y.useContext(sS),[r,i]=y.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(Ss.isServer)return null;let l=e?.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let c=e.createElement("div");return c.setAttribute("id","headlessui-portal-root"),e.body.appendChild(c)});return y.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),y.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let iS=y.Fragment,NO=Wr(function(e,t){let{ownerDocument:n=null,...r}=e,i=y.useRef(null),o=Ps(uP(v=>{i.current=v}),t),l=Vy(i.current),c=n??l,u=TO(c),d=y.useContext(Fg),h=fp(),m=Ni();return nS(()=>{var v;u&&u.childNodes.length<=0&&((v=u.parentElement)==null||v.removeChild(u))}),u?Ey.createPortal(Oe.createElement("div",{"data-headlessui-portal":"",ref:v=>{h.dispose(),d&&v&&h.add(d.register(v))}},m({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:iS,name:"Portal"})),u):null});function kO(e,t){let n=Ps(t),{enabled:r=!0,ownerDocument:i,...o}=e,l=Ni();return r?Oe.createElement(NO,{...o,ownerDocument:i,ref:n}):l({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:iS,name:"Portal"})}let RO=y.Fragment,sS=y.createContext(null);function AO(e,t){let{target:n,...r}=e,i={ref:Ps(t)},o=Ni();return Oe.createElement(sS.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:RO,name:"Popover.Group"}))}let Fg=y.createContext(null);function jO(){let e=y.useContext(Fg),t=y.useRef([]),n=Dt(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=Dt(o=>{let l=t.current.indexOf(o);l!==-1&&t.current.splice(l,1),e&&e.unregister(o)}),i=y.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,y.useMemo(()=>function({children:o}){return Oe.createElement(Fg.Provider,{value:i},o)},[i])]}let IO=Wr(kO),oS=Wr(AO),PO=Object.assign(IO,{Group:oS});function LO(e,t=typeof document<"u"?document.defaultView:null,n){let r=Du(e,"escape");OE(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===CE.Escape&&n(i))})}function OO(){var e;let[t]=y.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=y.useState((e=t?.matches)!=null?e:!1);return Vr(()=>{if(!t)return;function i(o){r(o.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function MO({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Dt(()=>{var i,o;let l=Ou(n),c=[];for(let u of e)u!==null&&(Ko(u)?c.push(u):"current"in u&&Ko(u.current)&&c.push(u.current));if(t!=null&&t.current)for(let u of t.current)c.push(u);for(let u of(i=l?.querySelectorAll("html > *, body > *"))!=null?i:[])u!==document.body&&u!==document.head&&Ko(u)&&u.id!=="headlessui-portal-root"&&(n&&(u.contains(n)||u.contains((o=n?.getRootNode())==null?void 0:o.host))||c.some(d=>u.contains(d))||c.push(u));return c});return{resolveContainers:r,contains:Dt(i=>r().some(o=>o.contains(i)))}}let aS=y.createContext(null);function J_({children:e,node:t}){let[n,r]=y.useState(null),i=lS(t??n);return Oe.createElement(aS.Provider,{value:i},e,i===null&&Oe.createElement(Rg,{features:Wf.Hidden,ref:o=>{var l,c;if(o){for(let u of(c=(l=Ou(o))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?c:[])if(u!==document.body&&u!==document.head&&Ko(u)&&u!=null&&u.contains(o)){r(u);break}}}}))}function lS(e=null){var t;return(t=y.useContext(aS))!=null?t:e}function DO(){let e=typeof document>"u";return"useSyncExternalStore"in wu?(t=>t.useSyncExternalStore)(wu)(()=>()=>{},()=>!1,()=>!e):!1}function _p(){let e=DO(),[t,n]=y.useState(Ss.isHandoffComplete);return t&&Ss.isHandoffComplete===!1&&n(!1),y.useEffect(()=>{t!==!0&&n(!0)},[t]),y.useEffect(()=>Ss.handoff(),[]),e?!1:t}function qy(){let e=y.useRef(!1);return Vr(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var ou=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ou||{});function FO(){let e=y.useRef(0);return LE(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function cS(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)Ko(n.current)&&t.add(n.current);return t}let $O="div";var Ma=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ma||{});function BO(e,t){let n=y.useRef(null),r=Ps(n,t),{initialFocus:i,initialFocusFallback:o,containers:l,features:c=15,...u}=e;_p()||(c=0);let d=Vy(n.current);WO(c,{ownerDocument:d});let h=GO(c,{ownerDocument:d,container:n,initialFocus:i,initialFocusFallback:o});HO(c,{ownerDocument:d,container:n,containers:l,previousActiveElement:h});let m=FO(),v=Dt(R=>{if(!Ya(n.current))return;let k=n.current;(A=>A())(()=>{oo(m.current,{[ou.Forwards]:()=>{mu(k,eo.First,{skipElements:[R.relatedTarget,o]})},[ou.Backwards]:()=>{mu(k,eo.Last,{skipElements:[R.relatedTarget,o]})}})})}),x=Du(!!(c&2),"focus-trap#tab-lock"),w=fp(),b=y.useRef(!1),T={ref:r,onKeyDown(R){R.key=="Tab"&&(b.current=!0,w.requestAnimationFrame(()=>{b.current=!1}))},onBlur(R){if(!(c&4))return;let k=cS(l);Ya(n.current)&&k.add(n.current);let A=R.relatedTarget;Ho(A)&&A.dataset.headlessuiFocusGuard!=="true"&&(uS(k,A)||(b.current?mu(n.current,oo(m.current,{[ou.Forwards]:()=>eo.Next,[ou.Backwards]:()=>eo.Previous})|eo.WrapAround,{relativeTo:R.target}):Ho(R.target)&&io(R.target)))}},S=Ni();return Oe.createElement(Oe.Fragment,null,x&&Oe.createElement(Rg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Wf.Focusable}),S({ourProps:T,theirProps:u,defaultTag:$O,name:"FocusTrap"}),x&&Oe.createElement(Rg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Wf.Focusable}))}let VO=Wr(BO),UO=Object.assign(VO,{features:Ma});function zO(e=!0){let t=y.useRef(Uo.slice());return Uy(([n],[r])=>{r===!0&&n===!1&&dp(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Uo.slice())},[e,Uo,t]),Dt(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function WO(e,{ownerDocument:t}){let n=!!(e&8),r=zO(n);Uy(()=>{n||KI(t?.body)&&io(r())},[n]),nS(()=>{n&&io(r())})}function GO(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let o=y.useRef(null),l=Du(!!(e&1),"focus-trap#initial-focus"),c=qy();return Uy(()=>{if(e===0)return;if(!l){i!=null&&i.current&&io(i.current);return}let u=n.current;u&&dp(()=>{if(!c.current)return;let d=t?.activeElement;if(r!=null&&r.current){if(r?.current===d){o.current=d;return}}else if(u.contains(d)){o.current=d;return}if(r!=null&&r.current)io(r.current);else{if(e&16){if(mu(u,eo.First|eo.AutoFocus)!==jg.Error)return}else if(mu(u,eo.First)!==jg.Error)return;if(i!=null&&i.current&&(io(i.current),t?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t?.activeElement})},[i,l,e]),o}function HO(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let o=qy(),l=!!(e&4);OE(t?.defaultView,"focus",c=>{if(!l||!o.current)return;let u=cS(r);Ya(n.current)&&u.add(n.current);let d=i.current;if(!d)return;let h=c.target;Ya(h)?uS(u,h)?(i.current=h,io(h)):(c.preventDefault(),c.stopPropagation(),io(d)):io(i.current)},!0)}function uS(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function dS(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!pu((t=e.as)!=null?t:pS)||Oe.Children.count(e.children)===1}let wp=y.createContext(null);wp.displayName="TransitionContext";var YO=(e=>(e.Visible="visible",e.Hidden="hidden",e))(YO||{});function XO(){let e=y.useContext(wp);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function qO(){let e=y.useContext(bp);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let bp=y.createContext(null);bp.displayName="NestingContext";function Ep(e){return"children"in e?Ep(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function fS(e,t){let n=Ka(e),r=y.useRef([]),i=qy(),o=fp(),l=Dt((x,w=Go.Hidden)=>{let b=r.current.findIndex(({el:T})=>T===x);b!==-1&&(oo(w,{[Go.Unmount](){r.current.splice(b,1)},[Go.Hidden](){r.current[b].state="hidden"}}),o.microTask(()=>{var T;!Ep(r)&&i.current&&((T=n.current)==null||T.call(n))}))}),c=Dt(x=>{let w=r.current.find(({el:b})=>b===x);return w?w.state!=="visible"&&(w.state="visible"):r.current.push({el:x,state:"visible"}),()=>l(x,Go.Unmount)}),u=y.useRef([]),d=y.useRef(Promise.resolve()),h=y.useRef({enter:[],leave:[]}),m=Dt((x,w,b)=>{u.current.splice(0),t&&(t.chains.current[w]=t.chains.current[w].filter(([T])=>T!==x)),t?.chains.current[w].push([x,new Promise(T=>{u.current.push(T)})]),t?.chains.current[w].push([x,new Promise(T=>{Promise.all(h.current[w].map(([S,R])=>R)).then(()=>T())})]),w==="enter"?d.current=d.current.then(()=>t?.wait.current).then(()=>b(w)):b(w)}),v=Dt((x,w,b)=>{Promise.all(h.current[w].splice(0).map(([T,S])=>S)).then(()=>{var T;(T=u.current.shift())==null||T()}).then(()=>b(w))});return y.useMemo(()=>({children:r,register:c,unregister:l,onStart:m,onStop:v,wait:d,chains:h}),[c,l,r,m,v,h,d])}let pS=y.Fragment,hS=zf.RenderStrategy;function KO(e,t){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:l,beforeLeave:c,afterLeave:u,enter:d,enterFrom:h,enterTo:m,entered:v,leave:x,leaveFrom:w,leaveTo:b,...T}=e,[S,R]=y.useState(null),k=y.useRef(null),A=dS(e),I=Ps(...A?[k,t,R]:t===null?[]:[t]),j=(n=T.unmount)==null||n?Go.Unmount:Go.Hidden,{show:O,appear:B,initial:W}=XO(),[D,$]=y.useState(O?"visible":"hidden"),Q=qO(),{register:M,unregister:G}=Q;Vr(()=>M(k),[M,k]),Vr(()=>{if(j===Go.Hidden&&k.current){if(O&&D!=="visible"){$("visible");return}return oo(D,{hidden:()=>G(k),visible:()=>M(k)})}},[D,k,M,G,O,j]);let J=_p();Vr(()=>{if(A&&J&&D==="visible"&&k.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[k,D,J,A]);let X=W&&!B,U=B&&O&&W,V=y.useRef(!1),H=fS(()=>{V.current||($("hidden"),G(k))},Q),P=Dt(be=>{V.current=!0;let ke=be?"enter":"leave";H.onStart(k,ke,Ee=>{Ee==="enter"?o?.():Ee==="leave"&&c?.()})}),Y=Dt(be=>{let ke=be?"enter":"leave";V.current=!1,H.onStop(k,ke,Ee=>{Ee==="enter"?l?.():Ee==="leave"&&u?.()}),ke==="leave"&&!Ep(H)&&($("hidden"),G(k))});y.useEffect(()=>{A&&i||(P(O),Y(O))},[O,A,i]);let re=!(!i||!A||!J||X),[,q]=tL(re,S,O,{start:P,end:Y}),oe=La({ref:I,className:((r=kg(T.className,U&&d,U&&h,q.enter&&d,q.enter&&q.closed&&h,q.enter&&!q.closed&&m,q.leave&&x,q.leave&&!q.closed&&w,q.leave&&q.closed&&b,!q.transition&&O&&v))==null?void 0:r.trim())||void 0,...eL(q)}),ie=0;D==="visible"&&(ie|=Zi.Open),D==="hidden"&&(ie|=Zi.Closed),O&&D==="hidden"&&(ie|=Zi.Opening),!O&&D==="visible"&&(ie|=Zi.Closing);let ve=Ni();return Oe.createElement(bp.Provider,{value:H},Oe.createElement(bO,{value:ie},ve({ourProps:oe,theirProps:T,defaultTag:pS,features:hS,visible:D==="visible",name:"Transition.Child"})))}function ZO(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,l=y.useRef(null),c=dS(e),u=Ps(...c?[l,t]:t===null?[]:[t]);_p();let d=xp();if(n===void 0&&d!==null&&(n=(d&Zi.Open)===Zi.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,m]=y.useState(n?"visible":"hidden"),v=fS(()=>{n||m("hidden")}),[x,w]=y.useState(!0),b=y.useRef([n]);Vr(()=>{x!==!1&&b.current[b.current.length-1]!==n&&(b.current.push(n),w(!1))},[b,n]);let T=y.useMemo(()=>({show:n,appear:r,initial:x}),[n,r,x]);Vr(()=>{n?m("visible"):!Ep(v)&&l.current!==null&&m("hidden")},[n,v]);let S={unmount:i},R=Dt(()=>{var I;x&&w(!1),(I=e.beforeEnter)==null||I.call(e)}),k=Dt(()=>{var I;x&&w(!1),(I=e.beforeLeave)==null||I.call(e)}),A=Ni();return Oe.createElement(bp.Provider,{value:v},Oe.createElement(wp.Provider,{value:T},A({ourProps:{...S,as:y.Fragment,children:Oe.createElement(mS,{ref:u,...S,...o,beforeEnter:R,beforeLeave:k})},theirProps:{},defaultTag:y.Fragment,features:hS,visible:h==="visible",name:"Transition"})))}function QO(e,t){let n=y.useContext(wp)!==null,r=xp()!==null;return Oe.createElement(Oe.Fragment,null,!n&&r?Oe.createElement($g,{ref:t,...e}):Oe.createElement(mS,{ref:t,...e}))}let $g=Wr(ZO),mS=Wr(KO),Ky=Wr(QO),JO=Object.assign($g,{Child:Ky,Root:$g});var eM=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(eM||{}),tM=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(tM||{});let nM={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Zy=y.createContext(null);Zy.displayName="DialogContext";function Sp(e){let t=y.useContext(Zy);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Sp),n}return t}function rM(e,t){return oo(t.type,nM,e,t)}let ew=Wr(function(e,t){let n=y.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:l,role:c="dialog",autoFocus:u=!0,__demoMode:d=!1,unmount:h=!1,...m}=e,v=y.useRef(!1);c=(function(){return c==="dialog"||c==="alertdialog"?c:(v.current||(v.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let x=xp();i===void 0&&x!==null&&(i=(x&Zi.Open)===Zi.Open);let w=y.useRef(null),b=Ps(w,t),T=Vy(w.current),S=i?0:1,[R,k]=y.useReducer(rM,{titleId:null,descriptionId:null,panelRef:y.createRef()}),A=Dt(()=>o(!1)),I=Dt(q=>k({type:0,id:q})),j=_p()?S===0:!1,[O,B]=jO(),W={get current(){var q;return(q=R.panelRef.current)!=null?q:w.current}},D=lS(),{resolveContainers:$}=MO({mainTreeNode:D,portals:O,defaultContainers:[W]}),Q=x!==null?(x&Zi.Closing)===Zi.Closing:!1;jP(d||Q?!1:j,{allowed:Dt(()=>{var q,oe;return[(oe=(q=w.current)==null?void 0:q.closest("[data-headlessui-portal]"))!=null?oe:null]}),disallowed:Dt(()=>{var q;return[(q=D?.closest("body > *:not(#headlessui-portal-root)"))!=null?q:null]})});let M=AE.get(null);Vr(()=>{if(j)return M.actions.push(r),()=>M.actions.pop(r)},[M,r,j]);let G=jE(M,y.useCallback(q=>M.selectors.isTop(q,r),[M,r]));zP(G,$,q=>{q.preventDefault(),A()}),LO(G,T?.defaultView,q=>{q.preventDefault(),q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),A()}),KP(d||Q?!1:j,T,$),IP(j,w,A);let[J,X]=dP(),U=y.useMemo(()=>[{dialogState:S,close:A,setTitleId:I,unmount:h},R],[S,A,I,h,R]),V=Mu({open:S===0}),H={ref:b,id:r,role:c,tabIndex:-1,"aria-modal":d?void 0:S===0?!0:void 0,"aria-labelledby":R.titleId,"aria-describedby":J,unmount:h},P=!OO(),Y=Ma.None;j&&!d&&(Y|=Ma.RestoreFocus,Y|=Ma.TabLock,u&&(Y|=Ma.AutoFocus),P&&(Y|=Ma.InitialFocus));let re=Ni();return Oe.createElement(EO,null,Oe.createElement(Q_,{force:!0},Oe.createElement(PO,null,Oe.createElement(Zy.Provider,{value:U},Oe.createElement(oS,{target:w},Oe.createElement(Q_,{force:!1},Oe.createElement(X,{slot:V},Oe.createElement(B,null,Oe.createElement(UO,{initialFocus:l,initialFocusFallback:w,containers:$,features:Y},Oe.createElement(yP,{value:A},re({ourProps:H,theirProps:m,slot:V,defaultTag:iM,features:sM,visible:S===0,name:"Dialog"})))))))))))}),iM="div",sM=zf.RenderStrategy|zf.Static;function oM(e,t){let{transition:n=!1,open:r,...i}=e,o=xp(),l=e.hasOwnProperty("open")||o!==null,c=e.hasOwnProperty("onClose");if(!l&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?Oe.createElement(J_,null,Oe.createElement(JO,{show:r,transition:n,unmount:i.unmount},Oe.createElement(ew,{ref:t,...i}))):Oe.createElement(J_,null,Oe.createElement(ew,{ref:t,open:r,...i}))}let aM="div";function lM(e,t){let n=y.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...o}=e,[{dialogState:l,unmount:c},u]=Sp("Dialog.Panel"),d=Ps(t,u.panelRef),h=Mu({open:l===0}),m=Dt(T=>{T.stopPropagation()}),v={ref:d,id:r,onClick:m},x=i?Ky:y.Fragment,w=i?{unmount:c}:{},b=Ni();return Oe.createElement(x,{...w},b({ourProps:v,theirProps:o,slot:h,defaultTag:aM,name:"Dialog.Panel"}))}let cM="div";function uM(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:o}]=Sp("Dialog.Backdrop"),l=Mu({open:i===0}),c={ref:t,"aria-hidden":!0},u=n?Ky:y.Fragment,d=n?{unmount:o}:{},h=Ni();return Oe.createElement(u,{...d},h({ourProps:c,theirProps:r,slot:l,defaultTag:cM,name:"Dialog.Backdrop"}))}let dM="h2";function fM(e,t){let n=y.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:l}]=Sp("Dialog.Title"),c=Ps(t);y.useEffect(()=>(l(r),()=>l(null)),[r,l]);let u=Mu({open:o===0}),d={ref:c,id:r};return Ni()({ourProps:d,theirProps:i,slot:u,defaultTag:dM,name:"Dialog.Title"})}let pM=Wr(oM),gS=Wr(lM),hM=Wr(uM),mM=Wr(fM),gM=Object.assign(pM,{Panel:gS,Title:mM,Description:mP});const yM="_dialog_1nxoa_1",vM="_backdrop_1nxoa_6",xM="_container_1nxoa_18",_M="_panel_1nxoa_29",sf={dialog:yM,backdrop:vM,container:xM,panel:_M};function cr({isOpen:e,setIsOpen:t,onClose:n,onOpen:r,allowClose:i=!0,preClose:o,className:l,children:c}){const u=y.useRef(e),[d,h]=y.useState(!1);y.useEffect(()=>{e&&!u.current&&r&&requestAnimationFrame(()=>{r()}),u.current=e},[e,r]);const m=y.useCallback(async()=>{if(i&&!d){if(!o){n?.(),t(!1);return}h(!0);try{await Promise.resolve(o())&&(n?.(),t(!1))}finally{h(!1)}}},[i,o,n,t,d]);return f.jsxs(gM,{open:e,onClose:m,className:sf.dialog,children:[f.jsx(hM,{transition:!0,className:sf.backdrop}),f.jsx("div",{className:sf.container,children:f.jsx(gS,{transition:!0,className:Z(sf.panel,l),children:c})})]})}const Qy=y.createContext({});function Jy(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const ev=typeof window<"u",yS=ev?y.useLayoutEffect:y.useEffect,Cp=y.createContext(null);function tv(e,t){e.indexOf(t)===-1&&e.push(t)}function nv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const lo=(e,t,n)=>n>t?t:n<e?e:n;let rv=()=>{};const co={},vS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function xS(e){return typeof e=="object"&&e!==null}const _S=e=>/^0[^.\s]+$/u.test(e);function iv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ci=e=>e,wM=(e,t)=>n=>t(e(n)),$u=(...e)=>e.reduce(wM),Nu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class sv{constructor(){this.subscriptions=[]}add(t){return tv(this.subscriptions,t),()=>nv(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ts=e=>e*1e3,bi=e=>e/1e3;function wS(e,t){return t?e*(1e3/t):0}const bS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,bM=1e-7,EM=12;function SM(e,t,n,r,i){let o,l,c=0;do l=t+(n-t)/2,o=bS(l,r,i)-e,o>0?n=l:t=l;while(Math.abs(o)>bM&&++c<EM);return l}function Bu(e,t,n,r){if(e===t&&n===r)return Ci;const i=o=>SM(o,0,1,e,n);return o=>o===0||o===1?o:bS(i(o),t,r)}const ES=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,SS=e=>t=>1-e(1-t),CS=Bu(.33,1.53,.69,.99),ov=SS(CS),TS=ES(ov),NS=e=>(e*=2)<1?.5*ov(e):.5*(2-Math.pow(2,-10*(e-1))),av=e=>1-Math.sin(Math.acos(e)),kS=SS(av),RS=ES(av),CM=Bu(.42,0,1,1),TM=Bu(0,0,.58,1),AS=Bu(.42,0,.58,1),NM=e=>Array.isArray(e)&&typeof e[0]!="number",jS=e=>Array.isArray(e)&&typeof e[0]=="number",kM={linear:Ci,easeIn:CM,easeInOut:AS,easeOut:TM,circIn:av,circInOut:RS,circOut:kS,backIn:ov,backInOut:TS,backOut:CS,anticipate:NS},RM=e=>typeof e=="string",tw=e=>{if(jS(e)){rv(e.length===4);const[t,n,r,i]=e;return Bu(t,n,r,i)}else if(RM(e))return kM[e];return e},of=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function AM(e,t){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(h){l.has(h)&&(d.schedule(h),e()),h(c)}const d={schedule:(h,m=!1,v=!1)=>{const w=v&&i?n:r;return m&&l.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),l.delete(h)},process:h=>{if(c=h,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,o&&(o=!1,d.process(h))}};return d}const jM=40;function IS(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=of.reduce((k,A)=>(k[A]=AM(o),k),{}),{setup:c,read:u,resolveKeyframes:d,preUpdate:h,update:m,preRender:v,render:x,postRender:w}=l,b=()=>{const k=co.useManualTiming?i.timestamp:performance.now();n=!1,co.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,jM),1)),i.timestamp=k,i.isProcessing=!0,c.process(i),u.process(i),d.process(i),h.process(i),m.process(i),v.process(i),x.process(i),w.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(b))},T=()=>{n=!0,r=!0,i.isProcessing||e(b)};return{schedule:of.reduce((k,A)=>{const I=l[A];return k[A]=(j,O=!1,B=!1)=>(n||T(),I.schedule(j,O,B)),k},{}),cancel:k=>{for(let A=0;A<of.length;A++)l[of[A]].cancel(k)},state:i,steps:l}}const{schedule:Jt,cancel:ra,state:Kn,steps:Am}=IS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ci,!0);let Tf;function IM(){Tf=void 0}const Br={now:()=>(Tf===void 0&&Br.set(Kn.isProcessing||co.useManualTiming?Kn.timestamp:performance.now()),Tf),set:e=>{Tf=e,queueMicrotask(IM)}},PS=e=>t=>typeof t=="string"&&t.startsWith(e),LS=PS("--"),PM=PS("var(--"),lv=e=>PM(e)?LM.test(e.split("/*")[0].trim()):!1,LM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ic={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ku={...ic,transform:e=>lo(0,1,e)},af={...ic,default:1},gu=e=>Math.round(e*1e5)/1e5,cv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OM(e){return e==null}const MM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uv=(e,t)=>n=>!!(typeof n=="string"&&MM.test(n)&&n.startsWith(e)||t&&!OM(n)&&Object.prototype.hasOwnProperty.call(n,t)),OS=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,c]=r.match(cv);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},DM=e=>lo(0,255,e),jm={...ic,transform:e=>Math.round(DM(e))},Ba={test:uv("rgb","red"),parse:OS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+jm.transform(e)+", "+jm.transform(t)+", "+jm.transform(n)+", "+gu(ku.transform(r))+")"};function FM(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Bg={test:uv("#"),parse:FM,transform:Ba.transform},Vu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bo=Vu("deg"),Ns=Vu("%"),tt=Vu("px"),$M=Vu("vh"),BM=Vu("vw"),nw={...Ns,parse:e=>Ns.parse(e)/100,transform:e=>Ns.transform(e*100)},Dl={test:uv("hsl","hue"),parse:OS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ns.transform(gu(t))+", "+Ns.transform(gu(n))+", "+gu(ku.transform(r))+")"},yn={test:e=>Ba.test(e)||Bg.test(e)||Dl.test(e),parse:e=>Ba.test(e)?Ba.parse(e):Dl.test(e)?Dl.parse(e):Bg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ba.transform(e):Dl.transform(e),getAnimatableNone:e=>{const t=yn.parse(e);return t.alpha=0,yn.transform(t)}},VM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UM(e){return isNaN(e)&&typeof e=="string"&&(e.match(cv)?.length||0)+(e.match(VM)?.length||0)>0}const MS="number",DS="color",zM="var",WM="var(",rw="${}",GM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ru(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const c=t.replace(GM,u=>(yn.test(u)?(r.color.push(o),i.push(DS),n.push(yn.parse(u))):u.startsWith(WM)?(r.var.push(o),i.push(zM),n.push(u)):(r.number.push(o),i.push(MS),n.push(parseFloat(u))),++o,rw)).split(rw);return{values:n,split:c,indexes:r,types:i}}function FS(e){return Ru(e).values}function $S(e){const{split:t,types:n}=Ru(e),r=t.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=t[l],i[l]!==void 0){const c=n[l];c===MS?o+=gu(i[l]):c===DS?o+=yn.transform(i[l]):o+=i[l]}return o}}const HM=e=>typeof e=="number"?0:yn.test(e)?yn.getAnimatableNone(e):e;function YM(e){const t=FS(e);return $S(e)(t.map(HM))}const ia={test:UM,parse:FS,createTransformer:$S,getAnimatableNone:YM};function Im(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function XM({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,l=0;if(!t)i=o=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,u=2*n-c;i=Im(u,c,e+1/3),o=Im(u,c,e),l=Im(u,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Zf(e,t){return n=>n>0?t:e}const sn=(e,t,n)=>e+(t-e)*n,Pm=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},qM=[Bg,Ba,Dl],KM=e=>qM.find(t=>t.test(e));function iw(e){const t=KM(e);if(!t)return!1;let n=t.parse(e);return t===Dl&&(n=XM(n)),n}const sw=(e,t)=>{const n=iw(e),r=iw(t);if(!n||!r)return Zf(e,t);const i={...n};return o=>(i.red=Pm(n.red,r.red,o),i.green=Pm(n.green,r.green,o),i.blue=Pm(n.blue,r.blue,o),i.alpha=sn(n.alpha,r.alpha,o),Ba.transform(i))},Vg=new Set(["none","hidden"]);function ZM(e,t){return Vg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function QM(e,t){return n=>sn(e,t,n)}function dv(e){return typeof e=="number"?QM:typeof e=="string"?lv(e)?Zf:yn.test(e)?sw:tD:Array.isArray(e)?BS:typeof e=="object"?yn.test(e)?sw:JM:Zf}function BS(e,t){const n=[...e],r=n.length,i=e.map((o,l)=>dv(o)(o,t[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function JM(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=dv(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function eD(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][r[o]],c=e.values[l]??0;n[i]=c,r[o]++}return n}const tD=(e,t)=>{const n=ia.createTransformer(t),r=Ru(e),i=Ru(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Vg.has(e)&&!i.values.length||Vg.has(t)&&!r.values.length?ZM(e,t):$u(BS(eD(r,i),i.values),n):Zf(e,t)};function VS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?sn(e,t,n):dv(e)(e,t)}const nD=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Jt.update(t,n),stop:()=>ra(t),now:()=>Kn.isProcessing?Kn.timestamp:Br.now()}},US=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Qf=2e4;function fv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Qf;)t+=n,r=e.next(t);return t>=Qf?1/0:t}function rD(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(fv(r),Qf);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:bi(i)}}const iD=5;function zS(e,t,n){const r=Math.max(t-iD,0);return wS(n-e(r),t-r)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lm=.001;function sD({duration:e=ln.duration,bounce:t=ln.bounce,velocity:n=ln.velocity,mass:r=ln.mass}){let i,o,l=1-t;l=lo(ln.minDamping,ln.maxDamping,l),e=lo(ln.minDuration,ln.maxDuration,bi(e)),l<1?(i=d=>{const h=d*l,m=h*e,v=h-n,x=Ug(d,l),w=Math.exp(-m);return Lm-v/x*w},o=d=>{const m=d*l*e,v=m*n+n,x=Math.pow(l,2)*Math.pow(d,2)*e,w=Math.exp(-m),b=Ug(Math.pow(d,2),l);return(-i(d)+Lm>0?-1:1)*((v-x)*w)/b}):(i=d=>{const h=Math.exp(-d*e),m=(d-n)*e+1;return-Lm+h*m},o=d=>{const h=Math.exp(-d*e),m=(n-d)*(e*e);return h*m});const c=5/e,u=aD(i,o,c);if(e=Ts(e),isNaN(u))return{stiffness:ln.stiffness,damping:ln.damping,duration:e};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:l*2*Math.sqrt(r*d),duration:e}}}const oD=12;function aD(e,t,n){let r=n;for(let i=1;i<oD;i++)r=r-e(r)/t(r);return r}function Ug(e,t){return e*Math.sqrt(1-t*t)}const lD=["duration","bounce"],cD=["stiffness","damping","mass"];function ow(e,t){return t.some(n=>e[n]!==void 0)}function uD(e){let t={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...e};if(!ow(e,cD)&&ow(e,lD))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*lo(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ln.mass,stiffness:i,damping:o}}else{const n=sD(e);t={...t,...n,mass:ln.mass},t.isResolvedFromDuration=!0}return t}function Jf(e=ln.visualDuration,t=ln.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:u,damping:d,mass:h,duration:m,velocity:v,isResolvedFromDuration:x}=uD({...n,velocity:-bi(n.velocity||0)}),w=v||0,b=d/(2*Math.sqrt(u*h)),T=l-o,S=bi(Math.sqrt(u/h)),R=Math.abs(T)<5;r||(r=R?ln.restSpeed.granular:ln.restSpeed.default),i||(i=R?ln.restDelta.granular:ln.restDelta.default);let k;if(b<1){const I=Ug(S,b);k=j=>{const O=Math.exp(-b*S*j);return l-O*((w+b*S*T)/I*Math.sin(I*j)+T*Math.cos(I*j))}}else if(b===1)k=I=>l-Math.exp(-S*I)*(T+(w+S*T)*I);else{const I=S*Math.sqrt(b*b-1);k=j=>{const O=Math.exp(-b*S*j),B=Math.min(I*j,300);return l-O*((w+b*S*T)*Math.sinh(B)+I*T*Math.cosh(B))/I}}const A={calculatedDuration:x&&m||null,next:I=>{const j=k(I);if(x)c.done=I>=m;else{let O=I===0?w:0;b<1&&(O=I===0?Ts(w):zS(k,I,j));const B=Math.abs(O)<=r,W=Math.abs(l-j)<=i;c.done=B&&W}return c.value=c.done?l:j,c},toString:()=>{const I=Math.min(fv(A),Qf),j=US(O=>A.next(I*O).value,I,30);return I+"ms "+j},toTransition:()=>{}};return A}Jf.applyToOptions=e=>{const t=rD(e,100,Jf);return e.ease=t.ease,e.duration=Ts(t.duration),e.type="keyframes",e};function zg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:u,restDelta:d=.5,restSpeed:h}){const m=e[0],v={done:!1,value:m},x=B=>c!==void 0&&B<c||u!==void 0&&B>u,w=B=>c===void 0?u:u===void 0||Math.abs(c-B)<Math.abs(u-B)?c:u;let b=n*t;const T=m+b,S=l===void 0?T:l(T);S!==T&&(b=S-m);const R=B=>-b*Math.exp(-B/r),k=B=>S+R(B),A=B=>{const W=R(B),D=k(B);v.done=Math.abs(W)<=d,v.value=v.done?S:D};let I,j;const O=B=>{x(v.value)&&(I=B,j=Jf({keyframes:[v.value,w(v.value)],velocity:zS(k,B,v.value),damping:i,stiffness:o,restDelta:d,restSpeed:h}))};return O(0),{calculatedDuration:null,next:B=>{let W=!1;return!j&&I===void 0&&(W=!0,A(B),O(B)),I!==void 0&&B>=I?j.next(B-I):(!W&&A(B),v)}}}function dD(e,t,n){const r=[],i=n||co.mix||VS,o=e.length-1;for(let l=0;l<o;l++){let c=i(e[l],e[l+1]);if(t){const u=Array.isArray(t)?t[l]||Ci:t;c=$u(u,c)}r.push(c)}return r}function fD(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(rv(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=dD(t,r,i),u=c.length,d=h=>{if(l&&h<e[0])return t[0];let m=0;if(u>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const v=Nu(e[m],e[m+1],h);return c[m](v)};return n?h=>d(lo(e[0],e[o-1],h)):d}function pD(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Nu(0,t,r);e.push(sn(n,1,i))}}function hD(e){const t=[0];return pD(t,e.length-1),t}function mD(e,t){return e.map(n=>n*t)}function gD(e,t){return e.map(()=>t||AS).splice(0,e.length-1)}function yu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=NM(r)?r.map(tw):tw(r),o={done:!1,value:t[0]},l=mD(n&&n.length===t.length?n:hD(t),e),c=fD(l,t,{ease:Array.isArray(i)?i:gD(t,i)});return{calculatedDuration:e,next:u=>(o.value=c(u),o.done=u>=e,o)}}const yD=e=>e!==null;function pv(e,{repeat:t,repeatType:n="loop"},r,i=1){const o=e.filter(yD),c=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const vD={decay:zg,inertia:zg,tween:yu,keyframes:yu,spring:Jf};function WS(e){typeof e.type=="string"&&(e.type=vD[e.type])}class hv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const xD=e=>e/100;class mv extends hv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Br.now()&&this.tick(Br.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;WS(t);const{type:n=yu,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=t;let{keyframes:c}=t;const u=n||yu;u!==yu&&typeof c[0]!="number"&&(this.mixKeyframes=$u(xD,VS(c[0],c[1])),c=[0,100]);const d=u({...t,keyframes:c});o==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...c].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=fv(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:v,repeatDelay:x,type:w,onUpdate:b,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const S=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,A=r;if(m){const B=Math.min(this.currentTime,i)/c;let W=Math.floor(B),D=B%1;!D&&B>=1&&(D=1),D===1&&W--,W=Math.min(W,m+1),!!(W%2)&&(v==="reverse"?(D=1-D,x&&(D-=x/c)):v==="mirror"&&(A=l)),k=lo(0,1,D)*c}const I=R?{done:!1,value:h[0]}:A.next(k);o&&(I.value=o(I.value));let{done:j}=I;!R&&u!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return O&&w!==zg&&(I.value=pv(h,this.options,T,this.speed)),b&&b(I.value),O&&this.finish(),I}then(t,n){return this.finished.then(t,n)}get duration(){return bi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+bi(t)}get time(){return bi(this.currentTime)}set time(t){t=Ts(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Br.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=bi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=nD,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Br.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function _D(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Va=e=>e*180/Math.PI,Wg=e=>{const t=Va(Math.atan2(e[1],e[0]));return Gg(t)},wD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Wg,rotateZ:Wg,skewX:e=>Va(Math.atan(e[1])),skewY:e=>Va(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gg=e=>(e=e%360,e<0&&(e+=360),e),aw=Wg,lw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),cw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),bD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lw,scaleY:cw,scale:e=>(lw(e)+cw(e))/2,rotateX:e=>Gg(Va(Math.atan2(e[6],e[5]))),rotateY:e=>Gg(Va(Math.atan2(-e[2],e[0]))),rotateZ:aw,rotate:aw,skewX:e=>Va(Math.atan(e[4])),skewY:e=>Va(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Hg(e){return e.includes("scale")?1:0}function Yg(e,t){if(!e||e==="none")return Hg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=bD,i=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=wD,i=c}if(!i)return Hg(t);const o=r[t],l=i[1].split(",").map(SD);return typeof o=="function"?o(l):l[o]}const ED=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Yg(n,t)};function SD(e){return parseFloat(e.trim())}const sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oc=new Set(sc),uw=e=>e===ic||e===tt,CD=new Set(["x","y","z"]),TD=sc.filter(e=>!CD.has(e));function ND(e){const t=[];return TD.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const za={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Yg(t,"x"),y:(e,{transform:t})=>Yg(t,"y")};za.translateX=za.x;za.translateY=za.y;const Wa=new Set;let Xg=!1,qg=!1,Kg=!1;function GS(){if(qg){const e=Array.from(Wa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=ND(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qg=!1,Xg=!1,Wa.forEach(e=>e.complete(Kg)),Wa.clear()}function HS(){Wa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(qg=!0)})}function kD(){Kg=!0,HS(),GS(),Kg=!1}class gv{constructor(t,n,r,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Wa.add(this),Xg||(Xg=!0,Jt.read(HS),Jt.resolveKeyframes(GS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const o=i?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}_D(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Wa.delete(this)}cancel(){this.state==="scheduled"&&(Wa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RD=e=>e.startsWith("--");function AD(e,t,n){RD(t)?e.style.setProperty(t,n):e.style[t]=n}const jD=iv(()=>window.ScrollTimeline!==void 0),ID={};function PD(e,t){const n=iv(e);return()=>ID[t]??n()}const YS=PD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),au=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,dw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function XS(e,t){if(e)return typeof e=="function"?YS()?US(e,t):"ease-out":jS(e)?au(e):Array.isArray(e)?e.map(n=>XS(n,t)||dw.easeOut):dw[e]}function LD(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:u}={},d=void 0){const h={[t]:n};u&&(h.offset=u);const m=XS(c,i);Array.isArray(m)&&(h.easing=m);const v={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),e.animate(h,v)}function qS(e){return typeof e=="function"&&"applyToOptions"in e}function OD({type:e,...t}){return qS(e)&&YS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class MD extends hv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:u}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,rv(typeof t.type!="string");const d=OD(t);this.animation=LD(n,r,i,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const h=pv(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):AD(n,r,h),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return bi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+bi(t)}get time(){return bi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ts(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&jD()?(this.animation.timeline=t,Ci):n(this)}}const KS={anticipate:NS,backInOut:TS,circInOut:RS};function DD(e){return e in KS}function FD(e){typeof e.ease=="string"&&DD(e.ease)&&(e.ease=KS[e.ease])}const fw=10;class $D extends MD{constructor(t){FD(t),WS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new mv({...l,autoplay:!1}),u=Ts(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-fw).value,c.sample(u).value,fw),c.stop()}}const pw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ia.test(e)||e==="0")&&!e.startsWith("url("));function BD(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function VD(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=pw(i,t),c=pw(o,t);return!l||!c?!1:BD(e)||(n==="spring"||qS(n))&&r}function Zg(e){e.duration=0,e.type="keyframes"}const UD=new Set(["opacity","clipPath","filter","transform"]),zD=iv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function WD(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return zD()&&n&&UD.has(n)&&(n!=="transform"||!d)&&!u&&!r&&i!=="mirror"&&o!==0&&l!=="inertia"}const GD=40;class HD extends hv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:u,motionValue:d,element:h,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Br.now();const v={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,name:u,motionValue:d,element:h,...m},x=h?.KeyframeResolver||gv;this.keyframeResolver=new x(c,(w,b,T)=>this.onKeyframesResolved(w,b,v,!T),u,d,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:u,isHandoff:d,onUpdate:h}=r;this.resolvedAt=Br.now(),VD(t,o,l,c)||((co.instantAnimations||!u)&&h?.(pv(t,r,n)),t[0]=t[t.length-1],Zg(r),r.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>GD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!d&&WD(v)?new $D({...v,element:v.motionValue.owner.current}):new mv(v);x.finished.then(()=>this.notifyFinished()).catch(Ci),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),kD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const YD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XD(e){const t=YD.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function ZS(e,t,n=1){const[r,i]=XD(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const l=o.trim();return vS(l)?parseFloat(l):l}return lv(i)?ZS(i,t,n+1):i}function yv(e,t){return e?.[t]??e?.default??e}const QS=new Set(["width","height","top","left","right","bottom",...sc]),qD={test:e=>e==="auto",parse:e=>e},JS=e=>t=>t.test(e),eC=[ic,tt,Ns,Bo,BM,$M,qD],hw=e=>eC.find(JS(e));function KD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||_S(e):!0}const ZD=new Set(["brightness","contrast","saturate","opacity"]);function QD(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(cv)||[];if(!r)return e;const i=n.replace(r,"");let o=ZD.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const JD=/\b([a-z-]*)\(.*?\)/gu,Qg={...ia,getAnimatableNone:e=>{const t=e.match(JD);return t?t.map(QD).join(" "):e}},mw={...ic,transform:Math.round},eF={rotate:Bo,rotateX:Bo,rotateY:Bo,rotateZ:Bo,scale:af,scaleX:af,scaleY:af,scaleZ:af,skew:Bo,skewX:Bo,skewY:Bo,distance:tt,translateX:tt,translateY:tt,translateZ:tt,x:tt,y:tt,z:tt,perspective:tt,transformPerspective:tt,opacity:ku,originX:nw,originY:nw,originZ:tt},vv={borderWidth:tt,borderTopWidth:tt,borderRightWidth:tt,borderBottomWidth:tt,borderLeftWidth:tt,borderRadius:tt,radius:tt,borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomRightRadius:tt,borderBottomLeftRadius:tt,width:tt,maxWidth:tt,height:tt,maxHeight:tt,top:tt,right:tt,bottom:tt,left:tt,padding:tt,paddingTop:tt,paddingRight:tt,paddingBottom:tt,paddingLeft:tt,margin:tt,marginTop:tt,marginRight:tt,marginBottom:tt,marginLeft:tt,backgroundPositionX:tt,backgroundPositionY:tt,...eF,zIndex:mw,fillOpacity:ku,strokeOpacity:ku,numOctaves:mw},tF={...vv,color:yn,backgroundColor:yn,outlineColor:yn,fill:yn,stroke:yn,borderColor:yn,borderTopColor:yn,borderRightColor:yn,borderBottomColor:yn,borderLeftColor:yn,filter:Qg,WebkitFilter:Qg},tC=e=>tF[e];function nC(e,t){let n=tC(e);return n!==Qg&&(n=ia),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const nF=new Set(["auto","none","0"]);function rF(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!nF.has(o)&&Ru(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=nC(n,i)}class iF extends gv{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),lv(d))){const h=ZS(d,n.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!QS.has(r)||t.length!==2)return;const[i,o]=t,l=hw(i),c=hw(o);if(l!==c)if(uw(l)&&uw(c))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else za[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||KD(t[i]))&&r.push(i);r.length&&rF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=za[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=za[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function sF(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const rC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function iC(e){return xS(e)&&"offsetHeight"in e}const gw=30,oF=e=>!isNaN(parseFloat(e));class aF{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Br.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Br.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=oF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new sv);const r=this.events[t].add(n);return t==="change"?()=>{r(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>gw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gw);return wS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xl(e,t){return new aF(e,t)}const{schedule:xv}=IS(queueMicrotask,!1),Gi={x:!1,y:!1};function sC(){return Gi.x||Gi.y}function lF(e){return e==="x"||e==="y"?Gi[e]?null:(Gi[e]=!0,()=>{Gi[e]=!1}):Gi.x||Gi.y?null:(Gi.x=Gi.y=!0,()=>{Gi.x=Gi.y=!1})}function oC(e,t){const n=sF(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function yw(e){return!(e.pointerType==="touch"||sC())}function cF(e,t,n={}){const[r,i,o]=oC(e,n),l=c=>{if(!yw(c))return;const{target:u}=c,d=t(u,c);if(typeof d!="function"||!u)return;const h=m=>{yw(m)&&(d(m),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const aC=(e,t)=>t?e===t?!0:aC(e,t.parentElement):!1,_v=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,uF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dF(e){return uF.has(e.tagName)||e.tabIndex!==-1}const Nf=new WeakSet;function vw(e){return t=>{t.key==="Enter"&&e(t)}}function Om(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fF=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=vw(()=>{if(Nf.has(n))return;Om(n,"down");const i=vw(()=>{Om(n,"up")}),o=()=>Om(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function xw(e){return _v(e)&&!sC()}function pF(e,t,n={}){const[r,i,o]=oC(e,n),l=c=>{const u=c.currentTarget;if(!xw(c))return;Nf.add(u);const d=t(u,c),h=(x,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),Nf.has(u)&&Nf.delete(u),xw(x)&&typeof d=="function"&&d(x,{success:w})},m=x=>{h(x,u===window||u===document||n.useGlobalTarget||aC(u,x.target))},v=x=>{h(x,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",v,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),iC(c)&&(c.addEventListener("focus",d=>fF(d,i)),!dF(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function lC(e){return xS(e)&&"ownerSVGElement"in e}function hF(e){return lC(e)&&e.tagName==="svg"}const ar=e=>!!(e&&e.getVelocity),mF=[...eC,yn,ia],gF=e=>mF.find(JS(e)),wv=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function _w(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yF(...e){return t=>{let n=!1;const r=e.map(i=>{const o=_w(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():_w(e[i],null)}}}}function vF(...e){return y.useCallback(yF(...e),e)}class xF extends y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=iC(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _F({children:e,isPresent:t,anchorX:n,root:r}){const i=y.useId(),o=y.useRef(null),l=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=y.useContext(wv),u=vF(o,e?.ref);return y.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:v,right:x}=l.current;if(t||!o.current||!d||!h)return;const w=n==="left"?`left: ${v}`:`right: ${x}`;o.current.dataset.motionPopId=i;const b=document.createElement("style");c&&(b.nonce=c);const T=r??document.head;return T.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{T.contains(b)&&T.removeChild(b)}},[t]),f.jsx(xF,{isPresent:t,childRef:o,sizeRef:l,children:y.cloneElement(e,{ref:u})})}const wF=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c,root:u})=>{const d=Jy(bF),h=y.useId();let m=!0,v=y.useMemo(()=>(m=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:x=>{d.set(x,!0);for(const w of d.values())if(!w)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,r]);return o&&m&&(v={...v}),y.useMemo(()=>{d.forEach((x,w)=>d.set(w,!1))},[n]),y.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(e=f.jsx(_F,{isPresent:n,anchorX:c,root:u,children:e})),f.jsx(Cp.Provider,{value:v,children:e})};function bF(){return new Map}function cC(e=!0){const t=y.useContext(Cp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=y.useId();y.useEffect(()=>{if(e)return i(o)},[e]);const l=y.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,l]:[!0]}const lf=e=>e.key||"";function ww(e){const t=[];return y.Children.forEach(e,n=>{y.isValidElement(n)&&t.push(n)}),t}const Uu=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:u})=>{const[d,h]=cC(l),m=y.useMemo(()=>ww(e),[e]),v=l&&!d?[]:m.map(lf),x=y.useRef(!0),w=y.useRef(m),b=Jy(()=>new Map),[T,S]=y.useState(m),[R,k]=y.useState(m);yS(()=>{x.current=!1,w.current=m;for(let j=0;j<R.length;j++){const O=lf(R[j]);v.includes(O)?b.delete(O):b.get(O)!==!0&&b.set(O,!1)}},[R,v.length,v.join("-")]);const A=[];if(m!==T){let j=[...m];for(let O=0;O<R.length;O++){const B=R[O],W=lf(B);v.includes(W)||(j.splice(O,0,B),A.push(B))}return o==="wait"&&A.length&&(j=A),k(ww(j)),S(m),null}const{forceRender:I}=y.useContext(Qy);return f.jsx(f.Fragment,{children:R.map(j=>{const O=lf(j),B=l&&!d?!1:m===R||v.includes(O),W=()=>{if(b.has(O))b.set(O,!0);else return;let D=!0;b.forEach($=>{$||(D=!1)}),D&&(I?.(),k(w.current),l&&h?.(),r&&r())};return f.jsx(wF,{isPresent:B,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:u,onExitComplete:B?void 0:W,anchorX:c,children:j},O)})})},uC=y.createContext({strict:!1}),bw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ql={};for(const e in bw)ql[e]={isEnabled:t=>bw[e].some(n=>!!t[n])};function EF(e){for(const t in e)ql[t]={...ql[t],...e[t]}}const SF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ep(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||SF.has(e)}let dC=e=>!ep(e);function CF(e){typeof e=="function"&&(dC=t=>t.startsWith("on")?!ep(t):e(t))}try{CF(require("@emotion/is-prop-valid").default)}catch{}function TF(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(dC(i)||n===!0&&ep(i)||!t&&!ep(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Tp=y.createContext({});function Np(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Au(e){return typeof e=="string"||Array.isArray(e)}const bv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ev=["initial",...bv];function kp(e){return Np(e.animate)||Ev.some(t=>Au(e[t]))}function fC(e){return!!(kp(e)||e.variants)}function NF(e,t){if(kp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Au(n)?n:void 0,animate:Au(r)?r:void 0}}return e.inherit!==!1?t:{}}function kF(e){const{initial:t,animate:n}=NF(e,y.useContext(Tp));return y.useMemo(()=>({initial:t,animate:n}),[Ew(t),Ew(n)])}function Ew(e){return Array.isArray(e)?e.join(" "):e}function Sw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(tt.test(e))e=parseFloat(e);else return e;const n=Sw(e,t.target.x),r=Sw(e,t.target.y);return`${n}% ${r}%`}},RF={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ia.parse(e);if(i.length>5)return r;const o=ia.createTransformer(e),l=typeof i[0]!="number"?1:0,c=n.x.scale*t.x,u=n.y.scale*t.y;i[0+l]/=c,i[1+l]/=u;const d=sn(c,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=d),typeof i[3+l]=="number"&&(i[3+l]/=d),o(i)}},Jg={borderRadius:{...Bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bc,borderTopRightRadius:Bc,borderBottomLeftRadius:Bc,borderBottomRightRadius:Bc,boxShadow:RF};function pC(e,{layout:t,layoutId:n}){return oc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Jg[e]||e==="opacity")}const AF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jF=sc.length;function IF(e,t,n){let r="",i=!0;for(let o=0;o<jF;o++){const l=sc[o],c=e[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const d=rC(c,vv[l]);if(!u){i=!1;const h=AF[l]||l;r+=`${h}(${d}) `}n&&(t[l]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Sv(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let l=!1,c=!1;for(const u in t){const d=t[u];if(oc.has(u)){l=!0;continue}else if(LS(u)){i[u]=d;continue}else{const h=rC(d,vv[u]);u.startsWith("origin")?(c=!0,o[u]=h):r[u]=h}}if(t.transform||(l||n?r.transform=IF(t,e.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:d="50%",originZ:h=0}=o;r.transformOrigin=`${u} ${d} ${h}`}}const Cv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hC(e,t,n){for(const r in t)!ar(t[r])&&!pC(r,n)&&(e[r]=t[r])}function PF({transformTemplate:e},t){return y.useMemo(()=>{const n=Cv();return Sv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function LF(e,t){const n=e.style||{},r={};return hC(r,n,e),Object.assign(r,PF(e,t)),r}function OF(e,t){const n={},r=LF(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const MF={offset:"stroke-dashoffset",array:"stroke-dasharray"},DF={offset:"strokeDashoffset",array:"strokeDasharray"};function FF(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?MF:DF;e[o.offset]=tt.transform(-r);const l=tt.transform(t),c=tt.transform(n);e[o.array]=`${l} ${c}`}function mC(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...c},u,d,h){if(Sv(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v}=e;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=h?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&FF(m,i,o,l,!1)}const gC=()=>({...Cv(),attrs:{}}),yC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $F(e,t,n,r){const i=y.useMemo(()=>{const o=gC();return mC(o,t,yC(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};hC(o,e.style,e),i.style={...o,...i.style}}return i}const BF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tv(e){return typeof e!="string"||e.includes("-")?!1:!!(BF.indexOf(e)>-1||/[A-Z]/u.test(e))}function VF(e,t,n,{latestValues:r},i,o=!1){const c=(Tv(e)?$F:OF)(t,r,i,e),u=TF(t,typeof e=="string",o),d=e!==y.Fragment?{...u,...c,ref:n}:{},{children:h}=t,m=y.useMemo(()=>ar(h)?h.get():h,[h]);return y.createElement(e,{...d,children:m})}function Cw(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Nv(e,t,n,r){if(typeof t=="function"){const[i,o]=Cw(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=Cw(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function kf(e){return ar(e)?e.get():e}function UF({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:zF(n,r,i,e),renderState:t()}}function zF(e,t,n,r){const i={},o=r(e,{});for(const v in o)i[v]=kf(o[v]);let{initial:l,animate:c}=e;const u=kp(e),d=fC(e);t&&d&&!u&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let h=n?n.initial===!1:!1;h=h||l===!1;const m=h?c:l;if(m&&typeof m!="boolean"&&!Np(m)){const v=Array.isArray(m)?m:[m];for(let x=0;x<v.length;x++){const w=Nv(e,v[x]);if(w){const{transitionEnd:b,transition:T,...S}=w;for(const R in S){let k=S[R];if(Array.isArray(k)){const A=h?k.length-1:0;k=k[A]}k!==null&&(i[R]=k)}for(const R in b)i[R]=b[R]}}}return i}const vC=e=>(t,n)=>{const r=y.useContext(Tp),i=y.useContext(Cp),o=()=>UF(e,t,r,i);return n?o():Jy(o)};function kv(e,t,n){const{style:r}=e,i={};for(const o in r)(ar(r[o])||t.style&&ar(t.style[o])||pC(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=r[o]);return i}const WF=vC({scrapeMotionValuesFromProps:kv,createRenderState:Cv});function xC(e,t,n){const r=kv(e,t,n);for(const i in e)if(ar(e[i])||ar(t[i])){const o=sc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}const GF=vC({scrapeMotionValuesFromProps:xC,createRenderState:gC}),HF=Symbol.for("motionComponentSymbol");function Fl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function YF(e,t,n){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Fl(n)&&(n.current=r))},[t])}const Rv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XF="framerAppearId",_C="data-"+Rv(XF),wC=y.createContext({});function qF(e,t,n,r,i){const{visualElement:o}=y.useContext(Tp),l=y.useContext(uC),c=y.useContext(Cp),u=y.useContext(wv).reducedMotion,d=y.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,m=y.useContext(wC);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&KF(d.current,n,i,m);const v=y.useRef(!1);y.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const x=n[_C],w=y.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return yS(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),y.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),w.current=!1),h.enteringChildren=void 0)}),h}function KF(e,t,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:d,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bC(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&Fl(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:d})}function bC(e){if(e)return e.options.allowProjection!==!1?e.projection:bC(e.parent)}function Mm(e,{forwardMotionProps:t=!1}={},n,r){n&&EF(n);const i=Tv(e)?GF:WF;function o(c,u){let d;const h={...y.useContext(wv),...c,layoutId:ZF(c)},{isStatic:m}=h,v=kF(c),x=i(c,m);if(!m&&ev){QF();const w=JF(h);d=w.MeasureLayout,v.visualElement=qF(e,x,h,r,w.ProjectionNode)}return f.jsxs(Tp.Provider,{value:v,children:[d&&v.visualElement?f.jsx(d,{visualElement:v.visualElement,...h}):null,VF(e,c,YF(x,v.visualElement,u),x,m,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=y.forwardRef(o);return l[HF]=e,l}function ZF({layoutId:e}){const t=y.useContext(Qy).id;return t&&e!==void 0?t+"-"+e:e}function QF(e,t){y.useContext(uC).strict}function JF(e){const{drag:t,layout:n}=ql;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function e3(e,t){if(typeof Proxy>"u")return Mm;const n=new Map,r=(o,l)=>Mm(o,l,e,t),i=(o,l)=>r(o,l);return new Proxy(i,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,Mm(l,void 0,e,t)),n.get(l))})}function EC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function t3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function n3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dm(e){return e===void 0||e===1}function ey({scale:e,scaleX:t,scaleY:n}){return!Dm(e)||!Dm(t)||!Dm(n)}function Oa(e){return ey(e)||SC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function SC(e){return Tw(e.x)||Tw(e.y)}function Tw(e){return e&&e!=="0%"}function tp(e,t,n){const r=e-n,i=t*r;return n+i}function Nw(e,t,n,r,i){return i!==void 0&&(e=tp(e,i,r)),tp(e,n,r)+t}function ty(e,t=0,n=1,r,i){e.min=Nw(e.min,t,n,r,i),e.max=Nw(e.max,t,n,r,i)}function CC(e,{x:t,y:n}){ty(e.x,t.translate,t.scale,t.originPoint),ty(e.y,n.translate,n.scale,n.originPoint)}const kw=.999999999999,Rw=1.0000000000001;function r3(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Bl(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,CC(e,l)),r&&Oa(o.latestValues)&&Bl(e,o.latestValues))}t.x<Rw&&t.x>kw&&(t.x=1),t.y<Rw&&t.y>kw&&(t.y=1)}function $l(e,t){e.min=e.min+t,e.max=e.max+t}function Aw(e,t,n,r,i=.5){const o=sn(e.min,e.max,i);ty(e,t,n,o,r)}function Bl(e,t){Aw(e.x,t.x,t.scaleX,t.scale,t.originX),Aw(e.y,t.y,t.scaleY,t.scale,t.originY)}function TC(e,t){return EC(n3(e.getBoundingClientRect(),t))}function i3(e,t,n){const r=TC(e,n),{scroll:i}=t;return i&&($l(r.x,i.offset.x),$l(r.y,i.offset.y)),r}const jw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vl=()=>({x:jw(),y:jw()}),Iw=()=>({min:0,max:0}),kn=()=>({x:Iw(),y:Iw()}),ny={current:null},NC={current:!1};function s3(){if(NC.current=!0,!!ev)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ny.current=e.matches;e.addEventListener("change",t),t()}else ny.current=!1}const o3=new WeakMap;function a3(e,t,n){for(const r in t){const i=t[r],o=n[r];if(ar(i))e.addValue(r,i);else if(ar(o))e.addValue(r,Xl(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=e.getStaticValue(r);e.addValue(r,Xl(l!==void 0?l:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Pw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l3{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Br.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Jt.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=kp(n),this.isVariantNode=fC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in m){const x=m[v];u[v]!==void 0&&ar(x)&&x.set(u[v])}}mount(t){this.current=t,o3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),NC.current||s3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ny.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ra(this.notifyUpdate),ra(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=oc.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ql){const n=ql[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Pw.length;r++){const i=Pw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=t[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=a3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Xl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(vS(r)||_S(r))?r=parseFloat(r):!gF(r)&&ia.test(n)&&(r=nC(t,n)),this.setBaseTarget(t,ar(r)?r.get():r)),ar(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Nv(this.props,n,this.presenceContext?.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ar(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new sv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){xv.render(this.render)}}class kC extends l3{constructor(){super(...arguments),this.KeyframeResolver=iF}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ar(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function RC(e,{style:t,vars:n},r,i){const o=e.style;let l;for(l in t)o[l]=t[l];i?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function c3(e){return window.getComputedStyle(e)}class u3 extends kC{constructor(){super(...arguments),this.type="html",this.renderInstance=RC}readValueFromInstance(t,n){if(oc.has(n))return this.projection?.isProjecting?Hg(n):ED(t,n);{const r=c3(t),i=(LS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return TC(t,n)}build(t,n,r){Sv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return kv(t,n,r)}}const AC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d3(e,t,n,r){RC(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(AC.has(i)?i:Rv(i),t.attrs[i])}class f3 extends kC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(oc.has(n)){const r=tC(n);return r&&r.default||0}return n=AC.has(n)?n:Rv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return xC(t,n,r)}build(t,n,r){mC(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){d3(t,n,r,i)}mount(t){this.isSVGTag=yC(t.tagName),super.mount(t)}}const p3=(e,t)=>Tv(e)?new f3(t):new u3(t,{allowProjection:e!==y.Fragment});function Wl(e,t,n){const r=e.getProps();return Nv(r,t,n!==void 0?n:r.custom,e)}const ry=e=>Array.isArray(e);function h3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Xl(n))}function m3(e){return ry(e)?e[e.length-1]||0:e}function g3(e,t){const n=Wl(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const c=m3(o[l]);h3(e,l,c)}}function y3(e){return!!(ar(e)&&e.add)}function iy(e,t){const n=e.getValue("willChange");if(y3(n))return n.add(t);if(!n&&co.WillChange){const r=new co.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function jC(e){return e.props[_C]}const v3=e=>e!==null;function x3(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(v3),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}const _3={type:"spring",stiffness:500,damping:25,restSpeed:10},w3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),b3={type:"keyframes",duration:.8},E3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S3=(e,{keyframes:t})=>t.length>2?b3:oc.has(e)?e.startsWith("scale")?w3(t[1]):_3:E3;function C3({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:u,elapsed:d,...h}){return!!Object.keys(h).length}const Av=(e,t,n,r={},i,o)=>l=>{const c=yv(r,e)||{},u=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ts(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:v=>{t.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:o?void 0:i};C3(c)||Object.assign(h,S3(e,h)),h.duration&&(h.duration=Ts(h.duration)),h.repeatDelay&&(h.repeatDelay=Ts(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Zg(h),h.delay===0&&(m=!0)),(co.instantAnimations||co.skipAnimations)&&(m=!0,Zg(h),h.delay=0),h.allowFlatten=!c.type&&!c.ease,m&&!o&&t.get()!==void 0){const v=x3(h.keyframes,c);if(v!==void 0){Jt.update(()=>{h.onUpdate(v),h.onComplete()});return}}return c.isSync?new mv(h):new HD(h)};function T3({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function IC(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in c){const m=e.getValue(h,e.latestValues[h]??null),v=c[h];if(v===void 0||d&&T3(d,h))continue;const x={delay:n,...yv(o||{},h)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(v)&&v===w&&!x.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const S=jC(e);if(S){const R=window.MotionHandoffAnimation(S,h,Jt);R!==null&&(x.startTime=R,b=!0)}}iy(e,h),m.start(Av(h,m,v,e.shouldReduceMotion&&QS.has(h)?{type:!1}:x,e,b));const T=m.animation;T&&u.push(T)}return l&&Promise.all(u).then(()=>{Jt.update(()=>{l&&g3(e,l)})}),u}function PC(e,t,n,r=0,i=1){const o=Array.from(e).sort((d,h)=>d.sortNodePosition(h)).indexOf(t),l=e.size,c=(l-1)*r;return typeof n=="function"?n(o,l):i===1?o*r:c-o*r}function sy(e,t,n={}){const r=Wl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(IC(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=i;return N3(e,t,u,d,h,m,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function N3(e,t,n=0,r=0,i=0,o=1,l){const c=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),c.push(sy(u,t,{...l,delay:n+(typeof r=="function"?0:r)+PC(e.variantChildren,u,r,i,o)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(c)}function k3(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>sy(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=sy(e,t,n);else{const i=typeof t=="function"?Wl(e,t,n.custom):t;r=Promise.all(IC(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function LC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const R3=Ev.length;function OC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?OC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<R3;n++){const r=Ev[n],i=e.props[r];(Au(i)||i===!1)&&(t[r]=i)}return t}const A3=[...bv].reverse(),j3=bv.length;function I3(e){return t=>Promise.all(t.map(({animation:n,options:r})=>k3(e,n,r)))}function P3(e){let t=I3(e),n=Lw(),r=!0;const i=u=>(d,h)=>{const m=Wl(e,h,u==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:v,transitionEnd:x,...w}=m;d={...d,...w,...x}}return d};function o(u){t=u(e)}function l(u){const{props:d}=e,h=OC(e.parent)||{},m=[],v=new Set;let x={},w=1/0;for(let T=0;T<j3;T++){const S=A3[T],R=n[S],k=d[S]!==void 0?d[S]:h[S],A=Au(k),I=S===u?R.isActive:null;I===!1&&(w=T);let j=k===h[S]&&k!==d[S]&&A;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),R.protectedKeys={...x},!R.isActive&&I===null||!k&&!R.prevProp||Np(k)||typeof k=="boolean")continue;const O=L3(R.prevProp,k);let B=O||S===u&&R.isActive&&!j&&A||T>w&&A,W=!1;const D=Array.isArray(k)?k:[k];let $=D.reduce(i(S),{});I===!1&&($={});const{prevResolvedValues:Q={}}=R,M={...Q,...$},G=U=>{B=!0,v.has(U)&&(W=!0,v.delete(U)),R.needsAnimating[U]=!0;const V=e.getValue(U);V&&(V.liveStyle=!1)};for(const U in M){const V=$[U],H=Q[U];if(x.hasOwnProperty(U))continue;let P=!1;ry(V)&&ry(H)?P=!LC(V,H):P=V!==H,P?V!=null?G(U):v.add(U):V!==void 0&&v.has(U)?G(U):R.protectedKeys[U]=!0}R.prevProp=k,R.prevResolvedValues=$,R.isActive&&(x={...x,...$}),r&&e.blockInitialAnimation&&(B=!1);const J=j&&O;B&&(!J||W)&&m.push(...D.map(U=>{const V={type:S};if(typeof U=="string"&&r&&!J&&e.manuallyAnimateOnMount&&e.parent){const{parent:H}=e,P=Wl(H,U);if(H.enteringChildren&&P){const{delayChildren:Y}=P.transition||{};V.delay=PC(H.enteringChildren,e,Y)}}return{animation:U,options:V}}))}if(v.size){const T={};if(typeof d.initial!="boolean"){const S=Wl(e,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(T.transition=S.transition)}v.forEach(S=>{const R=e.getBaseTarget(S),k=e.getValue(S);k&&(k.liveStyle=!0),T[S]=R??null}),m.push({animation:T})}let b=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(m):Promise.resolve()}function c(u,d){if(n[u].isActive===d)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(u,d)),n[u].isActive=d;const h=l(u);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Lw()}}}function L3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!LC(t,e):!1}function ja(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lw(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}class ca{constructor(t){this.isMounted=!1,this.node=t}update(){}}class O3 extends ca{constructor(t){super(t),t.animationState||(t.animationState=P3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Np(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let M3=0;class D3 extends ca{constructor(){super(...arguments),this.id=M3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const F3={animation:{Feature:O3},exit:{Feature:D3}};function ju(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function zu(e){return{point:{x:e.pageX,y:e.pageY}}}const $3=e=>t=>_v(t)&&e(t,zu(t));function vu(e,t,n,r){return ju(e,t,$3(n),r)}const MC=1e-4,B3=1-MC,V3=1+MC,DC=.01,U3=0-DC,z3=0+DC;function vr(e){return e.max-e.min}function W3(e,t,n){return Math.abs(e-t)<=n}function Ow(e,t,n,r=.5){e.origin=r,e.originPoint=sn(t.min,t.max,e.origin),e.scale=vr(n)/vr(t),e.translate=sn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=B3&&e.scale<=V3||isNaN(e.scale))&&(e.scale=1),(e.translate>=U3&&e.translate<=z3||isNaN(e.translate))&&(e.translate=0)}function xu(e,t,n,r){Ow(e.x,t.x,n.x,r?r.originX:void 0),Ow(e.y,t.y,n.y,r?r.originY:void 0)}function Mw(e,t,n){e.min=n.min+t.min,e.max=e.min+vr(t)}function G3(e,t,n){Mw(e.x,t.x,n.x),Mw(e.y,t.y,n.y)}function Dw(e,t,n){e.min=t.min-n.min,e.max=e.min+vr(t)}function np(e,t,n){Dw(e.x,t.x,n.x),Dw(e.y,t.y,n.y)}function gi(e){return[e("x"),e("y")]}const FC=({current:e})=>e?e.ownerDocument.defaultView:null,Fw=(e,t)=>Math.abs(e-t);function H3(e,t){const n=Fw(e.x,t.x),r=Fw(e.y,t.y);return Math.sqrt(n**2+r**2)}class $C{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=$m(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=H3(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!w)return;const{point:b}=v,{timestamp:T}=Kn;this.history.push({...b,timestamp:T});const{onStart:S,onMove:R}=this.handlers;x||(S&&S(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Fm(x,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:w,onSessionEnd:b,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=$m(v.type==="pointercancel"?this.lastMoveEventInfo:Fm(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,S),b&&b(v,S)},!_v(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const c=zu(t),u=Fm(c,this.transformPagePoint),{point:d}=u,{timestamp:h}=Kn;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=n;m&&m(t,$m(u,this.history)),this.removeListeners=$u(vu(this.contextWindow,"pointermove",this.handlePointerMove),vu(this.contextWindow,"pointerup",this.handlePointerUp),vu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ra(this.updatePoint)}}function Fm(e,t){return t?{point:t(e.point)}:e}function $w(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $m({point:e},t){return{point:e,delta:$w(e,BC(t)),offset:$w(e,Y3(t)),velocity:X3(t,.1)}}function Y3(e){return e[0]}function BC(e){return e[e.length-1]}function X3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=BC(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ts(t)));)n--;if(!r)return{x:0,y:0};const o=bi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function q3(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?sn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?sn(n,e,r.max):Math.min(e,n)),e}function Bw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function K3(e,{top:t,left:n,bottom:r,right:i}){return{x:Bw(e.x,n,i),y:Bw(e.y,t,r)}}function Vw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Z3(e,t){return{x:Vw(e.x,t.x),y:Vw(e.y,t.y)}}function Q3(e,t){let n=.5;const r=vr(e),i=vr(t);return i>r?n=Nu(t.min,t.max-r,e.min):r>i&&(n=Nu(e.min,e.max-i,t.min)),lo(0,1,n)}function J3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const oy=.35;function e4(e=oy){return e===!1?e=0:e===!0&&(e=oy),{x:Uw(e,"left","right"),y:Uw(e,"top","bottom")}}function Uw(e,t,n){return{min:zw(e,t),max:zw(e,n)}}function zw(e,t){return typeof e=="number"?e:e[t]||0}const t4=new WeakMap;class n4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zu(m).point)},l=(m,v)=>{const{drag:x,dragPropagation:w,onDragStart:b}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lF(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gi(S=>{let R=this.getAxisMotionValue(S).get()||0;if(Ns.test(R)){const{projection:k}=this.visualElement;if(k&&k.layout){const A=k.layout.layoutBox[S];A&&(R=vr(A)*(parseFloat(R)/100))}}this.originPoint[S]=R}),b&&Jt.postRender(()=>b(m,v)),iy(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:b,onDrag:T}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:S}=v;if(w&&this.currentDirection===null){this.currentDirection=r4(S),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",v.point,S),this.updateAxis("y",v.point,S),this.visualElement.render(),T&&T(m,v)},u=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>gi(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new $C(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:FC(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Jt.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!cf(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=q3(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&Fl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=K3(r.layoutBox,t):this.constraints=!1,this.elastic=e4(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=J3(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Fl(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=i3(r,i.root,this.visualElement.getTransformPagePoint());let l=Z3(i.layout.layoutBox,o);if(n){const c=n(t3(l));this.hasMutatedConstraints=!!c,c&&(l=EC(c))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},d=gi(h=>{if(!cf(h,n,this.currentDirection))return;let m=u&&u[h]||{};l&&(m={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,w={type:"inertia",velocity:r?t[h]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(h,w)});return Promise.all(d).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return iy(this.visualElement,t),r.start(Av(t,r,0,n,this.visualElement,!1))}stopAnimation(){gi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){gi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){gi(n=>{const{drag:r}=this.getProps();if(!cf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(t[n]-sn(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();i[l]=Q3({min:u,max:u},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gi(l=>{if(!cf(l,t,null))return;const c=this.getAxisMotionValue(l),{min:u,max:d}=this.constraints[l];c.set(sn(u,d,i[l]))})}addListeners(){if(!this.visualElement.current)return;t4.set(this.visualElement,this);const t=this.visualElement.current,n=vu(t,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Fl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Jt.read(r);const l=ju(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(gi(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=u[h].translate,m.set(m.get()+u[h].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=oy,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function cf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function r4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class i4 extends ca{constructor(t){super(t),this.removeGroupControls=Ci,this.removeListeners=Ci,this.controls=new n4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ww=e=>(t,n)=>{e&&Jt.postRender(()=>e(t,n))};class s4 extends ca{constructor(){super(...arguments),this.removePointerDownListener=Ci}onPointerDown(t){this.session=new $C(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ww(t),onStart:Ww(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&Jt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=vu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Bm=!1;class o4 extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),Bm&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Rf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,Bm=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Jt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;Bm=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VC(e){const[t,n]=cC(),r=y.useContext(Qy);return f.jsx(o4,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(wC),isPresent:t,safeToRemove:n})}function a4(e,t,n){const r=ar(e)?e:Xl(e);return r.start(Av("",r,t,n)),r.animation}const l4=(e,t)=>e.depth-t.depth;class c4{constructor(){this.children=[],this.isDirty=!1}add(t){tv(this.children,t),this.isDirty=!0}remove(t){nv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(l4),this.isDirty=!1,this.children.forEach(t)}}function u4(e,t){const n=Br.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(ra(r),e(o-t))};return Jt.setup(r,!0),()=>ra(r)}const UC=["TopLeft","TopRight","BottomLeft","BottomRight"],d4=UC.length,Gw=e=>typeof e=="string"?parseFloat(e):e,Hw=e=>typeof e=="number"||tt.test(e);function f4(e,t,n,r,i,o){i?(e.opacity=sn(0,n.opacity??1,p4(r)),e.opacityExit=sn(t.opacity??1,0,h4(r))):o&&(e.opacity=sn(t.opacity??1,n.opacity??1,r));for(let l=0;l<d4;l++){const c=`border${UC[l]}Radius`;let u=Yw(t,c),d=Yw(n,c);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||Hw(u)===Hw(d)?(e[c]=Math.max(sn(Gw(u),Gw(d),r),0),(Ns.test(d)||Ns.test(u))&&(e[c]+="%")):e[c]=d}(t.rotate||n.rotate)&&(e.rotate=sn(t.rotate||0,n.rotate||0,r))}function Yw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const p4=zC(0,.5,kS),h4=zC(.5,.95,Ci);function zC(e,t,n){return r=>r<e?0:r>t?1:n(Nu(e,t,r))}function Xw(e,t){e.min=t.min,e.max=t.max}function Vi(e,t){Xw(e.x,t.x),Xw(e.y,t.y)}function qw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Kw(e,t,n,r,i){return e-=t,e=tp(e,1/n,r),i!==void 0&&(e=tp(e,1/i,r)),e}function m4(e,t=0,n=1,r=.5,i,o=e,l=e){if(Ns.test(t)&&(t=parseFloat(t),t=sn(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=sn(o.min,o.max,r);e===o&&(c-=t),e.min=Kw(e.min,t,n,c,i),e.max=Kw(e.max,t,n,c,i)}function Zw(e,t,[n,r,i],o,l){m4(e,t[n],t[r],t[i],t.scale,o,l)}const g4=["x","scaleX","originX"],y4=["y","scaleY","originY"];function Qw(e,t,n,r){Zw(e.x,t,g4,n?n.x:void 0,r?r.x:void 0),Zw(e.y,t,y4,n?n.y:void 0,r?r.y:void 0)}function Jw(e){return e.translate===0&&e.scale===1}function WC(e){return Jw(e.x)&&Jw(e.y)}function eb(e,t){return e.min===t.min&&e.max===t.max}function v4(e,t){return eb(e.x,t.x)&&eb(e.y,t.y)}function tb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function GC(e,t){return tb(e.x,t.x)&&tb(e.y,t.y)}function nb(e){return vr(e.x)/vr(e.y)}function rb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class x4{constructor(){this.members=[]}add(t){tv(this.members,t),t.scheduleRender()}remove(t){if(nv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _4(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,l=n?.z||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:v,skewX:x,skewY:w}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),v&&(r+=`rotateY(${v}deg) `),x&&(r+=`skewX(${x}deg) `),w&&(r+=`skewY(${w}deg) `)}const c=e.x.scale*t.x,u=e.y.scale*t.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const Vm=["","X","Y","Z"],w4=1e3;let b4=0;function Um(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function HC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=jC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Jt,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&HC(r)}function YC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=t?.()){this.id=b4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C4),this.nodes.forEach(R4),this.nodes.forEach(A4),this.nodes.forEach(T4)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new c4)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new sv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=lC(l)&&!hF(l),this.instance=l;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),e){let h,m=0;const v=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{m=window.innerWidth}),e(l,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,h&&h(),h=u4(v,250),Rf.hasAnimatedSinceResize&&(Rf.hasAnimatedSinceResize=!1,this.nodes.forEach(ob)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||O4,{onLayoutAnimationStart:b,onLayoutAnimationComplete:T}=d.getProps(),S=!this.targetLayout||!GC(this.targetLayout,x),R=!m&&v;if(this.options.layoutRoot||this.resumeFrom||R||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...yv(w,"layout"),onPlay:b,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(h,R)}else m||ob(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ra(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j4),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ib);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(k4),this.nodes.forEach(E4),this.nodes.forEach(S4)):this.nodes.forEach(sb),this.clearAllSnapshots();const c=Br.now();Kn.delta=lo(0,1e3/60,c-Kn.timestamp),Kn.timestamp=c,Kn.isProcessing=!0,Am.update.process(Kn),Am.preRender.process(Kn),Am.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N4),this.sharedNodes.forEach(I4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vr(this.snapshot.measuredBox.x)&&!vr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!WC(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;l&&this.instance&&(c||Oa(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),M4(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return kn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(D4))){const{scroll:d}=this.root;d&&($l(c.x,d.offset.x),$l(c.y,d.offset.y))}return c}removeElementScroll(l){const c=kn();if(Vi(c,l),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Vi(c,l),$l(c.x,h.offset.x),$l(c.y,h.offset.y))}return c}applyTransform(l,c=!1){const u=kn();Vi(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Bl(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Oa(h.latestValues)&&Bl(u,h.latestValues)}return Oa(this.latestValues)&&Bl(u,this.latestValues),u}removeTransform(l){const c=kn();Vi(c,l);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Oa(d.latestValues))continue;ey(d.latestValues)&&d.updateSnapshot();const h=kn(),m=d.measurePageBox();Vi(h,m),Qw(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Oa(this.latestValues)&&Qw(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!this.layout||!(h||m))return;this.resolvedRelativeTargetAt=Kn.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kn(),this.targetWithTransforms=kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vi(this.target,this.layout.layoutBox),CC(this.target,this.targetDelta)):Vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ey(this.parent.latestValues)||SC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,u){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),np(this.relativeTargetOrigin,c,u),Vi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Vi(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;r3(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=kn());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qw(this.prevProjectionDelta.x,this.projectionDelta.x),qw(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!rb(this.projectionDelta.x,this.prevProjectionDelta.x)||!rb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vl(),this.projectionDelta=Vl(),this.projectionDeltaWithTransform=Vl()}setAnimationOrigin(l,c=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},m=Vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=kn(),x=u?u.source:void 0,w=this.layout?this.layout.source:void 0,b=x!==w,T=this.getStack(),S=!T||T.members.length<=1,R=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(L4));this.animationProgress=0;let k;this.mixTargetDelta=A=>{const I=A/1e3;ab(m.x,l.x,I),ab(m.y,l.y,I),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(np(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P4(this.relativeTarget,this.relativeTargetOrigin,v,I),k&&v4(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=kn()),Vi(k,this.relativeTarget)),b&&(this.animationValues=h,f4(h,d,this.latestValues,I,R,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ra(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{Rf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xl(0)),this.currentAnimation=a4(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:d,latestValues:h}=l;if(!(!c||!u||!d)){if(this!==l&&this.layout&&d&&XC(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||kn();const m=vr(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+m;const v=vr(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+v}Vi(c,u),Bl(c,h),xu(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new x4),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const d={};u.z&&Um("z",l,d,this.animationValues);for(let h=0;h<Vm.length;h++)Um(`rotate${Vm[h]}`,l,d,this.animationValues),Um(`skew${Vm[h]}`,l,d,this.animationValues);l.render();for(const h in d)l.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=kf(c?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=kf(c?.pointerEvents)||""),this.hasProjected&&!Oa(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=_4(this.projectionDeltaWithTransform,this.treeScale,h);u&&(m=u(h,m)),l.transform=m;const{x:v,y:x}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,d.animationValues?l.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Jg){if(h[w]===void 0)continue;const{correct:b,applyTo:T,isCSSVariable:S}=Jg[w],R=m==="none"?h[w]:b(h[w],d);if(T){const k=T.length;for(let A=0;A<k;A++)l[T[A]]=R}else S?this.options.visualElement.renderState.vars[w]=R:l[w]=R}this.options.layoutId&&(l.pointerEvents=d===this?kf(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(ib),this.root.sharedNodes.clear()}}}function E4(e){e.updateLayout()}function S4(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?gi(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],v=vr(m);m.min=n[h].min,m.max=m.min+v}):XC(i,t.layoutBox,n)&&gi(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],v=vr(n[h]);m.max=m.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+v)});const l=Vl();xu(l,n,t.layoutBox);const c=Vl();o?xu(c,e.applyTransform(r,!0),t.measuredBox):xu(c,n,t.layoutBox);const u=!WC(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:v}=h;if(m&&v){const x=kn();np(x,t.layoutBox,m.layoutBox);const w=kn();np(w,n,v.layoutBox),GC(x,w)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function C4(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function T4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function N4(e){e.clearSnapshot()}function ib(e){e.clearMeasurements()}function sb(e){e.isLayoutDirty=!1}function k4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ob(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function R4(e){e.resolveTargetDelta()}function A4(e){e.calcProjection()}function j4(e){e.resetSkewAndRotation()}function I4(e){e.removeLeadSnapshot()}function ab(e,t,n){e.translate=sn(t.translate,0,n),e.scale=sn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function lb(e,t,n,r){e.min=sn(t.min,n.min,r),e.max=sn(t.max,n.max,r)}function P4(e,t,n,r){lb(e.x,t.x,n.x,r),lb(e.y,t.y,n.y,r)}function L4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const O4={duration:.45,ease:[.4,0,.1,1]},cb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ub=cb("applewebkit/")&&!cb("chrome/")?Math.round:Ci;function db(e){e.min=ub(e.min),e.max=ub(e.max)}function M4(e){db(e.x),db(e.y)}function XC(e,t,n){return e==="position"||e==="preserve-aspect"&&!W3(nb(t),nb(n),.2)}function D4(e){return e!==e.root&&e.scroll?.wasRoot}const F4=YC({attachResizeListener:(e,t)=>ju(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zm={current:void 0},qC=YC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zm.current){const e=new F4({});e.mount(window),e.setOptions({layoutScroll:!0}),zm.current=e}return zm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$4={pan:{Feature:s4},drag:{Feature:i4,ProjectionNode:qC,MeasureLayout:VC}};function fb(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Jt.postRender(()=>o(t,zu(t)))}class B4 extends ca{mount(){const{current:t}=this.node;t&&(this.unmount=cF(t,(n,r)=>(fb(this.node,r,"Start"),i=>fb(this.node,i,"End"))))}unmount(){}}class V4 extends ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(ju(this.node.current,"focus",()=>this.onFocus()),ju(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pb(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Jt.postRender(()=>o(t,zu(t)))}class U4 extends ca{mount(){const{current:t}=this.node;t&&(this.unmount=pF(t,(n,r)=>(pb(this.node,r,"Start"),(i,{success:o})=>pb(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ay=new WeakMap,Wm=new WeakMap,z4=e=>{const t=ay.get(e.target);t&&t(e)},W4=e=>{e.forEach(z4)};function G4({root:e,...t}){const n=e||document;Wm.has(n)||Wm.set(n,{});const r=Wm.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(W4,{root:e,...t})),r[i]}function H4(e,t,n){const r=G4(t);return ay.set(e,n),r.observe(e),()=>{ay.delete(e),r.unobserve(e)}}const Y4={some:0,all:1};class X4 extends ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Y4[i]},c=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),v=d?h:m;v&&v(u)};return H4(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(q4(t,n))&&this.startObserver()}unmount(){}}function q4({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const K4={inView:{Feature:X4},tap:{Feature:U4},focus:{Feature:V4},hover:{Feature:B4}},Z4={layout:{ProjectionNode:qC,MeasureLayout:VC}},Q4={...F3,...K4,...$4,...Z4},Vn=e3(Q4,p3),KC=y.createContext(void 0),jv={processing:"Processing...",success:"Success",failure:"Failure"};function J4({TranslationMaps:e,children:t,warnBeforeNavigation:n=!0,navigationWarningMessage:r="Changes you made may not be saved."}){const i=cE(e,jv),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState(null),m=y.useRef(null);y.useEffect(()=>{if(!n||!o)return;const T=S=>(S.preventDefault(),S.returnValue=r,r);return window.addEventListener("beforeunload",T),()=>{window.removeEventListener("beforeunload",T)}},[o,n,r]),y.useEffect(()=>{const T=document.body.style.cursor;return o?document.body.style.cursor="progress":document.body.style.cursor=T||"",()=>{document.body.style.cursor=T||""}},[o]),y.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=null)},[]);const v=()=>{l(!0),u(!1),h(null),m.current&&(window.clearTimeout(m.current),m.current=null)},x=()=>{l(!1)},w=()=>{m.current&&(window.clearTimeout(m.current),m.current=null),h(null),u(!1),x()},b=(T,S)=>{m.current&&(window.clearTimeout(m.current),m.current=null),h(T),u(!!S?.allowManualDismiss),l(!0),typeof S?.autoHide=="number"&&(m.current=window.setTimeout(()=>{w()},S.autoHide))};return f.jsxs(KC.Provider,{value:{showProcessingLockModal:v,hideProcessingLockModal:x,setContent:b,clearContent:w},children:[t,f.jsx(cr,{isOpen:o,setIsOpen:l,onClose:x,allowClose:c,children:f.jsx(Uu,{mode:"wait",children:d!==null?f.jsx(Vn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0},className:Z(pe.flexCenter,pe.flexRow,pe.flexGapM),children:d},"custom"):f.jsxs(Vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:Z(pe.flexCenter,pe.flexRow,pe.flexGapM),children:[f.jsx("div",{className:Hl.spinner}),f.jsx("p",{className:Hl.loadingText,children:i("processing")})]},"loading")})})]})}function e5({message:e,iconName:t,className:n}){return f.jsxs(f.Fragment,{children:[f.jsx(xn,{iconName:t||"check",className:Hl.successIcon,size:60}),f.jsx("p",{className:n||Hl.messageText,children:e||jv.success})]})}function hb({message:e,iconName:t,className:n}){return f.jsxs(f.Fragment,{children:[f.jsx(xn,{iconName:t||"x",className:Hl.failureIcon,size:60}),f.jsx("p",{className:n||Hl.messageText,children:e||jv.failure})]})}function ZC(){const e=y.useContext(KC);return e===void 0?(console.warn("useProcessingLockModal must be used within a ProcessingLockModalProvider"),{showProcessingLockModal:()=>{},hideProcessingLockModal:()=>{},setContent:()=>{},clearContent:()=>{}}):e}const t5="_button_1l8g7_2",n5="_disabled_1l8g7_10",QC={button:t5,disabled:n5},r5="_primary_1mqkb_1",i5="_secondary_1mqkb_1",s5="_custom_1mqkb_1",o5={primary:r5,secondary:i5,custom:s5},a5={none:{},basic:{whileHover:{scale:1.2,filter:"brightness(1.2)"},whileTap:{scale:.98},transition:{ease:"easeInOut",duration:.1}},bounce:{whileHover:{translateY:"-30%"},whileTap:{scale:1.2,translateY:"-30%"},transition:{type:"tween",duration:.2,ease:"easeInOut"}},nekotech:{whileHover:{translateY:"-30%",scale:1.05},whileTap:{translateY:"-30%",scale:.95},transition:{type:"tween",duration:.2,ease:"easeInOut"}}},l5={getAnimateProps:"spread"};function ac(e,t,n,r=l5){let i;if(e[t])i=e[t];else{const l=Object.keys(e);console.warn(`Theme "${t}" not found. Available themes: ${l.join(", ")}. Using default theme "${l[0]}".`),i=e[l[0]]}const o=(l,c="")=>{if(typeof l=="function")try{return l(n)}catch(u){const d=c.split(".").pop()||"unknown";let h;if(!n)h="No parameters provided (params is null/undefined)";else if(typeof n!="object")h=`Invalid params type: ${typeof n} (expected object)`;else{const m=Object.keys(n);m.length===0?h="Empty parameters object {}":h=`Available params: [${m.join(", ")}]`}throw console.error(`Failed to execute theme function "${d}" at path "${c}". Function expects ${l.length} parameters. ${h}. Error: ${u instanceof Error?u.message:String(u)}`),new Error(`Theme function execution failed at ${c}: ${u}`)}if(Array.isArray(l))return l.map((u,d)=>o(u,`${c}[${d}]`));if(l&&typeof l=="object"){const u={};for(const[d,h]of Object.entries(l)){const m=c?`${c}.${d}`:d,v=o(h,m);if(typeof h=="function"&&r[d]){const x=r[d];typeof x=="string"?x==="spread"?Object.assign(u,v):u[x]=v:u[d]=v}else u[d]=v}return u}return l};return o(i)}const c5=Object.assign({},QC,o5),ht=c5;function gt({as:e,children:t,className:n,themeType:r="basic",wrapperClassName:i,style:o,disabled:l=!1,type:c,...u}){const d=y.useMemo(()=>ac(a5,r,{}),[r]),h=y.useMemo(()=>{const R=e||"button";return Vn.create(R)},[e]),m=y.useMemo(()=>({initial:{},hover:d.whileHover||{},tap:d.whileTap||{}}),[d.whileHover,d.whileTap]),v=y.useMemo(()=>({initial:{filter:"grayscale(0)",cursor:"pointer"},hover:{filter:"grayscale(0)"},tap:{filter:"grayscale(0)"},disabled:{filter:"grayscale(1)",cursor:"not-allowed",transition:{duration:.3,type:"tween"}}}),[]),x=y.useMemo(()=>({type:"spring",stiffness:400,damping:10}),[]),w=y.useMemo(()=>({initial:l?"disabled":"initial",animate:l?"disabled":"initial",whileHover:l?void 0:"hover",whileTap:l?void 0:"tap"}),[l]),b=y.useMemo(()=>Z(QC.button,n),[n]),T=y.useMemo(()=>Z(pe.flexRow,pe.flexCenter,pe.flexGapS,Ot.paddingS,Fy.positionRelative,i),[i]),S=e===void 0||e==="button"?c??"button":void 0;return f.jsx(h,{className:b,initial:w.initial,animate:w.animate,whileHover:w.whileHover,whileTap:w.whileTap,variants:v,transition:{duration:.3},disabled:l,style:o,type:S,...u,children:f.jsx(Vn.div,{className:T,variants:m,style:{pointerEvents:"none"},transition:d.transition||x,children:t})})}const u5="_background_c3ofx_1",d5={background:u5};function f5({children:e,gradientDark:t="var(--page-background-secondary, #203a43)",gradientLight:n="var(--page-background-primary, #0f2027)",dotColor:r="var(--color-main-bg-cross-color, rgba(255, 255, 255, 1))",dotSize:i="var(--page-background-decor-radius, 0.5px)",gridSize:o="var(--page-background-decor-spacing, 35px)",className:l,style:c}){const u={"--color-main-bg-grd-dark":t,"--color-main-bg-grd-light":n,"--color-bg-cross-color":r,"--dot-size":i,"--grid-size":o,...c};return f.jsx("main",{className:Z(d5.background,l),style:u,children:e})}function JC({children:e}){return f.jsx(f5,{className:Z(Ot.parentWidth,Ot.paddingL,pe.flexColumn,pe.alignItemsCenter),style:{minHeight:"100dvh",minWidth:"100%"},children:f.jsx("div",{className:Z(pe.flexColumn,pe.flexGapM,pe.flexGrow),style:{maxWidth:"1200px",width:"100%"},children:e})})}const p5="_modalContent_ndb6o_1",h5={modalContent:p5};function eT({isOpen:e,setIsOpen:t,initialName:n="",onSubmit:r,allowClose:i=!0}){const[o,l]=y.useState(n);y.useEffect(()=>{e&&l(n)},[e,n]);const c=o.trim(),u=c.length>0,d=h=>{h.preventDefault(),u&&(r(c),t(!1))};return f.jsx(cr,{isOpen:e,setIsOpen:t,allowClose:i,children:f.jsxs("form",{onSubmit:d,className:Z(h5.modalContent,pe.flexColumn,pe.flexGapM),children:[f.jsx("h2",{className:ri.underlineHighlightColorPrimary,children:n?"Rename Conlang":"Name Your Conlang"}),f.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:"Enter conlang name...",autoFocus:!0,style:{padding:"0.5em",fontSize:"1rem",background:"var(--surface-raised)",color:"var(--text-primary)",border:"1px solid var(--border-primary)",borderRadius:"4px",outline:"none"}}),f.jsxs("div",{className:Z(pe.flexRow,pe.justifyContentEnd,pe.flexGapS),children:[i&&f.jsx(gt,{type:"button",className:ht.secondary,onClick:()=>t(!1),children:"Cancel"}),f.jsx(gt,{type:"submit",className:ht.primary,disabled:!u,children:n?"Rename":"Create"})]})]})})}const m5="_dropdownContent_ps9uh_1",g5="_contentContainer_ps9uh_9",mb={dropdownContent:m5,contentContainer:g5},y5={basic:{content:{getAnimateProps:({isOpen:e,maxHeight:t})=>({initial:{maxHeight:0,opacity:0},animate:{maxHeight:t,opacity:1},exit:{maxHeight:0,opacity:0},transition:{duration:.3,ease:"easeInOut"}})},caret:{getAnimateProps:({isOpen:e})=>({animate:{rotate:e?180:0},transition:{duration:.3,ease:"easeInOut"}})}},nekotech:{content:{getAnimateProps:({isOpen:e,maxHeight:t})=>({initial:{maxHeight:0,opacity:0,scale:.95,transformOrigin:"center center"},animate:{maxHeight:t,opacity:1,scale:1},exit:{maxHeight:0,opacity:0,scale:.95},transition:{duration:.5,ease:[.68,-.55,.265,1.55]}})},caret:{getAnimateProps:({isOpen:e})=>({animate:{rotate:e?180:0,scale:e?1.1:1},transition:{duration:.5,ease:[.68,-.55,.265,1.55]}})}}};function v5(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function x5(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function tT(){return/apple/i.test(navigator.vendor)}function _5(){return v5().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function w5(){return x5().includes("jsdom/")}const gb="data-floating-ui-focusable",b5="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function ly(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Kl(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Ig(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Ll(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Gm(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function E5(e){return e.matches("html,body")}function Es(e){return e?.ownerDocument||document}function nT(e){return xr(e)&&e.matches(b5)}function S5(e){if(!e||w5())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function C5(e){return e?e.hasAttribute(gb)?e:e.querySelector("["+gb+"]")||e:null}function Af(e,t,n){return n===void 0&&(n=!0),e.filter(i=>{var o;return i.parentId===t&&(!n||((o=i.context)==null?void 0:o.open))}).flatMap(i=>[i,...Af(e,i.id,n)])}function T5(e){return"nativeEvent"in e}function Iu(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}var N5=typeof document<"u",k5=function(){},Ji=N5?y.useLayoutEffect:k5;const R5={...wu};function uf(e){const t=y.useRef(e);return Ji(()=>{t.current=e}),t}const A5=R5.useInsertionEffect,j5=A5||(e=>e());function ws(e){const t=y.useRef(()=>{});return j5(()=>{t.current=e}),y.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}const rT=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function iT(e,t){const n=WE(e,rT()),r=n.length;if(r===0)return;const i=ly(Es(e)),o=n.indexOf(i),l=o===-1?t===1?0:r-1:o+t;return n[l]}function I5(e){return iT(Es(e).body,1)||e}function P5(e){return iT(Es(e).body,-1)||e}function Hm(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Kl(n,r)}function L5(e){WE(e,rT()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function yb(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const O5="data-floating-ui-focusable",vb="active",xb="selected",M5={...wu};let _b=!1,D5=0;const wb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+D5++;function F5(){const[e,t]=y.useState(()=>_b?wb():void 0);return Ji(()=>{e==null&&t(wb())},[]),y.useEffect(()=>{_b=!0},[]),e}const $5=M5.useId,Rp=$5||F5,B5=y.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:l}},width:c=14,height:u=7,tipRadius:d=0,strokeWidth:h=0,staticOffset:m,stroke:v,d:x,style:{transform:w,...b}={},...T}=t,S=Rp(),[R,k]=y.useState(!1);if(Ji(()=>{if(!i)return;ii(i).direction==="rtl"&&k(!0)},[i]),!i)return null;const[A,I]=r.split("-"),j=A==="top"||A==="bottom";let O=m;(j&&l!=null&&l.x||!j&&l!=null&&l.y)&&(O=null);const B=h*2,W=B/2,D=c/2*(d/-8+1),$=u/2*d/4,Q=!!x,M=O&&I==="end"?"bottom":"top";let G=O&&I==="end"?"right":"left";O&&R&&(G=I==="end"?"left":"right");const J=o?.x!=null?O||o.x:"",X=o?.y!=null?O||o.y:"",U=x||"M0,0"+(" H"+c)+(" L"+(c-D)+","+(u-$))+(" Q"+c/2+","+u+" "+D+","+(u-$))+" Z",V={top:Q?"rotate(180deg)":"",left:Q?"rotate(90deg)":"rotate(-90deg)",bottom:Q?"":"rotate(180deg)",right:Q?"rotate(-90deg)":"rotate(90deg)"}[A];return f.jsxs("svg",{...T,"aria-hidden":!0,ref:n,width:Q?c:c+B,height:c,viewBox:"0 0 "+c+" "+(u>c?u:c),style:{position:"absolute",pointerEvents:"none",[G]:J,[M]:X,[A]:j||Q?"100%":"calc(100% - "+B/2+"px)",transform:[V,w].filter(H=>!!H).join(" "),...b},children:[B>0&&f.jsx("path",{clipPath:"url(#"+S+")",fill:"none",stroke:v,strokeWidth:B+(x?0:1),d:U}),f.jsx("path",{stroke:B&&!x?T.fill:"none",d:U}),f.jsx("clipPath",{id:S,children:f.jsx("rect",{x:-W,y:W*(Q?-1:1),width:c+B,height:c})})]})});function V5(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const U5=y.createContext(null),z5=y.createContext(null),Iv=()=>{var e;return((e=y.useContext(U5))==null?void 0:e.id)||null},Pv=()=>y.useContext(z5);function Wu(e){return"data-floating-ui-"+e}function mi(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const bb=Wu("safe-polygon");function Ym(e,t,n){if(n&&!Iu(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r?.[t]}return e?.[t]}function Xm(e){return typeof e=="function"?e():e}function W5(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:l}=e,{enabled:c=!0,delay:u=0,handleClose:d=null,mouseOnly:h=!1,restMs:m=0,move:v=!0}=t,x=Pv(),w=Iv(),b=uf(d),T=uf(u),S=uf(n),R=uf(m),k=y.useRef(),A=y.useRef(-1),I=y.useRef(),j=y.useRef(-1),O=y.useRef(!0),B=y.useRef(!1),W=y.useRef(()=>{}),D=y.useRef(!1),$=ws(()=>{var U;const V=(U=i.current.openEvent)==null?void 0:U.type;return V?.includes("mouse")&&V!=="mousedown"});y.useEffect(()=>{if(!c)return;function U(V){let{open:H}=V;H||(mi(A),mi(j),O.current=!0,D.current=!1)}return o.on("openchange",U),()=>{o.off("openchange",U)}},[c,o]),y.useEffect(()=>{if(!c||!b.current||!n)return;function U(H){$()&&r(!1,H,"hover")}const V=Es(l.floating).documentElement;return V.addEventListener("mouseleave",U),()=>{V.removeEventListener("mouseleave",U)}},[l.floating,n,r,c,b,$]);const Q=y.useCallback(function(U,V,H){V===void 0&&(V=!0),H===void 0&&(H="hover");const P=Ym(T.current,"close",k.current);P&&!I.current?(mi(A),A.current=window.setTimeout(()=>r(!1,U,H),P)):V&&(mi(A),r(!1,U,H))},[T,r]),M=ws(()=>{W.current(),I.current=void 0}),G=ws(()=>{if(B.current){const U=Es(l.floating).body;U.style.pointerEvents="",U.removeAttribute(bb),B.current=!1}}),J=ws(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);y.useEffect(()=>{if(!c)return;function U(re){if(mi(A),O.current=!1,h&&!Iu(k.current)||Xm(R.current)>0&&!Ym(T.current,"open"))return;const q=Ym(T.current,"open",k.current);q?A.current=window.setTimeout(()=>{S.current||r(!0,re,"hover")},q):n||r(!0,re,"hover")}function V(re){if(J()){G();return}W.current();const q=Es(l.floating);if(mi(j),D.current=!1,b.current&&i.current.floatingContext){n||mi(A),I.current=b.current({...i.current.floatingContext,tree:x,x:re.clientX,y:re.clientY,onClose(){G(),M(),J()||Q(re,!0,"safe-polygon")}});const ie=I.current;q.addEventListener("mousemove",ie),W.current=()=>{q.removeEventListener("mousemove",ie)};return}(k.current==="touch"?!Kl(l.floating,re.relatedTarget):!0)&&Q(re)}function H(re){J()||i.current.floatingContext&&(b.current==null||b.current({...i.current.floatingContext,tree:x,x:re.clientX,y:re.clientY,onClose(){G(),M(),J()||Q(re)}})(re))}function P(){mi(A)}function Y(re){J()||Q(re,!1)}if(Xt(l.domReference)){const re=l.domReference,q=l.floating;return n&&re.addEventListener("mouseleave",H),v&&re.addEventListener("mousemove",U,{once:!0}),re.addEventListener("mouseenter",U),re.addEventListener("mouseleave",V),q&&(q.addEventListener("mouseleave",H),q.addEventListener("mouseenter",P),q.addEventListener("mouseleave",Y)),()=>{n&&re.removeEventListener("mouseleave",H),v&&re.removeEventListener("mousemove",U),re.removeEventListener("mouseenter",U),re.removeEventListener("mouseleave",V),q&&(q.removeEventListener("mouseleave",H),q.removeEventListener("mouseenter",P),q.removeEventListener("mouseleave",Y))}}},[l,c,e,h,v,Q,M,G,r,n,S,x,T,b,i,J,R]),Ji(()=>{var U;if(c&&n&&(U=b.current)!=null&&(U=U.__options)!=null&&U.blockPointerEvents&&$()){B.current=!0;const H=l.floating;if(Xt(l.domReference)&&H){var V;const P=Es(l.floating).body;P.setAttribute(bb,"");const Y=l.domReference,re=x==null||(V=x.nodesRef.current.find(q=>q.id===w))==null||(V=V.context)==null?void 0:V.elements.floating;return re&&(re.style.pointerEvents=""),P.style.pointerEvents="none",Y.style.pointerEvents="auto",H.style.pointerEvents="auto",()=>{P.style.pointerEvents="",Y.style.pointerEvents="",H.style.pointerEvents=""}}}},[c,n,w,l,x,b,$]),Ji(()=>{n||(k.current=void 0,D.current=!1,M(),G())},[n,M,G]),y.useEffect(()=>()=>{M(),mi(A),mi(j),G()},[c,l.domReference,M,G]);const X=y.useMemo(()=>{function U(V){k.current=V.pointerType}return{onPointerDown:U,onPointerEnter:U,onMouseMove(V){const{nativeEvent:H}=V;function P(){!O.current&&!S.current&&r(!0,H,"hover")}h&&!Iu(k.current)||n||Xm(R.current)===0||D.current&&V.movementX**2+V.movementY**2<2||(mi(j),k.current==="touch"?P():(D.current=!0,j.current=window.setTimeout(P,Xm(R.current))))}}},[h,r,n,S,R]);return y.useMemo(()=>c?{reference:X}:{},[c,X])}const sT={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},Eb=y.forwardRef(function(t,n){const[r,i]=y.useState();Ji(()=>{tT()&&i("button")},[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Wu("focus-guard")]:"",style:sT};return f.jsx("span",{...t,...o})}),oT=y.createContext(null),Sb=Wu("portal");function G5(e){e===void 0&&(e={});const{id:t,root:n}=e,r=Rp(),i=H5(),[o,l]=y.useState(null),c=y.useRef(null);return Ji(()=>()=>{o?.remove(),queueMicrotask(()=>{c.current=null})},[o]),Ji(()=>{if(!r||c.current)return;const u=t?document.getElementById(t):null;if(!u)return;const d=document.createElement("div");d.id=r,d.setAttribute(Sb,""),u.appendChild(d),c.current=d,l(d)},[t,r]),Ji(()=>{if(n===null||!r||c.current)return;let u=n||i?.portalNode;u&&!zy(u)&&(u=u.current),u=u||document.body;let d=null;t&&(d=document.createElement("div"),d.id=t,u.appendChild(d));const h=document.createElement("div");h.id=r,h.setAttribute(Sb,""),u=d||u,u.appendChild(h),c.current=h,l(h)},[t,n,r,i]),o}function Lv(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,o=G5({id:n,root:r}),[l,c]=y.useState(null),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),m=y.useRef(null),v=l?.modal,x=l?.open,w=!!l&&!l.modal&&l.open&&i&&!!(r||o);return y.useEffect(()=>{if(!o||!i||v)return;function b(T){o&&Hm(T)&&(T.type==="focusin"?yb:L5)(o)}return o.addEventListener("focusin",b,!0),o.addEventListener("focusout",b,!0),()=>{o.removeEventListener("focusin",b,!0),o.removeEventListener("focusout",b,!0)}},[o,i,v]),y.useEffect(()=>{o&&(x||yb(o))},[x,o]),f.jsxs(oT.Provider,{value:y.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:h,afterInsideRef:m,portalNode:o,setFocusManagerState:c}),[i,o]),children:[w&&o&&f.jsx(Eb,{"data-type":"outside",ref:u,onFocus:b=>{if(Hm(b,o)){var T;(T=h.current)==null||T.focus()}else{const S=l?l.domReference:null,R=P5(S);R?.focus()}}}),w&&o&&f.jsx("span",{"aria-owns":o.id,style:sT}),o&&Ey.createPortal(t,o),w&&o&&f.jsx(Eb,{"data-type":"outside",ref:d,onFocus:b=>{if(Hm(b,o)){var T;(T=m.current)==null||T.focus()}else{const S=l?l.domReference:null,R=I5(S);R?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,b.nativeEvent,"focus-out")}}})]})}const H5=()=>y.useContext(oT);function Cb(e){return xr(e.target)&&e.target.tagName==="BUTTON"}function Y5(e){return xr(e.target)&&e.target.tagName==="A"}function Tb(e){return nT(e)}function X5(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=e,{enabled:l=!0,event:c="click",toggle:u=!0,ignoreMouse:d=!1,keyboardHandlers:h=!0,stickIfOpen:m=!0}=t,v=y.useRef(),x=y.useRef(!1),w=y.useMemo(()=>({onPointerDown(b){v.current=b.pointerType},onMouseDown(b){const T=v.current;b.button===0&&c!=="click"&&(Iu(T,!0)&&d||(n&&u&&(!(i.current.openEvent&&m)||i.current.openEvent.type==="mousedown")?r(!1,b.nativeEvent,"click"):(b.preventDefault(),r(!0,b.nativeEvent,"click"))))},onClick(b){const T=v.current;if(c==="mousedown"&&v.current){v.current=void 0;return}Iu(T,!0)&&d||(n&&u&&(!(i.current.openEvent&&m)||i.current.openEvent.type==="click")?r(!1,b.nativeEvent,"click"):r(!0,b.nativeEvent,"click"))},onKeyDown(b){v.current=void 0,!(b.defaultPrevented||!h||Cb(b))&&(b.key===" "&&!Tb(o)&&(b.preventDefault(),x.current=!0),!Y5(b)&&b.key==="Enter"&&r(!(n&&u),b.nativeEvent,"click"))},onKeyUp(b){b.defaultPrevented||!h||Cb(b)||Tb(o)||b.key===" "&&x.current&&(x.current=!1,r(!(n&&u),b.nativeEvent,"click"))}}),[i,o,c,d,h,r,n,m,u]);return y.useMemo(()=>l?{reference:w}:{},[l,w])}const q5={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},K5={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Nb=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function Ov(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:l=!0,escapeKey:c=!0,outsidePress:u=!0,outsidePressEvent:d="pointerdown",referencePress:h=!1,referencePressEvent:m="pointerdown",ancestorScroll:v=!1,bubbles:x,capture:w}=t,b=Pv(),T=ws(typeof u=="function"?u:()=>!1),S=typeof u=="function"?T:u,R=y.useRef(!1),{escapeKey:k,outsidePress:A}=Nb(x),{escapeKey:I,outsidePress:j}=Nb(w),O=y.useRef(!1),B=ws(G=>{var J;if(!n||!l||!c||G.key!=="Escape"||O.current)return;const X=(J=o.current.floatingContext)==null?void 0:J.nodeId,U=b?Af(b.nodesRef.current,X):[];if(!k&&(G.stopPropagation(),U.length>0)){let V=!0;if(U.forEach(H=>{var P;if((P=H.context)!=null&&P.open&&!H.context.dataRef.current.__escapeKeyBubbles){V=!1;return}}),!V)return}r(!1,T5(G)?G.nativeEvent:G,"escape-key")}),W=ws(G=>{var J;const X=()=>{var U;B(G),(U=Ll(G))==null||U.removeEventListener("keydown",X)};(J=Ll(G))==null||J.addEventListener("keydown",X)}),D=ws(G=>{var J;const X=o.current.insideReactTree;o.current.insideReactTree=!1;const U=R.current;if(R.current=!1,d==="click"&&U||X||typeof S=="function"&&!S(G))return;const V=Ll(G),H="["+Wu("inert")+"]",P=Es(i.floating).querySelectorAll(H);let Y=Xt(V)?V:null;for(;Y&&!so(Y);){const ie=ao(Y);if(so(ie)||!Xt(ie))break;Y=ie}if(P.length&&Xt(V)&&!E5(V)&&!Kl(V,i.floating)&&Array.from(P).every(ie=>!Kl(Y,ie)))return;if(xr(V)&&M){const ie=so(V),ve=ii(V),be=/auto|scroll/,ke=ie||be.test(ve.overflowX),Ee=ie||be.test(ve.overflowY),Me=ke&&V.clientWidth>0&&V.scrollWidth>V.clientWidth,me=Ee&&V.clientHeight>0&&V.scrollHeight>V.clientHeight,ge=ve.direction==="rtl",Le=me&&(ge?G.offsetX<=V.offsetWidth-V.clientWidth:G.offsetX>V.clientWidth),ae=Me&&G.offsetY>V.clientHeight;if(Le||ae)return}const re=(J=o.current.floatingContext)==null?void 0:J.nodeId,q=b&&Af(b.nodesRef.current,re).some(ie=>{var ve;return Gm(G,(ve=ie.context)==null?void 0:ve.elements.floating)});if(Gm(G,i.floating)||Gm(G,i.domReference)||q)return;const oe=b?Af(b.nodesRef.current,re):[];if(oe.length>0){let ie=!0;if(oe.forEach(ve=>{var be;if((be=ve.context)!=null&&be.open&&!ve.context.dataRef.current.__outsidePressBubbles){ie=!1;return}}),!ie)return}r(!1,G,"outside-press")}),$=ws(G=>{var J;const X=()=>{var U;D(G),(U=Ll(G))==null||U.removeEventListener(d,X)};(J=Ll(G))==null||J.addEventListener(d,X)});y.useEffect(()=>{if(!n||!l)return;o.current.__escapeKeyBubbles=k,o.current.__outsidePressBubbles=A;let G=-1;function J(P){r(!1,P,"ancestor-scroll")}function X(){window.clearTimeout(G),O.current=!0}function U(){G=window.setTimeout(()=>{O.current=!1},mp()?5:0)}const V=Es(i.floating);c&&(V.addEventListener("keydown",I?W:B,I),V.addEventListener("compositionstart",X),V.addEventListener("compositionend",U)),S&&V.addEventListener(d,j?$:D,j);let H=[];return v&&(Xt(i.domReference)&&(H=Zo(i.domReference)),Xt(i.floating)&&(H=H.concat(Zo(i.floating))),!Xt(i.reference)&&i.reference&&i.reference.contextElement&&(H=H.concat(Zo(i.reference.contextElement)))),H=H.filter(P=>{var Y;return P!==((Y=V.defaultView)==null?void 0:Y.visualViewport)}),H.forEach(P=>{P.addEventListener("scroll",J,{passive:!0})}),()=>{c&&(V.removeEventListener("keydown",I?W:B,I),V.removeEventListener("compositionstart",X),V.removeEventListener("compositionend",U)),S&&V.removeEventListener(d,j?$:D,j),H.forEach(P=>{P.removeEventListener("scroll",J)}),window.clearTimeout(G)}},[o,i,c,S,d,n,r,v,l,k,A,B,I,W,D,j,$]),y.useEffect(()=>{o.current.insideReactTree=!1},[o,S,d]);const Q=y.useMemo(()=>({onKeyDown:B,...h&&{[q5[m]]:G=>{r(!1,G.nativeEvent,"reference-press")},...m!=="click"&&{onClick(G){r(!1,G.nativeEvent,"reference-press")}}}}),[B,r,h,m]),M=y.useMemo(()=>({onKeyDown:B,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[K5[d]]:()=>{o.current.insideReactTree=!0}}),[B,d,o]);return y.useMemo(()=>l?{reference:Q,floating:M}:{},[l,Q,M])}function Z5(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Rp(),o=y.useRef({}),[l]=y.useState(()=>V5()),c=Iv()!=null,[u,d]=y.useState(r.reference),h=ws((x,w,b)=>{o.current.openEvent=x?w:void 0,l.emit("openchange",{open:x,event:w,reason:b,nested:c}),n?.(x,w,b)}),m=y.useMemo(()=>({setPositionReference:d}),[]),v=y.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return y.useMemo(()=>({dataRef:o,open:t,onOpenChange:h,elements:v,events:l,floatingId:i,refs:m}),[t,h,v,l,i,m])}function Mv(e){e===void 0&&(e={});const{nodeId:t}=e,n=Z5({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,l]=y.useState(null),[c,u]=y.useState(null),h=i?.domReference||o,m=y.useRef(null),v=Pv();Ji(()=>{h&&(m.current=h)},[h]);const x=vO({...e,elements:{...i,...c&&{reference:c}}}),w=y.useCallback(k=>{const A=Xt(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;u(A),x.refs.setReference(A)},[x.refs]),b=y.useCallback(k=>{(Xt(k)||k===null)&&(m.current=k,l(k)),(Xt(x.refs.reference.current)||x.refs.reference.current===null||k!==null&&!Xt(k))&&x.refs.setReference(k)},[x.refs]),T=y.useMemo(()=>({...x.refs,setReference:b,setPositionReference:w,domReference:m}),[x.refs,b,w]),S=y.useMemo(()=>({...x.elements,domReference:h}),[x.elements,h]),R=y.useMemo(()=>({...x,...r,refs:T,elements:S,nodeId:t}),[x,T,S,t,r]);return Ji(()=>{r.dataRef.current.floatingContext=R;const k=v?.nodesRef.current.find(A=>A.id===t);k&&(k.context=R)}),y.useMemo(()=>({...x,context:R,refs:T,elements:S}),[x,T,S,R])}function qm(){return _5()&&tT()}function Q5(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:l}=e,{enabled:c=!0,visibleOnly:u=!0}=t,d=y.useRef(!1),h=y.useRef(-1),m=y.useRef(!0);y.useEffect(()=>{if(!c)return;const x=Ur(l.domReference);function w(){!n&&xr(l.domReference)&&l.domReference===ly(Es(l.domReference))&&(d.current=!0)}function b(){m.current=!0}function T(){m.current=!1}return x.addEventListener("blur",w),qm()&&(x.addEventListener("keydown",b,!0),x.addEventListener("pointerdown",T,!0)),()=>{x.removeEventListener("blur",w),qm()&&(x.removeEventListener("keydown",b,!0),x.removeEventListener("pointerdown",T,!0))}},[l.domReference,n,c]),y.useEffect(()=>{if(!c)return;function x(w){let{reason:b}=w;(b==="reference-press"||b==="escape-key")&&(d.current=!0)}return i.on("openchange",x),()=>{i.off("openchange",x)}},[i,c]),y.useEffect(()=>()=>{mi(h)},[]);const v=y.useMemo(()=>({onMouseLeave(){d.current=!1},onFocus(x){if(d.current)return;const w=Ll(x.nativeEvent);if(u&&Xt(w)){if(qm()&&!x.relatedTarget){if(!m.current&&!nT(w))return}else if(!S5(w))return}r(!0,x.nativeEvent,"focus")},onBlur(x){d.current=!1;const w=x.relatedTarget,b=x.nativeEvent,T=Xt(w)&&w.hasAttribute(Wu("focus-guard"))&&w.getAttribute("data-type")==="outside";h.current=window.setTimeout(()=>{var S;const R=ly(l.domReference?l.domReference.ownerDocument:document);!w&&R===l.domReference||Kl((S=o.current.floatingContext)==null?void 0:S.refs.floating.current,R)||Kl(l.domReference,R)||T||r(!1,b,"focus")})}}),[o,l.domReference,r,u]);return y.useMemo(()=>c?{reference:v}:{},[c,v])}function Km(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[vb]:l,[xb]:c,...u}=e;o=u}return{...n==="floating"&&{tabIndex:-1,[O5]:""},...o,...t.map(l=>{const c=l?l[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((l,c)=>(c&&Object.entries(c).forEach(u=>{let[d,h]=u;if(!(i&&[vb,xb].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof h=="function"){var m;(m=r.get(d))==null||m.push(h),l[d]=function(){for(var v,x=arguments.length,w=new Array(x),b=0;b<x;b++)w[b]=arguments[b];return(v=r.get(d))==null?void 0:v.map(T=>T(...w)).find(T=>T!==void 0)}}}else l[d]=h}),l),{})}}function Dv(e){e===void 0&&(e=[]);const t=e.map(c=>c?.reference),n=e.map(c=>c?.floating),r=e.map(c=>c?.item),i=y.useCallback(c=>Km(c,e,"reference"),t),o=y.useCallback(c=>Km(c,e,"floating"),n),l=y.useCallback(c=>Km(c,e,"item"),r);return y.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:l}),[i,o,l])}const J5=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function aT(e,t){var n,r;t===void 0&&(t={});const{open:i,elements:o,floatingId:l}=e,{enabled:c=!0,role:u="dialog"}=t,d=Rp(),h=((n=o.domReference)==null?void 0:n.id)||d,m=y.useMemo(()=>{var R;return((R=C5(o.floating))==null?void 0:R.id)||l},[o.floating,l]),v=(r=J5.get(u))!=null?r:u,w=Iv()!=null,b=y.useMemo(()=>v==="tooltip"||u==="label"?{["aria-"+(u==="label"?"labelledby":"describedby")]:i?m:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":v==="alertdialog"?"dialog":v,"aria-controls":i?m:void 0,...v==="listbox"&&{role:"combobox"},...v==="menu"&&{id:h},...v==="menu"&&w&&{role:"menuitem"},...u==="select"&&{"aria-autocomplete":"none"},...u==="combobox"&&{"aria-autocomplete":"list"}},[v,m,w,i,h,u]),T=y.useMemo(()=>{const R={id:m,...v&&{role:v}};return v==="tooltip"||u==="label"?R:{...R,...v==="menu"&&{"aria-labelledby":h}}},[v,m,h,u]),S=y.useCallback(R=>{let{active:k,selected:A}=R;const I={role:"option",...k&&{id:m+"-fui-option"}};switch(u){case"select":case"combobox":return{...I,"aria-selected":A}}return{}},[m,u]);return y.useMemo(()=>c?{reference:b,floating:T,item:S}:{},[c,b,T,S])}function Zl({toggleBtn:e,toggleBtnAs:t="button",showCaret:n=!0,caretClassName:r,caretStyle:i,contentPin:o="bottom-end",toggleWidth:l=!1,toggleBtnClassName:c,toggleBtnStyle:u,maxHeight:d="200px",contentDivClassName:h,contentDivStyle:m,children:v,ariaLabel:x,disabled:w=!1,themeType:b="nekotech",className:T,style:S,isOpen:R,onOpenChange:k,...A}){const I=R!==void 0,[j,O]=y.useState(!1),B=I?R:j,W=be=>{I||O(be),k?.(be)},[D,$]=y.useState(-1),Q=y.useRef(null),M=y.useId(),G=y.useId(),{refs:J,floatingStyles:X,context:U}=Mv({open:B,onOpenChange:W,placement:o,middleware:[JE(8),tS(),eS({padding:16}),...l?[_O({apply({rects:be,elements:ke}){Object.assign(ke.floating.style,{width:`${be.reference.width}px`})}})]:[]],whileElementsMounted:ZE}),V=X5(U,{enabled:!w}),H=Ov(U,{enabled:!w}),P=aT(U,{role:"menu"}),{getReferenceProps:Y,getFloatingProps:re}=Dv([V,H,P]),q=ac(y5,b,{maxHeight:d,isOpen:B}),oe=()=>Q.current?Array.from(Q.current.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled])')):[];y.useEffect(()=>{const be=ke=>{if(w)return;const Ee=oe(),Me=J.reference.current;switch(ke.key){case"Escape":B&&(ke.preventDefault(),W(!1),$(-1),Me?.focus());break;case"ArrowDown":if(B){ke.preventDefault();const me=D<Ee.length-1?D+1:0;$(me),Ee[me]?.focus()}else document.activeElement===Me&&(ke.preventDefault(),W(!0),setTimeout(()=>{const me=oe();me.length>0&&($(0),me[0].focus())},100));break;case"ArrowUp":if(B){ke.preventDefault();const me=D>0?D-1:Ee.length-1;$(me),Ee[me]?.focus()}break;case"Home":B&&Ee.length>0&&(ke.preventDefault(),$(0),Ee[0].focus());break;case"End":if(B&&Ee.length>0){ke.preventDefault();const me=Ee.length-1;$(me),Ee[me].focus()}break;case"Tab":B&&setTimeout(()=>{const me=document.activeElement,Le=J.floating.current?.contains(me),ae=Me?.contains(me);!Le&&!ae&&(W(!1),$(-1))},0);break}};return B&&document.addEventListener("keydown",be),()=>{document.removeEventListener("keydown",be)}},[B,D,w,J]),y.useEffect(()=>{B||$(-1)},[B]);const ie=f.jsx(xn,{iconName:"three-dots","aria-hidden":"true"}),ve={ref:J.setReference,...Y(),id:M,className:Z(pe.flex,pe.alignItemsCenter,Fy.cursorPointer,Ot.fitContent,pe.flexGapS,c,T),style:{...u,...S},"aria-expanded":B,"aria-haspopup":"true","aria-controls":G,"aria-label":x||"Toggle dropdown menu",...t==="button"&&{disabled:w,type:"button"},...A};return f.jsxs(f.Fragment,{children:[Oe.createElement(t,ve,f.jsxs(f.Fragment,{children:[e||ie,n&&f.jsx(Vn.div,{...q.caret,className:Z(r),style:i,"aria-hidden":"true",children:f.jsx(xn,{iconName:"caret-down"})})]})),f.jsx(Lv,{children:f.jsx("div",{ref:J.setFloating,...re(),style:{...X,zIndex:1e4},children:f.jsx(Uu,{children:B&&f.jsx(Vn.div,{ref:Q,id:G,role:"group","aria-labelledby":M,className:Z(pe.flexColumn,mb.dropdownContent,h),style:m,...q.content,"aria-live":"polite",children:f.jsx("div",{className:Z(mb.contentContainer),role:"group","aria-label":"Dropdown content",children:v})})})})})]})}const lT=y.forwardRef(({iconName:e,iconColor:t,iconSize:n,iconPosition:r="left",text:i,textColor:o,textSize:l,className:c,style:u,as:d="span",...h},m)=>{const v=e?f.jsx(xn,{iconName:e,color:t,size:n}):null;return f.jsxs(d,{ref:m,className:Z(pe.flex,pe.alignItemsCenter,pe.flexGapS,Fy.transformStylePreserve3d,c),style:{...u,color:o,fontSize:l},...h,children:[v&&(r==="left"||r==="both")&&v,i,v&&(r==="right"||r==="both")&&v]})});lT.displayName="IconSpan";function $e({children:e,iconName:t="bounding-box-circles",iconPosition:n="left",iconColor:r,iconSize:i,className:o,themeType:l="basic",...c}){const u=()=>e?t?f.jsx(lT,{iconName:t,text:e,iconColor:r,iconSize:i,iconPosition:n}):e:f.jsx(xn,{iconName:t,color:r,size:i});return f.jsx(gt,{themeType:l,className:Z(o),...c,children:u()})}const e$="_container_15lg6_1",t$="_title_15lg6_7",n$="_progressBarArea_15lg6_13",r$="_overallLabel_15lg6_17",i$="_overallBarTrack_15lg6_23",s$="_overallBarFill_15lg6_31",o$="_subSteps_15lg6_38",a$="_stepRow_15lg6_44",l$="_stepTitle_15lg6_53",c$="_stepCompleted_15lg6_57",u$="_stepBarTrack_15lg6_61",d$="_stepBarFill_15lg6_69",f$="_stepNote_15lg6_76",hr={container:e$,title:t$,progressBarArea:n$,overallLabel:r$,overallBarTrack:i$,overallBarFill:s$,subSteps:o$,stepRow:a$,stepTitle:l$,stepCompleted:c$,stepBarTrack:u$,stepBarFill:d$,stepNote:f$},lu=y.forwardRef(({onClose:e},t)=>{const n=y.useRef([]),[r,i]=y.useState(0),o=y.useRef(-1),[l,c]=y.useState([]),u=y.useRef(null),d=y.useRef([]),h=y.useRef(null),m=y.useRef(null),v=y.useRef(null);y.useEffect(()=>()=>{v.current&&clearTimeout(v.current)},[]),y.useImperativeHandle(t,()=>({init(w,b){if(n.current=w||[],o.current=n.current.findIndex(T=>T.key==="uploading"),i(0),b?.title&&h.current&&(h.current.innerText=b.title),b?.subStepsForKey){const T=Object.keys(b.subStepsForKey)[0];if(T){const S=b.subStepsForKey[T]||[];c(S),d.current=S.map(()=>({barRef:null,noteRef:null,titleRef:null}))}}n.current&&n.current.length>0&&h.current&&(h.current.innerText=n.current[0].title)},addSubSteps(w,b){c(b||[]),d.current=b.map(()=>({barRef:null,noteRef:null,titleRef:null}))},updateProgress({mainStepIndex:w,stepIndex:b,stepKey:T,subStepKey:S,percent:R,title:k,note:A,subStepCompleted:I}){if(typeof w=="number"&&(i(w),n.current&&n.current[w]&&h.current&&(h.current.innerText=n.current[w].title)),typeof b=="number"&&b===-1&&typeof R=="number"){if(m.current){const O=Math.max(0,Math.min(1,R));m.current.style.width=`${Math.round(O*100)}%`}return}let j=-1;if(typeof b=="number"&&b>=0?j=b:S&&l?j=l.findIndex(O=>O.key===S):T&&l&&(j=l.findIndex(O=>O.key===T)),j>=0){const O=d.current[j];if(!O)return;if(O.barRef&&typeof R=="number"){const B=Math.max(0,Math.min(1,R));O.barRef.style.width=`${Math.round(B*100)}%`,O.barRef.setAttribute("aria-valuenow",String(Math.round(B*100)))}O.titleRef&&k&&(O.titleRef.innerText=k),O.noteRef&&(O.noteRef.innerText=A||""),I&&O.titleRef&&O.titleRef.classList.add(hr.stepCompleted);try{O.titleRef?.scrollIntoView({behavior:"smooth",block:"center"})}catch{}}},increment(w,b){let T=typeof w=="number"?w:l.findIndex(A=>A.key===w);if(T==null||T<0)return;const S=d.current[T];if(!S||!S.barRef)return;const R=parseFloat(S.barRef.style.width.replace("%","")||"0"),k=Math.max(0,Math.min(100,R+b*100));S.barRef.style.width=`${Math.round(k)}%`,S.barRef.setAttribute("aria-valuenow",String(Math.round(k)))},complete(w,b,T=1e3){h.current&&(h.current.innerText=b||(w?"Completed":"Failed")),T!=null&&w&&(v.current=setTimeout(()=>{e&&e()},T))},close(){e&&e()}}),[e,l]);const x=l.length>0&&r===o.current;return f.jsxs("div",{className:hr.container,children:[f.jsx("div",{className:hr.title,ref:w=>{h.current=w},children:"Processing..."}),f.jsxs("div",{className:hr.progressBarArea,children:[f.jsx("div",{className:hr.overallLabel,children:"Overall progress"}),f.jsx("div",{className:hr.overallBarWrap,children:f.jsx("div",{className:hr.overallBarTrack,children:f.jsx("div",{className:hr.overallBarFill,ref:w=>{m.current=w},style:{width:"0%"},"aria-hidden":!0})})})]}),x&&f.jsx("div",{className:hr.subSteps,ref:w=>{u.current=w},children:l.map((w,b)=>f.jsxs("div",{className:hr.stepRow,children:[f.jsx("div",{className:hr.stepTitle,ref:T=>{d.current[b]&&(d.current[b].titleRef=T)},children:w.title}),f.jsx("div",{className:hr.stepBar,children:f.jsx("div",{className:hr.stepBarTrack,children:f.jsx("div",{className:hr.stepBarFill,ref:T=>{d.current[b]&&(d.current[b].barRef=T)},style:{width:"0%"},role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0})})}),f.jsx("div",{className:hr.stepNote,ref:T=>{d.current[b]&&(d.current[b].noteRef=T)}})]},w.key||`${b}`))})]})});function cT(e,t){const{padding:n=20,backgroundColor:r="white",includeStyles:i=!0}=t??{},o=e.cloneNode(!0),l=o.getAttribute("viewBox")?.split(" ").map(Number)??[];if(l.length===4){const[d,h,m,v]=l;o.setAttribute("viewBox",`${d-n} ${h-n} ${m+n*2} ${v+n*2}`)}if(r){const d=document.createElementNS("http://www.w3.org/2000/svg","rect");l.length===4&&(d.setAttribute("x",String(l[0]-n)),d.setAttribute("y",String(l[1]-n)),d.setAttribute("width",String(l[2]+n*2)),d.setAttribute("height",String(l[3]+n*2))),d.setAttribute("fill",r),o.insertBefore(d,o.firstChild)}const u=new XMLSerializer().serializeToString(o);return new Blob([u],{type:"image/svg+xml;charset=utf-8"})}async function p$(e,t){const{padding:n=20,backgroundColor:r="white",scale:i=2,quality:o=.95}=t??{},l=cT(e,{padding:n,backgroundColor:r}),c=URL.createObjectURL(l);try{const u=new Image;await new Promise((v,x)=>{u.onload=()=>v(),u.onerror=()=>x(new Error("Failed to load SVG image")),u.src=c});const d=document.createElement("canvas"),h=d.getContext("2d");if(!h)throw new Error("Failed to get canvas 2D context");return d.width=u.width*i,d.height=u.height*i,h.scale(i,i),h.drawImage(u,0,0),await new Promise((v,x)=>{d.toBlob(w=>{w?v(w):x(new Error("Canvas to blob conversion failed"))},"image/png",o)})}finally{URL.revokeObjectURL(c)}}function rp(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}function kb(e,t){const n=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"").substring(0,50),r=Date.now();return`${n||"translation"}-${r}.${t}`}const cy=["glyphs","graphemes","grapheme_glyphs","phonemes","lexicon","lexicon_spelling","lexicon_ancestry","lexicon_ancestry_closure"],h$=["glyphs","graphemes","grapheme_glyphs","phonemes","lexicon","lexicon_spelling","lexicon_ancestry"],uT=new Uint32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?t>>>1^3988292384:t>>>1;uT[e]=t}function dT(e){let t=4294967295;for(let n=0;n<e.length;n++)t=t>>>8^uT[(t^e[n])&255];return(t^4294967295)>>>0}const fT=cy;function m$(e,t){const n=e.exec(`SELECT * FROM ${t}`);if(n.length===0)return[];const{columns:r,values:i}=n[0];return i.map(o=>{const l={};return r.forEach((c,u)=>{l[c]=o[u]}),l})}function pT(){const e=qe(),t=op(),n={};for(const r of fT)n[r]=m$(e,r);return{magic:"ETYMOLOG_EXPORT",version:1,exportedAt:new Date().toISOString(),conlangName:t.conlangName,settings:t,tables:n}}function hT(e){return JSON.stringify(e,null,2)}function mT(e){let t;try{t=JSON.parse(e)}catch{throw new Error("Invalid JSON: could not parse the input")}if(t.magic!=="ETYMOLOG_EXPORT")throw new Error("Not an Etymolog export file");if(t.version!==1)throw new Error(`Unsupported export version: ${t.version}`);if(!t.tables||typeof t.tables!="object")throw new Error("Missing tables object");for(const n of fT){if(!(n in t.tables))throw new Error(`Missing table: ${n}`);if(!Array.isArray(t.tables[n]))throw new Error(`Table ${n} is not an array`)}if(!t.settings||typeof t.settings!="object")throw new Error("Missing settings");return t}function gT(e,t){I1();const n=qe(),r=cy.reduce((o,l)=>o+e.tables[l].length,0);let i=0;for(const o of cy){const l=e.tables[o];if(l.length===0)continue;const c=Object.keys(l[0]),u=c.map(()=>"?").join(", "),d=`INSERT INTO ${o} (${c.join(", ")}) VALUES (${u})`;for(const h of l){const m=c.map(v=>h[v]);n.run(d,m),i++,t?.("import",.2+.7*(i/r),`Importing ${o}...`)}}for(const o of h$)e.tables[o].length>0&&n.run(`UPDATE sqlite_sequence SET seq = (SELECT MAX(id) FROM ${o}) WHERE name = '${o}'`);Ft(),localStorage.setItem("etymolog_settings_v1",JSON.stringify(e.settings))}async function g$(e){const t=new CompressionStream("gzip"),n=t.writable.getWriter();n.write(e),n.close();const r=t.readable.getReader(),i=[];for(;;){const{done:o,value:l}=await r.read();if(o)break;i.push(l)}return yT(i)}async function y$(e){const t=new DecompressionStream("gzip"),n=t.writable.getWriter();n.write(e),n.close();const r=t.readable.getReader(),i=[];for(;;){const{done:o,value:l}=await r.read();if(o)break;i.push(l)}return yT(i)}function yT(e){const t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}const uy=new Uint8Array([69,84,89,77,79,76,79,71]),dy=new Uint8Array([69,78,68,69,84,89,77,79]),vT=1,cu=13,xT=12;function v$(e,t){const n=cu+e.length+xT,r=new Uint8Array(n);let i=0;r.set(uy,i),i+=8,r[i++]=vT,r[i++]=e.length>>>24&255,r[i++]=e.length>>>16&255,r[i++]=e.length>>>8&255,r[i++]=e.length&255,r.set(e,i),i+=e.length,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=t&255,r.set(dy,i);const o=Math.ceil(n/3),l=Math.ceil(Math.sqrt(o)),c=Math.ceil(o/l),u=new Uint8ClampedArray(l*c*4);for(let d=0;d<l*c;d++){const h=d*3;u[d*4+0]=h<n?r[h]:0,u[d*4+1]=h+1<n?r[h+1]:0,u[d*4+2]=h+2<n?r[h+2]:0,u[d*4+3]=255}return{pixels:u,width:l,height:c}}function x$(e,t,n){const r=t*n,i=new Uint8Array(r*3);for(let m=0;m<r;m++)i[m*3+0]=e[m*4+0],i[m*3+1]=e[m*4+1],i[m*3+2]=e[m*4+2];for(let m=0;m<uy.length;m++)if(i[m]!==uy[m])throw new Error("Invalid data: missing start marker");const o=i[8];if(o!==vT)throw new Error(`Unsupported pixel codec version: ${o}`);const l=i[9]<<24|i[10]<<16|i[11]<<8|i[12];if(l<0||cu+l+xT>i.length)throw new Error("Invalid data: wrong data length");const c=i.slice(cu,cu+l),u=cu+l,d=(i[u]<<24|i[u+1]<<16|i[u+2]<<8|i[u+3])>>>0,h=u+4;for(let m=0;m<dy.length;m++)if(i[h+m]!==dy[m])throw new Error("Invalid data: missing end marker");return{compressedData:c,crc:d}}async function _$(e){const t=new TextEncoder().encode(e),n=dT(t),r=await g$(t);return v$(r,n)}async function w$(e,t,n){const{compressedData:r,crc:i}=x$(e,t,n),o=await y$(r);if(dT(o)!==i)throw new Error("Data integrity check failed: CRC mismatch");return new TextDecoder().decode(o)}const Da=20,_u=48,Zm=48,Gl=[69,88,80];async function b$(e,t,n,r){const i=t+Da*2,o=n+_u+Zm,l=document.createElement("canvas");l.width=i,l.height=o;const c=l.getContext("2d");c.fillStyle="#0a0a0f",c.fillRect(0,0,i,o),c.strokeStyle="rgba(0, 212, 255, 0.4)",c.lineWidth=1,c.strokeRect(2,2,i-4,o-4),c.font="16px monospace",c.fillStyle="#00d4ff",c.textAlign="left",c.fillText(r,Da,_u-16),c.font="12px monospace",c.fillStyle="#888888",c.textAlign="right",c.fillText("Etymolog",i-Da,o-Zm+20),c.font="10px monospace",c.fillStyle="#666666",c.fillText("by Kerbash",i-Da,o-Zm+36);const u=new ImageData(e,t,n);c.putImageData(u,Da,_u);const d=c.getImageData(0,0,3,1),h=d.data;return h[0]=Gl[0],h[1]=Gl[1],h[2]=Gl[2],h[3]=255,h[4]=t>>8&255,h[5]=t&255,h[6]=n>>8&255,h[7]=255,h[8]=n&255,h[9]=0,h[10]=0,h[11]=255,c.putImageData(d,0,0),new Promise((m,v)=>{l.toBlob(x=>x?m(x):v(new Error("Failed to create PNG")),"image/png")})}async function E$(e){const t=await C$(e),{fullW:n,fullH:r,fullPixels:i}=await S$(t);if(i[0]!==Gl[0]||i[1]!==Gl[1]||i[2]!==Gl[2])throw new Error("Not a valid Etymolog image: missing metadata marker");const o=i[4]<<8|i[5],l=i[6]<<8|i[8];if(o<=0||l<=0||Da+o>n||_u+l>r)throw new Error("Invalid Etymolog image: data dimensions out of bounds");const c=new Uint8ClampedArray(o*l*4);for(let u=0;u<l;u++)for(let d=0;d<o;d++){const h=((u+_u)*n+(d+Da))*4,m=(u*o+d)*4;c[m]=i[h],c[m+1]=i[h+1],c[m+2]=i[h+2],c[m+3]=i[h+3]}return{pixels:c,width:o,height:l}}function S$(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{const i=document.createElement("canvas");i.width=r.width,i.height=r.height;const o=i.getContext("2d");if(!o)return n(new Error("Failed to get canvas context"));o.drawImage(r,0,0);const l=o.getImageData(0,0,r.width,r.height);t({fullW:r.width,fullH:r.height,fullPixels:l.data})},r.onerror=()=>n(new Error("Failed to load image")),r.src=e})}function C$(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=()=>n(new Error("Failed to read file")),r.readAsDataURL(e)})}function T$(e){e?.("collect",0,"Reading database...");const t=pT();e?.("serialize",.5,"Serializing...");const n=hT(t);return e?.("done",1),n}async function N$(e){e?.("collect",0,"Reading database...");const t=pT();e?.("serialize",.15,"Serializing...");const n=hT(t);e?.("compress",.3,"Encoding image...");const{pixels:r,width:i,height:o}=await _$(n);e?.("frame",.8,"Building PNG frame...");const l=await b$(r,i,o,t.conlangName);return e?.("done",1),l}function k$(e,t){t?.("validate",0,"Validating...");const n=mT(e);t?.("import",.2,"Importing data..."),gT(n,t),t?.("done",1,"Import complete")}async function R$(e,t){t?.("extract",0,"Extracting image data...");const{pixels:n,width:r,height:i}=await E$(e);t?.("decode",.15,"Decoding image data...");const o=await w$(n,r,i);t?.("validate",.6,"Validating...");const l=mT(o);t?.("import",.7,"Importing data..."),gT(l,t),t?.("done",1,"Import complete")}function _T(){const{settings:e,refresh:t}=hn(),{setContent:n,clearContent:r}=ZC(),i=y.useCallback(()=>{const u=Oe.createRef(),d=Oe.createElement(lu,{ref:u,onClose:r});n(d),setTimeout(()=>{try{u.current?.init([{key:"export",title:"Exporting JSON..."}]);const h=T$((v,x)=>{u.current?.updateProgress({stepIndex:-1,percent:x})}),m=new Blob([h],{type:"application/json"});rp(m,`${e.conlangName}.etymolog.json`),u.current?.complete(!0,"Export complete!",2e3)}catch(h){u.current?.complete(!1,h.message)}},0)},[e.conlangName,n,r]),o=y.useCallback(()=>{const u=Oe.createRef(),d=Oe.createElement(lu,{ref:u,onClose:r});n(d),setTimeout(async()=>{try{u.current?.init([{key:"export",title:"Exporting Image..."}]);const h=await N$((m,v)=>{u.current?.updateProgress({stepIndex:-1,percent:v})});rp(h,`${e.conlangName}.etymolog.png`),u.current?.complete(!0,"Export complete!",2e3)}catch(h){u.current?.complete(!1,h.message)}},0)},[e.conlangName,n,r]),l=y.useCallback((u,d)=>{const h=Oe.createRef(),m=Oe.createElement(lu,{ref:h,onClose:r});n(m),setTimeout(()=>{try{h.current?.init([{key:"import",title:"Importing JSON..."}]),k$(u,(v,x)=>{h.current?.updateProgress({stepIndex:-1,percent:x})}),t(),h.current?.complete(!0,"Import complete!",2e3),d&&setTimeout(d,2e3)}catch(v){h.current?.complete(!1,v.message)}},0)},[n,r,t]),c=y.useCallback((u,d)=>{const h=Oe.createRef(),m=Oe.createElement(lu,{ref:h,onClose:r});n(m),setTimeout(async()=>{try{h.current?.init([{key:"import",title:"Importing Image..."}]),await R$(u,(v,x)=>{h.current?.updateProgress({stepIndex:-1,percent:x})}),t(),h.current?.complete(!0,"Import complete!",2e3),d&&setTimeout(d,2e3)}catch(v){h.current?.complete(!1,v.message)}},0)},[n,r,t]);return{handleExportJson:i,handleExportImage:o,handleImportJson:l,handleImportImage:c}}const A$="_modalContent_4h181_1",j$="_menuItem_4h181_12",I$="_textarea_4h181_32",P$="_fileInput_4h181_46",L$="_errorMessage_4h181_53",O$="_fileName_4h181_59",Ei={modalContent:A$,menuItem:j$,textarea:I$,fileInput:P$,errorMessage:L$,fileName:O$};function M$({isOpen:e,setIsOpen:t,onImport:n}){const[r,i]=y.useState(""),[o,l]=y.useState("");y.useEffect(()=>{e&&(i(""),l(""))},[e]);const c=u=>{u.preventDefault();const d=r.trim();if(!d){l("Please paste JSON data");return}n(d),t(!1)};return f.jsx(cr,{isOpen:e,setIsOpen:t,children:f.jsxs("form",{onSubmit:c,className:Z(Ei.modalContent,pe.flexColumn,pe.flexGapM),children:[f.jsx("h2",{style:{margin:0},children:"Import from JSON"}),f.jsx("textarea",{className:Ei.textarea,value:r,onChange:u=>{i(u.target.value),l("")},placeholder:"Paste Etymolog JSON export data here...",autoFocus:!0}),o&&f.jsx("p",{className:Ei.errorMessage,children:o}),f.jsxs("div",{className:Z(pe.flexRow,pe.justifyContentEnd,pe.flexGapS),children:[f.jsx(gt,{type:"button",className:ht.secondary,onClick:()=>t(!1),children:"Cancel"}),f.jsx(gt,{type:"submit",className:ht.primary,disabled:!r.trim(),children:"Import"})]})]})})}function D$({isOpen:e,setIsOpen:t,onImport:n}){const[r,i]=y.useState(null),[o,l]=y.useState("");y.useEffect(()=>{e&&(i(null),l(""))},[e]);const c=d=>{l("");const h=d.target.files?.[0];h&&i(h)},u=d=>{if(d.preventDefault(),!r){l("Please select a file");return}n(r),t(!1)};return f.jsx(cr,{isOpen:e,setIsOpen:t,children:f.jsxs("form",{onSubmit:u,className:Z(Ei.modalContent,pe.flexColumn,pe.flexGapM),children:[f.jsx("h2",{style:{margin:0},children:"Import from Image"}),f.jsx("input",{type:"file",accept:".png",onChange:c,className:Ei.fileInput}),r&&f.jsxs("p",{className:Ei.fileName,children:["Selected: ",r.name]}),o&&f.jsx("p",{className:Ei.errorMessage,children:o}),f.jsxs("div",{className:Z(pe.flexRow,pe.justifyContentEnd,pe.flexGapS),children:[f.jsx(gt,{type:"button",className:ht.secondary,onClick:()=>t(!1),children:"Cancel"}),f.jsx(gt,{type:"submit",className:ht.primary,disabled:!r,children:"Import"})]})]})})}function F$(){const{handleExportJson:e,handleExportImage:t}=_T();return f.jsxs(Zl,{toggleBtn:f.jsx($e,{iconName:"download",children:"Export"}),contentPin:"bottom-end",ariaLabel:"Export conlang data",children:[f.jsx("button",{className:Ei.menuItem,onClick:e,children:"Export as JSON"}),f.jsx("button",{className:Ei.menuItem,onClick:t,children:"Export as Image"})]})}function wT({onSuccess:e}={}){const{settings:t}=hn(),{handleImportJson:n,handleImportImage:r}=_T(),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,m]=y.useState(null),v=b=>{m({type:"json",data:b})},x=b=>{m({type:"image",data:b})},w=()=>{h&&(h.type==="json"?n(h.data,e):r(h.data,e),m(null))};return f.jsxs(f.Fragment,{children:[f.jsxs(Zl,{toggleBtn:f.jsx($e,{iconName:"upload",children:"Import"}),contentPin:"bottom-end",ariaLabel:"Import conlang data",isOpen:i,onOpenChange:o,children:[f.jsx("button",{className:Ei.menuItem,onClick:()=>{o(!1),c(!0)},children:"Import JSON"}),f.jsx("button",{className:Ei.menuItem,onClick:()=>{o(!1),d(!0)},children:"Import Image"})]}),f.jsx(M$,{isOpen:l,setIsOpen:c,onImport:v}),f.jsx(D$,{isOpen:u,setIsOpen:d,onImport:x}),f.jsx(cr,{isOpen:h!==null,setIsOpen:b=>{b||m(null)},children:f.jsxs("div",{className:Z(Ei.modalContent,pe.flexColumn,pe.flexGapM),children:[f.jsx("h2",{style:{margin:0},children:"Confirm Import"}),f.jsxs("p",{style:{margin:0},children:["This will replace ",f.jsx("strong",{children:"ALL"})," current data for ",f.jsx("strong",{children:t.conlangName}),". Continue?"]}),f.jsxs("div",{className:Z(pe.flexRow,pe.justifyContentEnd,pe.flexGapS),children:[f.jsx(gt,{className:ht.secondary,onClick:()=>m(null),children:"Cancel"}),f.jsx(gt,{className:ht.primary,onClick:w,children:"Confirm Import"})]})]})})]})}function $$(){const[e,t]=y.useState(!1),{settings:n,updateSettings:r}=lE(),i=Qn(),o=c=>{r({conlangName:c}),i("/lexicon")},l=n.conlangName.trim().length>0;return f.jsxs(JC,{children:[f.jsx("div",{className:Z(pe.flexColumn,pe.alignItemsCenter),style:{flex:1,justifyContent:"center",minHeight:"60vh"},children:f.jsxs("div",{className:Z(pe.flexColumn,pe.alignItemsCenter,pe.flexGapL),children:[f.jsxs("div",{className:Z(pe.flexColumn,pe.alignItemsCenter,pe.flexGapS),children:[f.jsx("h1",{style:{fontSize:"2.5rem",margin:0},children:"Etymolog"}),f.jsx("p",{style:{color:"var(--text-secondary)",margin:0},children:"Conlang lexicon and script management"})]}),f.jsxs("div",{className:Z(pe.flexColumn,pe.alignItemsCenter,pe.flexGapM),children:[f.jsxs("div",{className:Z(pe.flexRow,pe.flexGapM,pe.alignItemsCenter),children:[f.jsx(gt,{className:ht.primary,onClick:()=>t(!0),children:"New Conlang"}),f.jsx(wT,{onSuccess:()=>i("/lexicon")})]}),l&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Z(pe.flexColumn,pe.alignItemsCenter,pe.flexGapS),children:[f.jsx("p",{style:{color:"var(--text-secondary)",margin:0,fontSize:"0.875rem"},children:"Currently loaded:"}),f.jsx("p",{style:{color:"var(--text-primary)",margin:0,fontSize:"1.25rem",fontWeight:500},children:n.conlangName})]}),f.jsx(gt,{className:ht.secondary,onClick:()=>i("/lexicon"),children:"Go to Conlang"})]})]})]})}),f.jsx(eT,{isOpen:e,setIsOpen:t,onSubmit:o})]})}function B$({children:e}){const{settings:t}=lE();return t.conlangName?f.jsx(f.Fragment,{children:e}):f.jsx(R1,{to:"/new",replace:!0})}const V$="_modalContent_ndb6o_1",U$={modalContent:V$},z$="_toggleContainer_wn2hg_1",W$="_toggleButton_wn2hg_6",G$="_active_wn2hg_14",H$="_tabContainerBorder_wn2hg_40",uu={toggleContainer:z$,toggleButton:W$,active:G$,tabContainerBorder:H$},Y$={basic:{content:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeInOut"}}},slide:{content:{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeInOut"}}},nekotech:{content:{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.4,ease:[.68,-.55,.265,1.55]}}}};function X$(...e){const t={};for(const n of e)if(n)for(const r in n){const i=t[r],o=n[r];if(o!==void 0)if(r==="className"){const l=[i,o].filter(Boolean).join(" ").split(" ").filter((c,u,d)=>c&&d.indexOf(c)===u).join(" ");t[r]=l}else if(r==="style"&&typeof o=="object"&&o!==null)typeof i=="object"&&i!==null?t[r]={...i,...o}:t[r]={...o};else if(r.startsWith("on")&&typeof o=="function"&&typeof i=="function"){const l=i,c=o;t[r]=((...u)=>{l(...u),c(...u)})}else t[r]=o}return t}const q$=e=>{if(!e)return"";let t=e;["strong","b","em","i","span","p","div","small","mark","del","ins","sub","sup","code","kbd","samp"].forEach(o=>{const l=o==="b"?"strong":o==="i"?"em":o,c=new RegExp(`<${o}(\\s[^>]*)?>`,"gi");t=t.replace(c,`<${l}>`);const u=new RegExp(`</${o}>`,"gi");t=t.replace(u,`</${l}>`)}),t=t.replace(/<br\s*\/?>/gi,"<br>").replace(/<hr\s*\/?>/gi,"<hr>");const r="br|hr|strong|em|span|p|div|small|mark|del|ins|sub|sup|code|kbd|samp";return t=t.replace(new RegExp(`<(?!\\/?(?:${r})\\b)[^>]*>`,"gi"),""),t=t.replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/(javascript|vbscript|data):/gi,""),Object.entries({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&apos;":"'","&nbsp;":" ","&laquo;":"","&raquo;":"","&ldquo;":'"',"&rdquo;":'"',"&lsquo;":"'","&rsquo;":"'","&ndash;":"","&mdash;":"","&hellip;":"","&copy;":"","&reg;":"","&trade;":"","&euro;":"","&pound;":"","&yen;":"","&sect;":"","&para;":"","&bull;":"","&larr;":"","&uarr;":"","&rarr;":"","&darr;":"","&harr;":""}).forEach(([o,l])=>{t=t.replace(new RegExp(o,"gi"),l)}),t=t.replace(/&#(\d+);/g,(o,l)=>{const c=parseInt(l,10);return c>=32&&c<=126||c>=160&&c<=255?String.fromCharCode(c):o}),t=t.replace(/&#x([0-9a-fA-F]+);/g,(o,l)=>{const c=parseInt(l,16);return c>=32&&c<=126||c>=160&&c<=255?String.fromCharCode(c):o}),t=t.trim(),t},K$=uu.tabContainerBorder;function Rb({sections:e,basePath:t,themeType:n,borderColor:r,className:i,style:o,maintainRender:l,contentContainerProps:c,activeSection:u,onSectionChange:d}){const h=ac(Y$,n||"basic",{}),m=X$({className:pe.flexGrow},c),v=(e||[]).map(w=>f.jsx("div",{onClick:()=>d(w.path),className:Z(uu.toggleButton,{[uu.active]:w.path===u}),children:w.toggle},w.path)),x=(e||[]).find(w=>w.path===u)?.content;return f.jsxs("div",{className:Z(uu.container,pe.flexColumn,i),style:{"--tab-border-color":r||"var(--border-primary)",...o},children:[f.jsx("div",{className:Z(uu.toggleContainer,pe.flexRow),children:v}),l?f.jsx("div",{...m,children:(e||[]).map(w=>f.jsx("div",{style:{display:w.path===u?"block":"none",height:"100%"},children:w.content},w.path))}):f.jsx("div",{style:{display:"grid"},...m,children:f.jsx(Uu,{mode:"wait",children:x&&f.jsx(Vn.div,{style:{gridArea:"1 / 1",height:"100%"},initial:h.content.initial,animate:h.content.animate,exit:h.content.exit,transition:h.content.transition,children:x},u)})})]})}function Fv(e){const{sections:t=[],basePath:n=""}=e,r=Qn(),i=n.endsWith("/")?n.slice(0,-1):n,l=y.useMemo(()=>t.find(m=>m.isVisible)||t[0],[t])?.path||"",c=m=>{const v=i?`${i}/${m}`:`/${m}`;r(v)},u=t.filter(m=>m.path!==""),d=t.filter(m=>m.path===""),h=d.length>0;return f.jsxs(Pu,{children:[u.map(m=>f.jsx(An,{path:`${m.path}/*`,element:f.jsx(Rb,{...e,activeSection:m.path,onSectionChange:c})},m.path)),d.map(m=>f.jsx(An,{path:"*",element:f.jsx(Rb,{...e,activeSection:m.path,onSectionChange:c})},"_index")),!h&&f.jsx(An,{path:"*",element:f.jsx(R1,{to:`${i}/${l}`,replace:!0})})]})}function Z$(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return t<0?t:-t-1}function Q$(e){return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
        <text x="50" y="60" font-family="serif" font-size="48" text-anchor="middle" fill="currentColor">${e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}</text>
    </svg>`}function J$(e,t){return{id:Z$(e),name:e,svg_data:Q$(e),isVirtual:!0,ipaCharacter:e,sourceIndex:t}}function Ap(e,t){return{id:e.id,name:e.name,svg_data:e.svg_data,isVirtual:!1,sourceIndex:t}}function e6(e){if(e.length===0)return null;const t=e[0];if(typeof t=="object"&&t!==null&&"type"in t){const n=t;if(n.type==="grapheme"||n.type==="ipa")return"spelling-display"}return typeof t=="object"&&t!==null&&"glyphs"in t&&Array.isArray(t.glyphs)?"graphemes":typeof t=="object"&&t!==null&&"isVirtual"in t&&"sourceIndex"in t?"renderable":typeof t=="object"&&t!==null&&"svg_data"in t?"glyphs":typeof t=="number"?"ids":null}function t6(e,t){const n=[];let r=0;for(const i of e)if(i.type==="grapheme"&&i.grapheme){const l=t.graphemeMap?.get(i.grapheme.id)?.glyphs??i.grapheme.glyphs;if(l&&l.length>0)for(const c of l)n.push(Ap(c,r++))}else i.type==="ipa"&&i.ipaCharacter&&n.push(J$(i.ipaCharacter,r++));return n}function n6(e){return e.map((t,n)=>Ap(t,n))}function r6(e){const t=[];let n=0;for(const r of e)if(r.glyphs)for(const i of r.glyphs)t.push(Ap(i,n++));return t}function i6(e,t){return t.glyphMap?e.map((n,r)=>{const i=t.glyphMap?.get(n);return i?"isVirtual"in i?{...i,sourceIndex:r}:Ap(i,r):(console.warn(`normalizeIds: Glyph with id ${n} not found in glyphMap`),null)}).filter(n=>n!==null):(console.warn("normalizeIds: glyphMap is required but not provided"),[])}function s6(e,t={}){if(!e||e.length===0)return[];switch(e6(e)){case"spelling-display":return t6(e,t);case"renderable":return e;case"glyphs":return n6(e);case"graphemes":return r6(e);case"ids":return i6(e,t);default:return console.warn("normalizeGlyphInput: Unknown input type"),[]}}function o6(e,t={}){return y.useMemo(()=>s6(e,t),[e,t.glyphMap,t.graphemeMap])}function Os(e){const{glyphWidth:t,glyphHeight:n,padding:r}=e;return{width:r*2+t,height:r*2+n,minX:0,minY:0,maxX:r*2+t,maxY:r*2+n}}function es(e,t){if(e.length===0)return Os(t);const{padding:n}=t;let r=1/0,i=1/0,o=-1/0,l=-1/0;for(const c of e)r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x+c.width),l=Math.max(l,c.y+c.height);return{width:o-r+n*2,height:l-i+n*2,minX:r-n,minY:i-n,maxX:o+n,maxY:l+n}}function a6(e){return`${e.minX} ${e.minY} ${e.width} ${e.height}`}const bT={name:"ltr",calculate(e,t){if(e.length===0)return{positions:[],bounds:Os(t)};const{glyphWidth:n,glyphHeight:r,spacing:i,padding:o}=t,l=e.map((c,u)=>({glyph:c,index:u,x:o+u*(n+i),y:o,width:n,height:r}));return{positions:l,bounds:es(l,t)}}},l6={name:"rtl",calculate(e,t){if(e.length===0)return{positions:[],bounds:Os(t)};const{glyphWidth:n,glyphHeight:r,spacing:i,padding:o}=t,l=e.length*n+(e.length-1)*i,c=o+l-n,u=e.map((d,h)=>({glyph:d,index:h,x:c-h*(n+i),y:o,width:n,height:r}));return{positions:u,bounds:es(u,t)}}},c6={name:"ttb",calculate(e,t){if(e.length===0)return{positions:[],bounds:Os(t)};const{glyphWidth:n,glyphHeight:r,spacing:i,padding:o}=t,l=e.map((c,u)=>({glyph:c,index:u,x:o,y:o+u*(r+i),width:n,height:r}));return{positions:l,bounds:es(l,t)}}},u6={name:"btt",calculate(e,t){if(e.length===0)return{positions:[],bounds:Os(t)};const{glyphWidth:n,glyphHeight:r,spacing:i,padding:o}=t,l=e.length*r+(e.length-1)*i,c=o+l-r,u=e.map((d,h)=>({glyph:d,index:h,x:o,y:c-h*(r+i),width:n,height:r}));return{positions:u,bounds:es(u,t)}}},Ab={name:"block",calculate(e,t){if(e.length===0)return{positions:[],bounds:Os(t)};const{glyphWidth:n,glyphHeight:r,spacing:i,padding:o,maxWidth:l}=t,c=n+i,u=l?l-o*2:1/0,d=l?Math.max(1,Math.floor((u+i)/c)):5,h=e.map((m,v)=>{const x=v%d,w=Math.floor(v/d);return{glyph:m,index:v,x:o+x*(n+i),y:o+w*(r+i),width:n,height:r}});return{positions:h,bounds:es(h,t)}}},d6={name:"spiral",calculate(e,t){if(e.length===0)return{positions:[],bounds:Os(t)};const{glyphWidth:n,glyphHeight:r,spacing:i,padding:o}=t,l=n+i,c=r+i,u=[[1,0],[0,-1],[-1,0],[0,1]],d=[];if(e.length===1)d.push({x:0,y:0});else{let S=0,R=0,k=0,A=1,I=0,j=0;for(let O=0;O<e.length;O++)d.push({x:S,y:R}),S+=u[k][0],R+=u[k][1],I++,I===A&&(I=0,k=(k+1)%4,j++,j===2&&(j=0,A++))}let h=0,m=0,v=0,x=0;for(const S of d)h=Math.min(h,S.x),m=Math.max(m,S.x),v=Math.min(v,S.y),x=Math.max(x,S.y);const w=-h*l+o,b=-v*c+o,T=e.map((S,R)=>({glyph:S,index:R,x:d[R].x*l+w,y:d[R].y*c+b,width:n,height:r}));return{positions:T,bounds:es(T,t)}}},f6={name:"circular",calculate(e,t){if(e.length===0)return{positions:[],bounds:Os(t)};const{glyphWidth:n,glyphHeight:r,spacing:i,padding:o}=t;if(e.length===1){const v=[{glyph:e[0],index:0,x:o,y:o,width:n,height:r}];return{positions:v,bounds:es(v,t)}}if(e.length===2){const v=[{glyph:e[0],index:0,x:o,y:o,width:n,height:r},{glyph:e[1],index:1,x:o+n+i,y:o,width:n,height:r}];return{positions:v,bounds:es(v,t)}}const l=Math.sqrt(n*n+r*r),c=e.length*(l+i),u=Math.max(l,c/(2*Math.PI)),d=o+u+n/2,h=o+u+r/2,m=e.map((v,x)=>{const w=-Math.PI/2+2*Math.PI*x/e.length;return{glyph:v,index:x,x:d+u*Math.cos(w)-n/2,y:h+u*Math.sin(w)-r/2,width:n,height:r}});return{positions:m,bounds:es(m,t)}}},p6={name:"boustrophedon",calculate(e,t){if(e.length===0)return{positions:[],bounds:Os(t)};const{glyphWidth:n,glyphHeight:r,spacing:i,padding:o,maxWidth:l}=t,c=n+i,u=l?l-o*2:1/0,d=l?Math.max(1,Math.floor((u+i)/c)):5,h=d*n+(d-1)*i,m=e.map((v,x)=>{const w=Math.floor(x/d),b=x%d,T=w%2===1;let S;return T?S=o+h-n-b*(n+i):S=o+b*(n+i),{glyph:v,index:x,x:S,y:o+w*(r+i),width:n,height:r}});return{positions:m,bounds:es(m,t)}}};function du(e){return e==="ltr"||e==="rtl"}function Qm(e){return e==="rtl"||e==="btu"}function h6(e,t,n){const r=new Set(t??[]),i=new Set(n??[]);if(r.size===0&&i.size===0)return[{glyphs:e,isLineBreak:!1}];const o=[];let l=[];for(let c=0;c<e.length;c++)i.has(c)?(l.length>0&&(o.push({glyphs:l,isLineBreak:!1}),l=[]),o.push({glyphs:[e[c]],isLineBreak:!0})):r.has(c)?(l.length>0&&(o.push({glyphs:l,isLineBreak:!1}),l=[]),o.push({glyphs:[e[c]],isLineBreak:!1})):l.push(e[c]);return l.length>0&&o.push({glyphs:l,isLineBreak:!1}),o}function m6(e,t,n,r,i){return e===0?{width:0,height:0}:du(t)?{width:e*n+(e-1)*i,height:r}:{width:n,height:e*r+(e-1)*i}}function g6(e,t,n){return{name:"composed-block",calculate(r,i){if(r.length===0)return{positions:[],bounds:Os(i)};const{glyphWidth:o,glyphHeight:l,spacing:c,padding:u,maxWidth:d,maxHeight:h}=i,{glyphDirection:m,wordOrder:v,lineProgression:x,baselineAlignment:w}=e,b=h6(r,t,n),T=du(v),S=du(x),R=T?d?d-u*2:1/0:h?h-u*2:1/0;console.group("[composedBlockStrategy DEBUG]"),console.log("config:",{glyphWidth:o,glyphHeight:l,spacing:c,padding:u,maxWidth:d,maxHeight:h}),console.log("writingSystem:",{glyphDirection:m,wordOrder:v,lineProgression:x,baselineAlignment:w}),console.log("wordBoundaries:",t),console.log("lineBreaks:",n),console.log("total glyphs:",r.length),console.log("wordGroups:",b.length,"groups:",b.map(D=>({len:D.glyphs.length,isLineBreak:D.isLineBreak}))),console.log("wordFlowHorizontal:",T,"lineFlowHorizontal:",S),console.log("maxPrimaryExtent:",R),console.groupEnd();const k=[];let A={words:[],sizes:[]},I=0;for(const D of b){if(D.isLineBreak){A.words.length>0&&k.push(A),A={words:[],sizes:[]},I=0;continue}const $=m6(D.glyphs.length,m,o,l,c),Q=T?$.width:$.height,M=A.words.length>0?c:0,G=I+M+Q>R;e.wordWrap!=="none"&&G&&A.words.length>0&&(k.push(A),A={words:[],sizes:[]},I=0),A.words.push(D.glyphs),A.sizes.push($),I+=(A.words.length>1?c:0)+Q}A.words.length>0&&k.push(A),console.log("[composedBlockStrategy] lines created:",k.length,"words per line:",k.map(D=>D.words.length));const j=[];let O=0;const B=Qm(x)?-1:1;let W=0;for(const D of k){let $=0;for(const G of D.sizes){const J=T?G.height:G.width;$=Math.max($,J)}let Q=0;const M=Qm(v)?D.words.map((G,J)=>D.words.length-1-J):D.words.map((G,J)=>J);for(const G of M){const J=D.words[G],X=D.sizes[G],U=Qm(m)?J.map((P,Y)=>J.length-1-Y):J.map((P,Y)=>Y);let V=0;for(const P of U){const Y=J[P];let re=u,q=u;const oe=W*B;if(S?re+=oe:q+=oe,T?re+=Q:q+=Q,du(m)?re+=V:q+=V,T){const ie=X.height;w==="center"?q+=($-ie)/2:w==="bottom"&&(q+=$-ie)}else{const ie=X.width;w==="center"?re+=($-ie)/2:w==="bottom"&&(re+=$-ie)}j.push({glyph:Y,index:O++,x:re,y:q,width:o,height:l}),du(m)?V+=o+c:V+=l+c}const H=T?X.width:X.height;Q+=H+c}W+=$+c}return{positions:j,bounds:es(j,i)}}}}const y6={ltr:bT,rtl:l6,ttb:c6,btt:u6,spiral:d6,block:Ab,circular:f6,boustrophedon:p6,"composed-block":Ab};function v6(e){const t=y6[e];return t||(console.warn(`Unknown layout strategy: ${e}, falling back to ltr`),bT)}const Jm={glyphWidth:20,glyphHeight:20,spacing:2,padding:4},x6={compact:{glyphWidth:20,glyphHeight:20,spacing:2,padding:4},detailed:{glyphWidth:40,glyphHeight:40,spacing:6,padding:12},tree:{glyphWidth:14,glyphHeight:14,spacing:1,padding:2},input:{glyphWidth:48,glyphHeight:48,spacing:8,padding:16}};function _6(e){return e?typeof e=="string"?{...Jm,...x6[e]}:{...Jm,...e}:Jm}function w6(e,t="ltr",n){return y.useMemo(()=>{const r=_6(n);return(typeof t=="string"?v6(t):t).calculate(e,r)},[e,t,n])}const{entries:ET,setPrototypeOf:jb,isFrozen:b6,getPrototypeOf:E6,getOwnPropertyDescriptor:S6}=Object;let{freeze:_r,seal:Ti,create:fy}=Object,{apply:py,construct:hy}=typeof Reflect<"u"&&Reflect;_r||(_r=function(t){return t});Ti||(Ti=function(t){return t});py||(py=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return t.apply(n,i)});hy||(hy=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const df=wr(Array.prototype.forEach),C6=wr(Array.prototype.lastIndexOf),Ib=wr(Array.prototype.pop),Vc=wr(Array.prototype.push),T6=wr(Array.prototype.splice),jf=wr(String.prototype.toLowerCase),eg=wr(String.prototype.toString),tg=wr(String.prototype.match),Uc=wr(String.prototype.replace),N6=wr(String.prototype.indexOf),k6=wr(String.prototype.trim),Hi=wr(Object.prototype.hasOwnProperty),mr=wr(RegExp.prototype.test),zc=R6(TypeError);function wr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return py(e,t,r)}}function R6(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hy(e,n)}}function ut(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jf;jb&&jb(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const o=n(i);o!==i&&(b6(t)||(t[r]=o),i=o)}e[i]=!0}return e}function A6(e){for(let t=0;t<e.length;t++)Hi(e,t)||(e[t]=null);return e}function vs(e){const t=fy(null);for(const[n,r]of ET(e))Hi(e,n)&&(Array.isArray(r)?t[n]=A6(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=vs(r):t[n]=r);return t}function Wc(e,t){for(;e!==null;){const r=S6(e,t);if(r){if(r.get)return wr(r.get);if(typeof r.value=="function")return wr(r.value)}e=E6(e)}function n(){return null}return n}const Pb=_r(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ng=_r(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rg=_r(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),j6=_r(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ig=_r(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),I6=_r(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Lb=_r(["#text"]),Ob=_r(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sg=_r(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Mb=_r(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ff=_r(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),P6=Ti(/\{\{[\w\W]*|[\w\W]*\}\}/gm),L6=Ti(/<%[\w\W]*|[\w\W]*%>/gm),O6=Ti(/\$\{[\w\W]*/gm),M6=Ti(/^data-[\-\w.\u00B7-\uFFFF]+$/),D6=Ti(/^aria-[\-\w]+$/),ST=Ti(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),F6=Ti(/^(?:\w+script|data):/i),$6=Ti(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),CT=Ti(/^html$/i),B6=Ti(/^[a-z][.\w]*(-[.\w]+)+$/i);var Db=Object.freeze({__proto__:null,ARIA_ATTR:D6,ATTR_WHITESPACE:$6,CUSTOM_ELEMENT:B6,DATA_ATTR:M6,DOCTYPE_NAME:CT,ERB_EXPR:L6,IS_ALLOWED_URI:ST,IS_SCRIPT_OR_DATA:F6,MUSTACHE_EXPR:P6,TMPLIT_EXPR:O6});const Gc={element:1,text:3,progressingInstruction:7,comment:8,document:9},V6=function(){return typeof window>"u"?null:window},U6=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Fb=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function TT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V6();const t=ze=>TT(ze);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Gc.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:d,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:m,DOMParser:v,trustedTypes:x}=e,w=u.prototype,b=Wc(w,"cloneNode"),T=Wc(w,"remove"),S=Wc(w,"nextSibling"),R=Wc(w,"childNodes"),k=Wc(w,"parentNode");if(typeof l=="function"){const ze=n.createElement("template");ze.content&&ze.content.ownerDocument&&(n=ze.content.ownerDocument)}let A,I="";const{implementation:j,createNodeIterator:O,createDocumentFragment:B,getElementsByTagName:W}=n,{importNode:D}=r;let $=Fb();t.isSupported=typeof ET=="function"&&typeof k=="function"&&j&&j.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Q,ERB_EXPR:M,TMPLIT_EXPR:G,DATA_ATTR:J,ARIA_ATTR:X,IS_SCRIPT_OR_DATA:U,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:H}=Db;let{IS_ALLOWED_URI:P}=Db,Y=null;const re=ut({},[...Pb,...ng,...rg,...ig,...Lb]);let q=null;const oe=ut({},[...Ob,...sg,...Mb,...ff]);let ie=Object.seal(fy(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,be=null;const ke=Object.seal(fy(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ee=!0,Me=!0,me=!1,ge=!0,Le=!1,ae=!0,xe=!1,de=!1,Ae=!1,Pe=!1,kt=!1,Ct=!1,dt=!0,$t=!1;const Rt="user-content-";let cn=!0,Wt=!1,_n={},At=null;const wn=ut({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ki=null;const Gr=ut({},["audio","video","img","source","image","track"]);let Hr=null;const po=ut({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ri="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",Jn="http://www.w3.org/1999/xhtml";let Wn=Jn,si=!1,un=null;const ns=ut({},[Ri,Je,Jn],eg);let bn=ut({},["mi","mo","mn","ms","mtext"]),Ln=ut({},["annotation-xml"]);const Ai=ut({},["title","style","font","a","script"]);let ji=null;const je=["application/xhtml+xml","text/html"],Qa="text/html";let qt=null,on=null;const Ds=n.createElement("form"),Fs=function(ne){return ne instanceof RegExp||ne instanceof Function},Yr=function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(on&&on===ne)){if((!ne||typeof ne!="object")&&(ne={}),ne=vs(ne),ji=je.indexOf(ne.PARSER_MEDIA_TYPE)===-1?Qa:ne.PARSER_MEDIA_TYPE,qt=ji==="application/xhtml+xml"?eg:jf,Y=Hi(ne,"ALLOWED_TAGS")?ut({},ne.ALLOWED_TAGS,qt):re,q=Hi(ne,"ALLOWED_ATTR")?ut({},ne.ALLOWED_ATTR,qt):oe,un=Hi(ne,"ALLOWED_NAMESPACES")?ut({},ne.ALLOWED_NAMESPACES,eg):ns,Hr=Hi(ne,"ADD_URI_SAFE_ATTR")?ut(vs(po),ne.ADD_URI_SAFE_ATTR,qt):po,ki=Hi(ne,"ADD_DATA_URI_TAGS")?ut(vs(Gr),ne.ADD_DATA_URI_TAGS,qt):Gr,At=Hi(ne,"FORBID_CONTENTS")?ut({},ne.FORBID_CONTENTS,qt):wn,ve=Hi(ne,"FORBID_TAGS")?ut({},ne.FORBID_TAGS,qt):vs({}),be=Hi(ne,"FORBID_ATTR")?ut({},ne.FORBID_ATTR,qt):vs({}),_n=Hi(ne,"USE_PROFILES")?ne.USE_PROFILES:!1,Ee=ne.ALLOW_ARIA_ATTR!==!1,Me=ne.ALLOW_DATA_ATTR!==!1,me=ne.ALLOW_UNKNOWN_PROTOCOLS||!1,ge=ne.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Le=ne.SAFE_FOR_TEMPLATES||!1,ae=ne.SAFE_FOR_XML!==!1,xe=ne.WHOLE_DOCUMENT||!1,Pe=ne.RETURN_DOM||!1,kt=ne.RETURN_DOM_FRAGMENT||!1,Ct=ne.RETURN_TRUSTED_TYPE||!1,Ae=ne.FORCE_BODY||!1,dt=ne.SANITIZE_DOM!==!1,$t=ne.SANITIZE_NAMED_PROPS||!1,cn=ne.KEEP_CONTENT!==!1,Wt=ne.IN_PLACE||!1,P=ne.ALLOWED_URI_REGEXP||ST,Wn=ne.NAMESPACE||Jn,bn=ne.MATHML_TEXT_INTEGRATION_POINTS||bn,Ln=ne.HTML_INTEGRATION_POINTS||Ln,ie=ne.CUSTOM_ELEMENT_HANDLING||{},ne.CUSTOM_ELEMENT_HANDLING&&Fs(ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ie.tagNameCheck=ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&Fs(ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ie.attributeNameCheck=ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&typeof ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ie.allowCustomizedBuiltInElements=ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Le&&(Me=!1),kt&&(Pe=!0),_n&&(Y=ut({},Lb),q=[],_n.html===!0&&(ut(Y,Pb),ut(q,Ob)),_n.svg===!0&&(ut(Y,ng),ut(q,sg),ut(q,ff)),_n.svgFilters===!0&&(ut(Y,rg),ut(q,sg),ut(q,ff)),_n.mathMl===!0&&(ut(Y,ig),ut(q,Mb),ut(q,ff))),ne.ADD_TAGS&&(typeof ne.ADD_TAGS=="function"?ke.tagCheck=ne.ADD_TAGS:(Y===re&&(Y=vs(Y)),ut(Y,ne.ADD_TAGS,qt))),ne.ADD_ATTR&&(typeof ne.ADD_ATTR=="function"?ke.attributeCheck=ne.ADD_ATTR:(q===oe&&(q=vs(q)),ut(q,ne.ADD_ATTR,qt))),ne.ADD_URI_SAFE_ATTR&&ut(Hr,ne.ADD_URI_SAFE_ATTR,qt),ne.FORBID_CONTENTS&&(At===wn&&(At=vs(At)),ut(At,ne.FORBID_CONTENTS,qt)),ne.ADD_FORBID_CONTENTS&&(At===wn&&(At=vs(At)),ut(At,ne.ADD_FORBID_CONTENTS,qt)),cn&&(Y["#text"]=!0),xe&&ut(Y,["html","head","body"]),Y.table&&(ut(Y,["tbody"]),delete ve.tbody),ne.TRUSTED_TYPES_POLICY){if(typeof ne.TRUSTED_TYPES_POLICY.createHTML!="function")throw zc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ne.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw zc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=ne.TRUSTED_TYPES_POLICY,I=A.createHTML("")}else A===void 0&&(A=U6(x,i)),A!==null&&typeof I=="string"&&(I=A.createHTML(""));_r&&_r(ne),on=ne}},br=ut({},[...ng,...rg,...j6]),Ii=ut({},[...ig,...I6]),On=function(ne){let Se=k(ne);(!Se||!Se.tagName)&&(Se={namespaceURI:Wn,tagName:"template"});const Fe=jf(ne.tagName),Tt=jf(Se.tagName);return un[ne.namespaceURI]?ne.namespaceURI===Je?Se.namespaceURI===Jn?Fe==="svg":Se.namespaceURI===Ri?Fe==="svg"&&(Tt==="annotation-xml"||bn[Tt]):!!br[Fe]:ne.namespaceURI===Ri?Se.namespaceURI===Jn?Fe==="math":Se.namespaceURI===Je?Fe==="math"&&Ln[Tt]:!!Ii[Fe]:ne.namespaceURI===Jn?Se.namespaceURI===Je&&!Ln[Tt]||Se.namespaceURI===Ri&&!bn[Tt]?!1:!Ii[Fe]&&(Ai[Fe]||!br[Fe]):!!(ji==="application/xhtml+xml"&&un[ne.namespaceURI]):!1},En=function(ne){Vc(t.removed,{element:ne});try{k(ne).removeChild(ne)}catch{T(ne)}},Sn=function(ne,Se){try{Vc(t.removed,{attribute:Se.getAttributeNode(ne),from:Se})}catch{Vc(t.removed,{attribute:null,from:Se})}if(Se.removeAttribute(ne),ne==="is")if(Pe||kt)try{En(Se)}catch{}else try{Se.setAttribute(ne,"")}catch{}},rs=function(ne){let Se=null,Fe=null;if(Ae)ne="<remove></remove>"+ne;else{const Gt=tg(ne,/^[\r\n\t ]+/);Fe=Gt&&Gt[0]}ji==="application/xhtml+xml"&&Wn===Jn&&(ne='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ne+"</body></html>");const Tt=A?A.createHTML(ne):ne;if(Wn===Jn)try{Se=new v().parseFromString(Tt,ji)}catch{}if(!Se||!Se.documentElement){Se=j.createDocument(Wn,"template",null);try{Se.documentElement.innerHTML=si?I:Tt}catch{}}const at=Se.body||Se.documentElement;return ne&&Fe&&at.insertBefore(n.createTextNode(Fe),at.childNodes[0]||null),Wn===Jn?W.call(Se,xe?"html":"body")[0]:xe?Se.documentElement:at},$s=function(ne){return O.call(ne.ownerDocument||ne,ne,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},is=function(ne){return ne instanceof m&&(typeof ne.nodeName!="string"||typeof ne.textContent!="string"||typeof ne.removeChild!="function"||!(ne.attributes instanceof h)||typeof ne.removeAttribute!="function"||typeof ne.setAttribute!="function"||typeof ne.namespaceURI!="string"||typeof ne.insertBefore!="function"||typeof ne.hasChildNodes!="function")},mn=function(ne){return typeof c=="function"&&ne instanceof c};function Er(ze,ne,Se){df(ze,Fe=>{Fe.call(t,ne,Se,on)})}const oi=function(ne){let Se=null;if(Er($.beforeSanitizeElements,ne,null),is(ne))return En(ne),!0;const Fe=qt(ne.nodeName);if(Er($.uponSanitizeElement,ne,{tagName:Fe,allowedTags:Y}),ae&&ne.hasChildNodes()&&!mn(ne.firstElementChild)&&mr(/<[/\w!]/g,ne.innerHTML)&&mr(/<[/\w!]/g,ne.textContent)||ne.nodeType===Gc.progressingInstruction||ae&&ne.nodeType===Gc.comment&&mr(/<[/\w]/g,ne.data))return En(ne),!0;if(!(ke.tagCheck instanceof Function&&ke.tagCheck(Fe))&&(!Y[Fe]||ve[Fe])){if(!ve[Fe]&&fa(Fe)&&(ie.tagNameCheck instanceof RegExp&&mr(ie.tagNameCheck,Fe)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(Fe)))return!1;if(cn&&!At[Fe]){const Tt=k(ne)||ne.parentNode,at=R(ne)||ne.childNodes;if(at&&Tt){const Gt=at.length;for(let Kt=Gt-1;Kt>=0;--Kt){const ur=b(at[Kt],!0);ur.__removalCount=(ne.__removalCount||0)+1,Tt.insertBefore(ur,S(ne))}}}return En(ne),!0}return ne instanceof u&&!On(ne)||(Fe==="noscript"||Fe==="noembed"||Fe==="noframes")&&mr(/<\/no(script|embed|frames)/i,ne.innerHTML)?(En(ne),!0):(Le&&ne.nodeType===Gc.text&&(Se=ne.textContent,df([Q,M,G],Tt=>{Se=Uc(Se,Tt," ")}),ne.textContent!==Se&&(Vc(t.removed,{element:ne.cloneNode()}),ne.textContent=Se)),Er($.afterSanitizeElements,ne,null),!1)},Bs=function(ne,Se,Fe){if(dt&&(Se==="id"||Se==="name")&&(Fe in n||Fe in Ds))return!1;if(!(Me&&!be[Se]&&mr(J,Se))){if(!(Ee&&mr(X,Se))){if(!(ke.attributeCheck instanceof Function&&ke.attributeCheck(Se,ne))){if(!q[Se]||be[Se]){if(!(fa(ne)&&(ie.tagNameCheck instanceof RegExp&&mr(ie.tagNameCheck,ne)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(ne))&&(ie.attributeNameCheck instanceof RegExp&&mr(ie.attributeNameCheck,Se)||ie.attributeNameCheck instanceof Function&&ie.attributeNameCheck(Se,ne))||Se==="is"&&ie.allowCustomizedBuiltInElements&&(ie.tagNameCheck instanceof RegExp&&mr(ie.tagNameCheck,Fe)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(Fe))))return!1}else if(!Hr[Se]){if(!mr(P,Uc(Fe,V,""))){if(!((Se==="src"||Se==="xlink:href"||Se==="href")&&ne!=="script"&&N6(Fe,"data:")===0&&ki[ne])){if(!(me&&!mr(U,Uc(Fe,V,"")))){if(Fe)return!1}}}}}}}return!0},fa=function(ne){return ne!=="annotation-xml"&&tg(ne,H)},ho=function(ne){Er($.beforeSanitizeAttributes,ne,null);const{attributes:Se}=ne;if(!Se||is(ne))return;const Fe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q,forceKeepAttr:void 0};let Tt=Se.length;for(;Tt--;){const at=Se[Tt],{name:Gt,namespaceURI:Kt,value:ur}=at,er=qt(Gt),mo=ur;let It=Gt==="value"?mo:k6(mo);if(Fe.attrName=er,Fe.attrValue=It,Fe.keepAttr=!0,Fe.forceKeepAttr=void 0,Er($.uponSanitizeAttribute,ne,Fe),It=Fe.attrValue,$t&&(er==="id"||er==="name")&&(Sn(Gt,ne),It=Rt+It),ae&&mr(/((--!?|])>)|<\/(style|title|textarea)/i,It)){Sn(Gt,ne);continue}if(er==="attributename"&&tg(It,"href")){Sn(Gt,ne);continue}if(Fe.forceKeepAttr)continue;if(!Fe.keepAttr){Sn(Gt,ne);continue}if(!ge&&mr(/\/>/i,It)){Sn(Gt,ne);continue}Le&&df([Q,M,G],tr=>{It=Uc(It,tr," ")});const Pi=qt(ne.nodeName);if(!Bs(Pi,er,It)){Sn(Gt,ne);continue}if(A&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!Kt)switch(x.getAttributeType(Pi,er)){case"TrustedHTML":{It=A.createHTML(It);break}case"TrustedScriptURL":{It=A.createScriptURL(It);break}}if(It!==mo)try{Kt?ne.setAttributeNS(Kt,Gt,It):ne.setAttribute(Gt,It),is(ne)?En(ne):Ib(t.removed)}catch{Sn(Gt,ne)}}Er($.afterSanitizeAttributes,ne,null)},pa=function ze(ne){let Se=null;const Fe=$s(ne);for(Er($.beforeSanitizeShadowDOM,ne,null);Se=Fe.nextNode();)Er($.uponSanitizeShadowNode,Se,null),oi(Se),ho(Se),Se.content instanceof o&&ze(Se.content);Er($.afterSanitizeShadowDOM,ne,null)};return t.sanitize=function(ze){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=null,Fe=null,Tt=null,at=null;if(si=!ze,si&&(ze="<!-->"),typeof ze!="string"&&!mn(ze))if(typeof ze.toString=="function"){if(ze=ze.toString(),typeof ze!="string")throw zc("dirty is not a string, aborting")}else throw zc("toString is not a function");if(!t.isSupported)return ze;if(de||Yr(ne),t.removed=[],typeof ze=="string"&&(Wt=!1),Wt){if(ze.nodeName){const ur=qt(ze.nodeName);if(!Y[ur]||ve[ur])throw zc("root node is forbidden and cannot be sanitized in-place")}}else if(ze instanceof c)Se=rs("<!---->"),Fe=Se.ownerDocument.importNode(ze,!0),Fe.nodeType===Gc.element&&Fe.nodeName==="BODY"||Fe.nodeName==="HTML"?Se=Fe:Se.appendChild(Fe);else{if(!Pe&&!Le&&!xe&&ze.indexOf("<")===-1)return A&&Ct?A.createHTML(ze):ze;if(Se=rs(ze),!Se)return Pe?null:Ct?I:""}Se&&Ae&&En(Se.firstChild);const Gt=$s(Wt?ze:Se);for(;Tt=Gt.nextNode();)oi(Tt),ho(Tt),Tt.content instanceof o&&pa(Tt.content);if(Wt)return ze;if(Pe){if(kt)for(at=B.call(Se.ownerDocument);Se.firstChild;)at.appendChild(Se.firstChild);else at=Se;return(q.shadowroot||q.shadowrootmode)&&(at=D.call(r,at,!0)),at}let Kt=xe?Se.outerHTML:Se.innerHTML;return xe&&Y["!doctype"]&&Se.ownerDocument&&Se.ownerDocument.doctype&&Se.ownerDocument.doctype.name&&mr(CT,Se.ownerDocument.doctype.name)&&(Kt="<!DOCTYPE "+Se.ownerDocument.doctype.name+`>
`+Kt),Le&&df([Q,M,G],ur=>{Kt=Uc(Kt,ur," ")}),A&&Ct?A.createHTML(Kt):Kt},t.setConfig=function(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Yr(ze),de=!0},t.clearConfig=function(){on=null,de=!1},t.isValidAttribute=function(ze,ne,Se){on||Yr({});const Fe=qt(ze),Tt=qt(ne);return Bs(Fe,Tt,Se)},t.addHook=function(ze,ne){typeof ne=="function"&&Vc($[ze],ne)},t.removeHook=function(ze,ne){if(ne!==void 0){const Se=C6($[ze],ne);return Se===-1?void 0:T6($[ze],Se,1)[0]}return Ib($[ze])},t.removeHooks=function(ze){$[ze]=[]},t.removeAllHooks=function(){$=Fb()},t}var $v=TT();const z6="_container_1j40e_1",W6="_interactive_1j40e_5",G6="_centered_1j40e_9",H6="_empty_1j40e_15",Y6="_svg_1j40e_24",X6="_virtualGlyph_1j40e_41",q6="_virtualBorder_1j40e_45",K6="_interactiveContainer_1j40e_50",Z6="_controls_1j40e_60",Q6="_controlButton_1j40e_70",J6="_paperEffect_1j40e_97",eB="_paperBackground_1j40e_101",or={container:z6,interactive:W6,centered:G6,empty:H6,svg:Y6,virtualGlyph:X6,virtualBorder:q6,interactiveContainer:K6,controls:Z6,controlButton:Q6,paperEffect:J6,paperBackground:eB},tB=y.memo(function({positioned:t,showVirtualGlyphStyling:n}){const{glyph:r,x:i,y:o,width:l,height:c,rotation:u}=t,d=y.useMemo(()=>{const m=$v.sanitize(r.svg_data,{USE_PROFILES:{svg:!0,svgFilters:!0}}),w=new DOMParser().parseFromString(m,"image/svg+xml").documentElement;return w.setAttribute("x",String(i)),w.setAttribute("y",String(o)),w.setAttribute("width",String(l)),w.setAttribute("height",String(c)),w.getAttribute("viewBox")||w.setAttribute("viewBox","0 0 100 100"),new XMLSerializer().serializeToString(w)},[r.svg_data,i,o,l,c]),h=u?`rotate(${u} ${i+l/2} ${o+c/2})`:void 0;return f.jsxs("g",{transform:h,className:Z({[or.virtualGlyph]:r.isVirtual&&n}),children:[f.jsx("g",{dangerouslySetInnerHTML:{__html:d}}),r.isVirtual&&n&&f.jsx("rect",{x:i,y:o,width:l,height:c,rx:Math.min(l,c)*.05,ry:Math.min(l,c)*.05,className:or.virtualBorder,fill:"none",strokeDasharray:"2,2"})]})}),NT=y.memo(y.forwardRef(function({positions:t,bounds:n,showVirtualGlyphStyling:r=!0,className:i,backgroundColor:o,showPaperEffect:l=!1,zoom:c=1},u){const d=a6(n);return f.jsxs("svg",{ref:u,className:Z(or.svg,i,{[or.paperEffect]:l}),viewBox:d,preserveAspectRatio:"xMidYMid meet",width:n.width,height:n.height,style:{backgroundColor:o,transform:c!==1?`scale(${c})`:void 0,transformOrigin:"top left"},children:[l&&f.jsx("rect",{x:n.minX,y:n.minY,width:n.width,height:n.height,fill:o||"white",className:or.paperBackground}),t.map(h=>f.jsx(tB,{positioned:h,showVirtualGlyphStyling:r},`glyph-${h.glyph.id}-${h.index}`))]})}));var Si=function(e,t){return Number(e.toFixed(t))},nB=function(e,t){return t},Qt=function(e,t,n){n&&typeof n=="function"&&n(e,t)},rB=function(e){return-Math.cos(e*Math.PI)/2+.5},iB=function(e){return e},sB=function(e){return e*e},oB=function(e){return e*(2-e)},aB=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},lB=function(e){return e*e*e},cB=function(e){return--e*e*e+1},uB=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},dB=function(e){return e*e*e*e},fB=function(e){return 1- --e*e*e*e},pB=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},hB=function(e){return e*e*e*e*e},mB=function(e){return 1+--e*e*e*e*e},gB=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},kT={easeOut:rB,linear:iB,easeInQuad:sB,easeOutQuad:oB,easeInOutQuad:aB,easeInCubic:lB,easeOutCubic:cB,easeInOutCubic:uB,easeInQuart:dB,easeOutQuart:fB,easeInOutQuart:pB,easeInQuint:hB,easeOutQuint:mB,easeInOutQuint:gB},RT=function(e){typeof e=="number"&&cancelAnimationFrame(e)},qi=function(e){e.mounted&&(RT(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function AT(e,t,n,r){if(e.mounted){var i=new Date().getTime(),o=1;qi(e),e.animation=function(){if(!e.mounted)return RT(e.animation);var l=new Date().getTime()-i,c=l/n,u=kT[t],d=u(c);l>=n?(r(o),e.animation=null):e.animation&&(r(d),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function yB(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}function ua(e,t,n,r){var i=yB(t);if(!(!e.mounted||!i)){var o=e.setTransformState,l=e.transformState,c=l.scale,u=l.positionX,d=l.positionY,h=t.scale-c,m=t.positionX-u,v=t.positionY-d;n===0?o(t.scale,t.positionX,t.positionY):AT(e,r,n,function(x){var w=c+h*x,b=u+m*x,T=d+v*x;o(w,b,T)})}}function vB(e,t,n){var r=e.offsetWidth,i=e.offsetHeight,o=t.offsetWidth,l=t.offsetHeight,c=o*n,u=l*n,d=r-c,h=i-u;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:c,newDiffWidth:d,newContentHeight:u,newDiffHeight:h}}var xB=function(e,t,n,r,i,o,l){var c=e>t?n*(l?1:.5):0,u=r>i?o*(l?1:.5):0,d=e-t-c,h=c,m=r-i-u,v=u;return{minPositionX:d,maxPositionX:h,minPositionY:m,maxPositionY:v}},Bv=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,i=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var o=vB(n,r,t),l=o.wrapperWidth,c=o.wrapperHeight,u=o.newContentWidth,d=o.newDiffWidth,h=o.newContentHeight,m=o.newDiffHeight,v=xB(l,u,d,c,h,m,!!i);return v},my=function(e,t,n,r){return r?e<t?Si(t,2):e>n?Si(n,2):Si(e,2):Si(e,2)},Ga=function(e,t){var n=Bv(e,t);return e.bounds=n,n};function Gu(e,t,n,r,i,o,l){var c=n.minPositionX,u=n.minPositionY,d=n.maxPositionX,h=n.maxPositionY,m=0,v=0;l&&(m=i,v=o);var x=my(e,c-m,d+m,r),w=my(t,u-v,h+v,r);return{x,y:w}}function jp(e,t,n,r,i,o){var l=e.transformState,c=l.scale,u=l.positionX,d=l.positionY,h=r-c;if(typeof t!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:u,y:d};var m=u-t*h,v=d-n*h,x=Gu(m,v,i,o,0,0,null);return x}function Hu(e,t,n,r,i){var o=i?r:0,l=t-o;return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=l?l:e}var $b=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,i=e.wrapperComponent,o=t.target,l="shadowRoot"in o&&"composedPath"in t,c=l?t.composedPath().some(function(h){return h instanceof Element?i?.contains(h):!1}):i?.contains(o),u=r&&o&&c;if(!u)return!1;var d=Ip(o,n);return!d},Bb=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup,i=r.panning.disabled,o=t&&n&&!i;return!!o},_B=function(e,t){var n=e.transformState,r=n.positionX,i=n.positionY;e.isPanning=!0;var o=t.clientX,l=t.clientY;e.startCoords={x:o-r,y:l-i}},wB=function(e,t){var n=t.touches,r=e.transformState,i=r.positionX,o=r.positionY;e.isPanning=!0;var l=n.length===1;if(l){var c=n[0].clientX,u=n[0].clientY;e.startCoords={x:c-i,y:u-o}}};function bB(e){var t=e.transformState,n=t.positionX,r=t.positionY,i=t.scale,o=e.setup,l=o.disabled,c=o.limitToBounds,u=o.centerZoomedOut,d=e.wrapperComponent;if(!(l||!d||!e.bounds)){var h=e.bounds,m=h.maxPositionX,v=h.minPositionX,x=h.maxPositionY,w=h.minPositionY,b=n>m||n<v,T=r>x||r<w,S=n>m?d.offsetWidth:e.setup.minPositionX||0,R=r>x?d.offsetHeight:e.setup.minPositionY||0,k=jp(e,S,R,i,e.bounds,c||u),A=k.x,I=k.y;return{scale:i,positionX:b?A:n,positionY:T?I:r}}}function jT(e,t,n,r,i){var o=e.setup.limitToBounds,l=e.wrapperComponent,c=e.bounds,u=e.transformState,d=u.scale,h=u.positionX,m=u.positionY;if(!(l===null||c===null||t===h&&n===m)){var v=Gu(t,n,c,o,r,i,l),x=v.x,w=v.y;e.setTransformState(d,x,w)}}var EB=function(e,t,n){var r=e.startCoords,i=e.transformState,o=e.setup.panning,l=o.lockAxisX,c=o.lockAxisY,u=i.positionX,d=i.positionY;if(!r)return{x:u,y:d};var h=t-r.x,m=n-r.y,v=l?u:h,x=c?d:m;return{x:v,y:x}},sa=function(e,t){var n=e.setup,r=e.transformState,i=r.scale,o=n.minScale,l=n.disablePadding;return t>0&&i>=o&&!l?t:0},SB=function(e){var t=e.mounted,n=e.setup,r=n.disabled,i=n.velocityAnimation,o=e.transformState.scale,l=i.disabled,c=!l||o>1||!r||t;return!!c},CB=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,i=e.setup,o=i.disabled,l=i.velocityAnimation,c=e.transformState.scale,u=l.disabled,d=!u||c>1||!o||t;return!(!d||!n||!r)};function TB(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,i=n.animationTime,o=n.sensitivity;return r?i*t*o:i}function Vb(e,t,n,r,i,o,l,c,u,d){if(i){if(t>l&&n>l){var h=l+(e-l)*d;return h>u?u:h<l?l:h}if(t<o&&n<o){var h=o+(e-o)*d;return h<c?c:h>o?o:h}}return r?t:my(e,o,l,i)}function NB(e,t){var n=1;return t?Math.min(n,e.offsetWidth/window.innerWidth):n}function kB(e,t){var n=SB(e);if(n){var r=e.lastMousePosition,i=e.velocityTime,o=e.setup,l=e.wrapperComponent,c=o.velocityAnimation.equalToMove,u=Date.now();if(r&&i&&l){var d=NB(l,c),h=t.x-r.x,m=t.y-r.y,v=h/d,x=m/d,w=u-i,b=h*h+m*m,T=Math.sqrt(b)/w;e.velocity={velocityX:v,velocityY:x,total:T}}e.lastMousePosition=t,e.velocityTime=u}}function RB(e){var t=e.velocity,n=e.bounds,r=e.setup,i=e.wrapperComponent,o=CB(e);if(!(!o||!t||!n||!i)){var l=t.velocityX,c=t.velocityY,u=t.total,d=n.maxPositionX,h=n.minPositionX,m=n.maxPositionY,v=n.minPositionY,x=r.limitToBounds,w=r.alignmentAnimation,b=r.zoomAnimation,T=r.panning,S=T.lockAxisY,R=T.lockAxisX,k=b.animationType,A=w.sizeX,I=w.sizeY,j=w.velocityAlignmentTime,O=j,B=TB(e,u),W=Math.max(B,O),D=sa(e,A),$=sa(e,I),Q=D*i.offsetWidth/100,M=$*i.offsetHeight/100,G=d+Q,J=h-Q,X=m+M,U=v-M,V=e.transformState,H=new Date().getTime();AT(e,k,W,function(P){var Y=e.transformState,re=Y.scale,q=Y.positionX,oe=Y.positionY,ie=new Date().getTime()-H,ve=ie/O,be=kT[w.animationType],ke=1-be(Math.min(1,ve)),Ee=1-P,Me=q+l*Ee,me=oe+c*Ee,ge=Vb(Me,V.positionX,q,R,x,h,d,J,G,ke),Le=Vb(me,V.positionY,oe,S,x,v,m,U,X,ke);(q!==Me||oe!==me)&&e.setTransformState(re,ge,Le)})}}function Ub(e,t){var n=e.transformState.scale;qi(e),Ga(e,n),window.TouchEvent!==void 0&&t instanceof TouchEvent?wB(e,t):_B(e,t)}function Vv(e,t){var n=e.transformState.scale,r=e.setup,i=r.minScale,o=r.alignmentAnimation,l=o.disabled,c=o.sizeX,u=o.sizeY,d=o.animationTime,h=o.animationType,m=l||n<i||!c&&!u;if(!m){var v=bB(e);v&&ua(e,v,t??d,h)}}function zb(e,t,n){var r=e.startCoords,i=e.setup,o=i.alignmentAnimation,l=o.sizeX,c=o.sizeY;if(r){var u=EB(e,t,n),d=u.x,h=u.y,m=sa(e,l),v=sa(e,c);kB(e,{x:d,y:h}),jT(e,d,h,m,v)}}function AB(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=r?.getBoundingClientRect(),l=i?.getBoundingClientRect(),c=o?.width||0,u=o?.height||0,d=l?.width||0,h=l?.height||0,m=c<d||u<h,v=!t&&n&&n?.total>.1&&m;v?RB(e):Vv(e)}}function Uv(e,t,n,r){var i=e.setup,o=i.minScale,l=i.maxScale,c=i.limitToBounds,u=Hu(Si(t,2),o,l,0,!1),d=Ga(e,u),h=jp(e,n,r,u,d,c),m=h.x,v=h.y;return{scale:u,positionX:m,positionY:v}}function IT(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,l=o.minScale,c=o.limitToBounds,u=o.zoomAnimation,d=u.disabled,h=u.animationTime,m=u.animationType,v=d||r>=l;if((r>=1||c)&&Vv(e),!(v||!i||!e.mounted)){var x=t||i.offsetWidth/2,w=n||i.offsetHeight/2,b=Uv(e,l,x,w);b&&ua(e,b,h,m)}}var Qo=function(){return Qo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Qo.apply(this,arguments)};function Wb(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var pf={scale:1,positionX:0,positionY:0},Hc={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},gy={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},PT=function(e){var t,n,r,i;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:pf.scale,scale:(n=e.initialScale)!==null&&n!==void 0?n:pf.scale,positionX:(r=e.initialPositionX)!==null&&r!==void 0?r:pf.positionX,positionY:(i=e.initialPositionY)!==null&&i!==void 0?i:pf.positionY}},Gb=function(e){var t=Qo({},Hc);return Object.keys(e).forEach(function(n){var r=typeof e[n]<"u",i=typeof Hc[n]<"u";if(i&&r){var o=Object.prototype.toString.call(Hc[n]),l=o==="[object Object]",c=o==="[object Array]";l?t[n]=Qo(Qo({},Hc[n]),e[n]):c?t[n]=Wb(Wb([],Hc[n],!0),e[n]):t[n]=e[n]}}),t},LT=function(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,l=o.maxScale,c=o.minScale,u=o.zoomAnimation,d=o.smooth,h=u.size;if(!i)throw new Error("Wrapper is not mounted");var m=d?r*Math.exp(t*n):r+t*n,v=Hu(Si(m,3),c,l,h,!1);return v};function OT(e,t,n,r,i){var o=e.wrapperComponent,l=e.transformState,c=l.scale,u=l.positionX,d=l.positionY;if(!o)return console.error("No WrapperComponent found");var h=o.offsetWidth,m=o.offsetHeight,v=(h/2-u)/c,x=(m/2-d)/c,w=LT(e,t,n),b=Uv(e,w,v,x);if(!b)return console.error("Error during zoom event. New transformation state was not calculated.");ua(e,b,r,i)}function MT(e,t,n,r){var i=e.setup,o=e.wrapperComponent,l=i.limitToBounds,c=PT(e.props),u=e.transformState,d=u.scale,h=u.positionX,m=u.positionY;if(o){var v=Bv(e,c.scale),x=Gu(c.positionX,c.positionY,v,l,0,0,o),w={scale:c.scale,positionX:x.x,positionY:x.y};d===c.scale&&h===c.positionX&&m===c.positionY||(r?.(),ua(e,w,t,n))}}function jB(e,t,n,r){var i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),l=n.getBoundingClientRect(),c=o.x*r.scale,u=o.y*r.scale;return{x:(i.x-l.x+c)/r.scale,y:(i.y-l.y+u)/r.scale}}function IB(e,t,n){var r=e.wrapperComponent,i=e.contentComponent,o=e.transformState,l=e.setup,c=l.limitToBounds,u=l.minScale,d=l.maxScale;if(!r||!i)return o;var h=r.getBoundingClientRect(),m=t.getBoundingClientRect(),v=jB(t,r,i,o),x=v.x,w=v.y,b=m.width/o.scale,T=m.height/o.scale,S=r.offsetWidth/b,R=r.offsetHeight/T,k=Hu(n||Math.min(S,R),u,d,0,!1),A=(h.width-b*k)/2,I=(h.height-T*k)/2,j=(h.left-x)*k+A,O=(h.top-w)*k+I,B=Bv(e,k),W=Gu(j,O,B,c,0,0,r),D=W.x,$=W.y;return{positionX:D,positionY:$,scale:k}}var PB=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),OT(e,1,t,n,r)}},LB=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),OT(e,-1,t,n,r)}},OB=function(e){return function(t,n,r,i,o){i===void 0&&(i=300),o===void 0&&(o="easeOut");var l=e.transformState,c=l.positionX,u=l.positionY,d=l.scale,h=e.wrapperComponent,m=e.contentComponent,v=e.setup.disabled;if(!(v||!h||!m)){var x={positionX:Number.isNaN(t)?c:t,positionY:Number.isNaN(n)?u:n,scale:Number.isNaN(r)?d:r};ua(e,x,i,o)}}},MB=function(e){return function(t,n){t===void 0&&(t=200),n===void 0&&(n="easeOut"),MT(e,t,n)}},DB=function(e){return function(t,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var i=e.transformState,o=e.wrapperComponent,l=e.contentComponent;if(o&&l){var c=DT(t||i.scale,o,l);ua(e,c,n,r)}}},FB=function(e){return function(t,n,r,i){r===void 0&&(r=600),i===void 0&&(i="easeOut"),qi(e);var o=e.wrapperComponent,l=typeof t=="string"?document.getElementById(t):t;if(o&&l&&o.contains(l)){var c=IB(e,l,n);ua(e,c,r,i)}}},yy=function(e){return{instance:e,zoomIn:PB(e),zoomOut:LB(e),setTransform:OB(e),resetTransform:MB(e),centerView:DB(e),zoomToElement:FB(e)}},$B=function(e){return{instance:e,state:e.transformState}},zt=function(e){var t={};return Object.assign(t,$B(e)),Object.assign(t,yy(e)),t},og=!1;function ag(){try{var e={get passive(){return og=!0,!1}};return e}catch{return og=!1,og}}var hf=".".concat(gy.wrapperClass),Ip=function(e,t){return t.some(function(n){return e.matches("".concat(hf," ").concat(n,", ").concat(hf," .").concat(n,", ").concat(hf," ").concat(n," *, ").concat(hf," .").concat(n," *"))})},vy=function(e){e&&clearTimeout(e)},BB=function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")},DT=function(e,t,n){var r=n.offsetWidth*e,i=n.offsetHeight*e,o=(t.offsetWidth-r)/2,l=(t.offsetHeight-i)/2;return{scale:e,positionX:o,positionY:l}};function VB(e){return function(t){e.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var UB=function(e,t){var n=e.setup.wheel,r=n.disabled,i=n.wheelDisabled,o=n.touchPadDisabled,l=n.excluded,c=e.isInitialized,u=e.isPanning,d=t.target,h=c&&!u&&!r&&d;if(!h||i&&!t.ctrlKey||o&&t.ctrlKey)return!1;var m=Ip(d,l);return!m},zB=function(e){return e?e.deltaY<0?1:-1:0};function WB(e,t){var n=zB(e),r=nB(t,n);return r}function FT(e,t,n){var r=t.getBoundingClientRect(),i=0,o=0;if("clientX"in e)i=(e.clientX-r.left)/n,o=(e.clientY-r.top)/n;else{var l=e.touches[0];i=(l.clientX-r.left)/n,o=(l.clientY-r.top)/n}return(Number.isNaN(i)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var GB=function(e,t,n,r,i){var o=e.transformState.scale,l=e.wrapperComponent,c=e.setup,u=c.maxScale,d=c.minScale,h=c.zoomAnimation,m=c.disablePadding,v=h.size,x=h.disabled;if(!l)throw new Error("Wrapper is not mounted");var w=o+t*n,b=r?!1:!x,T=Hu(Si(w,3),d,u,v,b&&!m);return T},HB=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,i=e.setup,o=i.maxScale,l=i.minScale;return n?r<o||r>l||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY):!1},YB=function(e,t){var n=e.setup.pinch,r=n.disabled,i=n.excluded,o=e.isInitialized,l=t.target,c=o&&!r&&l;if(!c)return!1;var u=Ip(l,i);return!u},XB=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance,i=n&&!t&&r;return!!i},qB=function(e,t,n){var r=n.getBoundingClientRect(),i=e.touches,o=Si(i[0].clientX-r.left,5),l=Si(i[0].clientY-r.top,5),c=Si(i[1].clientX-r.left,5),u=Si(i[1].clientY-r.top,5);return{x:(o+c)/2/t,y:(l+u)/2/t}},$T=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},KB=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,i=e.setup,o=i.maxScale,l=i.minScale,c=i.zoomAnimation,u=i.disablePadding,d=c.size,h=c.disabled;if(!n||r===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var m=t/r,v=m*n;return Hu(Si(v,2),l,o,d,!h&&!u)},ZB=160,QB=100,JB=function(e,t){var n=e.props,r=n.onWheelStart,i=n.onZoomStart;e.wheelStopEventTimer||(qi(e),Qt(zt(e),t,r),Qt(zt(e),t,i))},e8=function(e,t){var n=e.props,r=n.onWheel,i=n.onZoom,o=e.contentComponent,l=e.setup,c=e.transformState,u=c.scale,d=l.limitToBounds,h=l.centerZoomedOut,m=l.zoomAnimation,v=l.wheel,x=l.disablePadding,w=l.smooth,b=m.size,T=m.disabled,S=v.step,R=v.smoothStep;if(!o)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var k=WB(t,null),A=w?R*Math.abs(t.deltaY):S,I=GB(e,k,A,!t.ctrlKey);if(u!==I){var j=Ga(e,I),O=FT(t,o,u),B=T||b===0||h||x,W=d&&B,D=jp(e,O.x,O.y,I,j,W),$=D.x,Q=D.y;e.previousWheelEvent=t,e.setTransformState(I,$,Q),Qt(zt(e),t,r),Qt(zt(e),t,i)}},t8=function(e,t){var n=e.props,r=n.onWheelStop,i=n.onZoomStop;vy(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(IT(e,t.x,t.y),e.wheelAnimationTimer=null)},QB);var o=HB(e,t);o&&(vy(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,Qt(zt(e),t,r),Qt(zt(e),t,i))},ZB))},BT=function(e){for(var t=0,n=0,r=0;r<2;r+=1)t+=e.touches[r].clientX,n+=e.touches[r].clientY;var i=t/2,o=n/2;return{x:i,y:o}},n8=function(e,t){var n=$T(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var r=BT(t);e.pinchLastCenterX=r.x,e.pinchLastCenterY=r.y,qi(e)},r8=function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,i=e.wrapperComponent,o=e.transformState.scale,l=e.setup,c=l.limitToBounds,u=l.centerZoomedOut,d=l.zoomAnimation,h=l.alignmentAnimation,m=d.disabled,v=d.size;if(!(r===null||!n)){var x=qB(t,o,n);if(!(!Number.isFinite(x.x)||!Number.isFinite(x.y))){var w=$T(t),b=KB(e,w),T=BT(t),S=T.x-(e.pinchLastCenterX||0),R=T.y-(e.pinchLastCenterY||0);if(!(b===o&&S===0&&R===0)){e.pinchLastCenterX=T.x,e.pinchLastCenterY=T.y;var k=Ga(e,b),A=m||v===0||u,I=c&&A,j=jp(e,x.x,x.y,b,k,I),O=j.x,B=j.y;e.pinchMidpoint=x,e.lastDistance=w;var W=h.sizeX,D=h.sizeY,$=sa(e,W),Q=sa(e,D),M=O+S,G=B+R,J=Gu(M,G,k,c,$,Q,i),X=J.x,U=J.y;e.setTransformState(b,X,U)}}}},i8=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,IT(e,t?.x,t?.y)},VT=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;vy(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,Qt(zt(e),t,n)},r)},s8=function(e,t){var n=e.props,r=n.onZoomStart,i=n.onZoom,o=e.setup.doubleClick,l=o.animationTime,c=o.animationType;Qt(zt(e),t,r),MT(e,l,c,function(){return Qt(zt(e),t,i)}),VT(e,t)};function o8(e,t){return e==="toggle"?t===1?1:-1:e==="zoomOut"?-1:1}function a8(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,i=e.transformState,o=e.contentComponent,l=i.scale,c=e.props,u=c.onZoomStart,d=c.onZoom,h=n.doubleClick,m=h.disabled,v=h.mode,x=h.step,w=h.animationTime,b=h.animationType;if(!m&&!r){if(v==="reset")return s8(e,t);if(!o)return console.error("No ContentComponent found");var T=o8(v,e.transformState.scale),S=LT(e,T,x);if(l!==S){Qt(zt(e),t,u);var R=FT(t,o,l),k=Uv(e,S,R.x,R.y);if(!k)return console.error("Error during zoom event. New transformation state was not calculated.");Qt(zt(e),t,d),ua(e,k,w,b),VT(e,t)}}}var l8=function(e,t){var n=e.isInitialized,r=e.setup,i=e.wrapperComponent,o=r.doubleClick,l=o.disabled,c=o.excluded,u=t.target,d=i?.contains(u),h=n&&u&&d&&!l;if(!h)return!1;var m=Ip(u,c);return!m},c8=(function(){function e(t){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,Ga(n,n.transformState.scale),n.setup=Gb(r)},this.initializeWindowEvents=function(){var r,i,o=ag(),l=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,c=l?.defaultView;(i=n.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",n.onWheelPanning,o),c?.addEventListener("mousedown",n.onPanningStart,o),c?.addEventListener("mousemove",n.onPanning,o),c?.addEventListener("mouseup",n.onPanningStop,o),l?.addEventListener("mouseleave",n.clearPanning,o),c?.addEventListener("keyup",n.setKeyUnPressed,o),c?.addEventListener("keydown",n.setKeyPressed,o)},this.cleanupWindowEvents=function(){var r,i,o=ag(),l=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,c=l?.defaultView;c?.removeEventListener("mousedown",n.onPanningStart,o),c?.removeEventListener("mousemove",n.onPanning,o),c?.removeEventListener("mouseup",n.onPanningStop,o),l?.removeEventListener("mouseleave",n.clearPanning,o),c?.removeEventListener("keyup",n.setKeyUnPressed,o),c?.removeEventListener("keydown",n.setKeyPressed,o),document.removeEventListener("mouseleave",n.clearPanning,o),qi(n),(i=n.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(r){var i=ag();r.addEventListener("wheel",n.onWheelZoom,i),r.addEventListener("dblclick",n.onDoubleClick,i),r.addEventListener("touchstart",n.onTouchPanningStart,i),r.addEventListener("touchmove",n.onTouchPanning,i),r.addEventListener("touchend",n.onTouchPanningStop,i)},this.handleInitialize=function(r,i){var o=!1,l=n.setup.centerOnInit,c=function(u,d){for(var h=0,m=u;h<m.length;h++){var v=m[h];if(v.target===d)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(u){u(zt(n))}),n.observer=new ResizeObserver(function(u){if(c(u,r)||c(u,i))if(l&&!o){var d=i.offsetWidth,h=i.offsetHeight;(d>0||h>0)&&(o=!0,n.setCenter())}else qi(n),Ga(n,n.transformState.scale),Vv(n,0)}),n.observer.observe(r),n.observer.observe(i)},this.onWheelZoom=function(r){var i=n.setup.disabled;if(!i){var o=UB(n,r);if(o){var l=n.isPressingKeys(n.setup.wheel.activationKeys);l&&(JB(n,r),e8(n,r),t8(n,r))}}},this.onWheelPanning=function(r){var i=n.setup,o=i.disabled,l=i.wheel,c=i.panning;if(!(!n.wrapperComponent||!n.contentComponent||o||!l.wheelDisabled||c.disabled||!c.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var u=n.transformState,d=u.positionX,h=u.positionY,m=d-r.deltaX,v=h-r.deltaY,x=c.lockAxisX?d:m,w=c.lockAxisY?h:v,b=n.setup.alignmentAnimation,T=b.sizeX,S=b.sizeY,R=sa(n,T),k=sa(n,S);x===d&&w===h||jT(n,x,w,R,k)}},this.onPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var l=$b(n,r);if(l){var c=n.isPressingKeys(n.setup.panning.activationKeys);c&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),qi(n),Ub(n,r),Qt(zt(n),r,o)))}}},this.onPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(!i){var l=Bb(n);if(l){var c=n.isPressingKeys(n.setup.panning.activationKeys);c&&(r.preventDefault(),r.stopPropagation(),zb(n,r.clientX,r.clientY),Qt(zt(n),r,o))}}},this.onPanningStop=function(r){var i=n.props.onPanningStop;n.isPanning&&(AB(n),Qt(zt(n),r,i))},this.onPinchStart=function(r){var i=n.setup.disabled,o=n.props,l=o.onPinchingStart,c=o.onZoomStart;if(!i){var u=YB(n,r);u&&(n8(n,r),qi(n),Qt(zt(n),r,l),Qt(zt(n),r,c))}},this.onPinch=function(r){var i=n.setup.disabled,o=n.props,l=o.onPinching,c=o.onZoom;if(!i){var u=XB(n);u&&(r.preventDefault(),r.stopPropagation(),r8(n,r),Qt(zt(n),r,l),Qt(zt(n),r,c))}},this.onPinchStop=function(r){var i=n.props,o=i.onPinchingStop,l=i.onZoomStop;n.pinchStartScale&&(i8(n),Qt(zt(n),r,o),Qt(zt(n),r,l))},this.onTouchPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var l=$b(n,r);if(l){var c=n.lastTouch&&+new Date-n.lastTouch<200&&r.touches.length===1;if(!c){n.lastTouch=+new Date,qi(n);var u=r.touches,d=u.length===1,h=u.length===2;d&&(qi(n),Ub(n,r),Qt(zt(n),r,o)),h&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(i)return;var l=Bb(n);if(!l)return;r.preventDefault(),r.stopPropagation();var c=r.touches[0];zb(n,c.clientX,c.clientY),Qt(zt(n),r,o)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var i=n.setup.disabled;if(!i){var o=l8(n,r);o&&a8(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(i){return n.pressedKeys[i]}):!0},this.setTransformState=function(r,i,o){var l=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=i,n.transformState.positionY=o,n.applyTransformation();var c=zt(n);n.onChangeCallbacks.forEach(function(u){return u(c)}),Qt(c,{scale:r,positionX:i,positionY:o},l)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=DT(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,i,o){return n.props.customTransform?n.props.customTransform(r,i,o):BB(r,i,o)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,i=r.scale,o=r.positionX,l=r.positionY,c=n.handleTransformStyles(o,l,i);n.contentComponent.style.transform=c}},this.getContext=function(){return zt(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,i){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=i,Ga(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(r,i),n.initializeWindowEvents(),n.isInitialized=!0;var o=zt(n);Qt(o,void 0,n.props.onInit)},this.props=t,this.setup=Gb(this.props),this.transformState=PT(this.props)}return e})(),zv=Oe.createContext(null),u8=function(e,t){return typeof e=="function"?e(t):e},Wv=Oe.forwardRef(function(e,t){var n=y.useRef(new c8(e)).current,r=u8(e.children,yy(n));return y.useImperativeHandle(t,function(){return yy(n)},[n]),y.useEffect(function(){n.update(e)},[n,e]),Oe.createElement(zv.Provider,{value:n},r)});Oe.forwardRef(function(e,t){var n=y.useRef(null),r=y.useContext(zv);return y.useEffect(function(){return r.onChange(function(i){if(n.current){var o=0,l=0;n.current.style.transform=r.handleTransformStyles(o,l,1/i.instance.transformState.scale)}})},[r]),Oe.createElement("div",Qo({},e,{ref:VB([n,t])}))});function d8(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var f8=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,Hb={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};d8(f8);var Gv=function(e){var t=e.children,n=e.wrapperClass,r=n===void 0?"":n,i=e.contentClass,o=i===void 0?"":i,l=e.wrapperStyle,c=e.contentStyle,u=e.wrapperProps,d=u===void 0?{}:u,h=e.contentProps,m=h===void 0?{}:h,v=y.useContext(zv),x=v.init,w=v.cleanupWindowEvents,b=y.useRef(null),T=y.useRef(null);return y.useEffect(function(){var S=b.current,R=T.current;return S!==null&&R!==null&&x&&x?.(S,R),function(){w?.()}},[]),Oe.createElement("div",Qo({},d,{ref:b,className:"".concat(gy.wrapperClass," ").concat(Hb.wrapper," ").concat(r),style:l}),Oe.createElement("div",Qo({},m,{ref:T,className:"".concat(gy.contentClass," ").concat(Hb.content," ").concat(o),style:c}),t))};const p8={width:void 0,height:void 0,initialZoom:1,minZoom:.1,maxZoom:5,initialX:0,initialY:0};function h8(e){return{...p8,...e}}function m8(e,t,n){const r=y.useRef(null),i=y.useMemo(()=>h8(t),[t]),o=y.useCallback(()=>{const x=r.current?.instance;return x?{scale:x.transformState.scale,positionX:x.transformState.positionX,positionY:x.transformState.positionY}:{scale:i.initialZoom,positionX:i.initialX,positionY:i.initialY}},[i]),l=y.useCallback(()=>{r.current?.resetTransform()},[]),c=y.useCallback(()=>{r.current?.centerView()},[]),u=y.useCallback(x=>{const w=Math.max(i.minZoom,Math.min(i.maxZoom,x));r.current?.setTransform(o().positionX,o().positionY,w)},[i.minZoom,i.maxZoom,o]),d=y.useCallback((x,w)=>{r.current?.setTransform(x,w,o().scale)},[o]),h=y.useCallback(()=>e,[e]),m=y.useCallback(x=>{n&&n({scale:x.state.scale,positionX:x.state.positionX,positionY:x.state.positionY})},[n]),v=y.useMemo(()=>({resetView:l,fitToView:c,setZoom:u,panTo:d,getTransform:o,getContentBounds:h}),[l,c,u,d,o,h]);return{transformRef:r,resolvedConfig:i,refMethods:v,handleTransformChange:m}}const g8=y.forwardRef(function({positions:t,bounds:n,showVirtualGlyphStyling:r=!0,viewport:i,canvas:o,disableInteraction:l=!1,showControls:c=!0,onTransformChange:u,className:d},h){const{transformRef:m,resolvedConfig:v,refMethods:x,handleTransformChange:w}=m8(n,i,u),b=y.useRef(null);y.useImperativeHandle(h,()=>({...x,getSvgElement:()=>b.current}),[x]);const T=o?.width??n.width,S=o?.height??n.height,R=i?.width??"100%",k=i?.height??S;return f.jsx("div",{className:Z(or.interactiveContainer,d),style:{width:R,height:k},children:f.jsx(Wv,{ref:m,initialScale:v.initialZoom,minScale:v.minZoom,maxScale:v.maxZoom,initialPositionX:v.initialX,initialPositionY:v.initialY,centerOnInit:!0,doubleClick:{disabled:l,mode:"reset"},wheel:{disabled:l,step:.1},panning:{disabled:l,velocityDisabled:!1},pinch:{disabled:l},onTransformed:w,children:({zoomIn:A,zoomOut:I,resetTransform:j})=>f.jsxs(f.Fragment,{children:[f.jsx(Gv,{wrapperStyle:{width:"100%",height:"100%",overflow:"hidden"},contentStyle:{width:T,height:S},children:f.jsx(NT,{ref:b,positions:t,bounds:n,showVirtualGlyphStyling:r,backgroundColor:o?.backgroundColor,showPaperEffect:o?.showPaperEffect})}),c&&!l&&f.jsxs("div",{className:or.controls,children:[f.jsx("button",{type:"button",className:or.controlButton,onClick:()=>A(),"aria-label":"Zoom in",children:"+"}),f.jsx("button",{type:"button",className:or.controlButton,onClick:()=>I(),"aria-label":"Zoom out",children:""}),f.jsx("button",{type:"button",className:or.controlButton,onClick:()=>j(),"aria-label":"Reset view",children:""})]})]})})})}),Ms=y.forwardRef(function({glyphs:t,strategy:n="ltr",config:r,width:i,height:o,overflow:l="clip",mode:c="static",canvas:u,viewport:d,disableInteraction:h=!1,showControls:m=!0,onTransformChange:v,glyphMap:x,graphemeMap:w,emptyContent:b,showVirtualGlyphStyling:T=!0,className:S,style:R,glyphEmPx:k,zoom:A=1,writingSystem:I,wordBoundaries:j,lineBreaks:O},B){const W=y.useRef(null),D=y.useRef(null),$=y.useMemo(()=>({glyphMap:x,graphemeMap:w}),[x,w]),Q=o6(t,$),M=y.useMemo(()=>{const Y={...typeof r=="string"?{}:r??{}};return u?.width&&(n==="block"||n==="composed-block"||!n)&&(Y.maxWidth=u.width),u?.height&&(n==="block"||n==="composed-block"||!n)&&(Y.maxHeight=u.height),typeof k=="number"&&k>0&&(Y.glyphWidth=k,Y.glyphHeight=k),Y},[r,u?.width,u?.height,n,k]),G=y.useMemo(()=>u?.width&&n==="ltr"?"block":n,[n,u?.width]),J=y.useMemo(()=>I&&(G==="block"||G==="composed-block")?g6(I,j,O):G,[I,j,O,G]),{positions:X,bounds:U}=w6(Q,J,M);y.useImperativeHandle(B,()=>({resetView:()=>W.current?.resetView(),fitToView:()=>W.current?.fitToView(),setZoom:P=>W.current?.setZoom(P),panTo:(P,Y)=>W.current?.panTo(P,Y),getTransform:()=>W.current?.getTransform()??{scale:1,positionX:0,positionY:0},getContentBounds:()=>W.current?.getContentBounds()??U,getSvgElement:()=>W.current?.getSvgElement?W.current.getSvgElement():D.current}),[U]);const V={clip:"hidden",scroll:"auto",visible:"visible"},H=y.useMemo(()=>({...R,width:typeof i=="number"?i*A:i??U.width*A,height:typeof o=="number"?o*A:o??U.height*A,overflow:V[l],display:"flex",alignItems:"center",justifyContent:"center",fontSize:k?`${k}px`:void 0}),[R,i,o,U.width,U.height,l,k,A]);return Q.length===0?b?f.jsx("div",{className:Z(or.container,or.empty,S),style:R,children:b}):null:c==="interactive"?f.jsx("div",{className:Z(or.container,or.interactive,S),style:R,children:f.jsx(g8,{ref:W,positions:X,bounds:U,showVirtualGlyphStyling:T,viewport:d,canvas:u,disableInteraction:h,showControls:m,onTransformChange:v})}):f.jsx("div",{className:Z(or.container,or.centered,S),style:H,children:f.jsx(NT,{ref:D,positions:X,bounds:U,showVirtualGlyphStyling:T,zoom:A})})}),y8="_detailedLexiconDisplay_2k594_1",v8="_detailedLexiconLeft_2k594_12",x8="_detailedLexiconSvg_2k594_21",_8="_detailedLexiconNoSpelling_2k594_31",w8="_detailedLexiconLemma_2k594_44",b8="_detailedLexiconBadges_2k594_57",E8="_externalBadge_2k594_63",S8="_autoSpellBadge_2k594_72",C8="_detailedLexiconRight_2k594_81",T8="_detailSection_2k594_90",N8="_sectionHeader_2k594_96",k8="_meaningText_2k594_103",R8="_posValue_2k594_110",A8="_graphemeList_2k594_120",j8="_graphemeName_2k594_126",I8="_etymologySection_2k594_135",P8="_etymologyStats_2k594_141",L8="_etymologyStat_2k594_141",O8="_ancestorList_2k594_152",M8="_ancestorItem_2k594_158",D8="_ancestorType_2k594_165",F8="_ancestorLemma_2k594_171",$8="_notesText_2k594_176",B8="_ipaChar_2k594_184",_t={detailedLexiconDisplay:y8,detailedLexiconLeft:v8,detailedLexiconSvg:x8,detailedLexiconNoSpelling:_8,detailedLexiconLemma:w8,detailedLexiconBadges:b8,externalBadge:E8,autoSpellBadge:S8,detailedLexiconRight:C8,detailSection:T8,sectionHeader:N8,meaningText:k8,posValue:R8,graphemeList:A8,graphemeName:j8,etymologySection:I8,etymologyStats:P8,etymologyStat:L8,ancestorList:O8,ancestorItem:M8,ancestorType:D8,ancestorLemma:F8,notesText:$8,ipaChar:B8};function UT({lexiconData:e,graphemeMap:t,showAncestry:n=!0}){const r=e.ancestors?.length??0,i=e.descendants?.length??0,o=e.spellingDisplay&&e.spellingDisplay.length>0;return console.log("graphemeMap:",t," SpellingDisplay:",e.spellingDisplay),f.jsxs("div",{className:_t.detailedLexiconDisplay,children:[f.jsxs("div",{className:_t.detailedLexiconLeft,children:[o?f.jsx("div",{className:_t.detailedLexiconSvg,children:f.jsx(Ms,{glyphs:e.spellingDisplay,graphemeMap:t,strategy:"ltr",config:"compact",glyphEmPx:64,zoom:1,emptyContent:f.jsx("span",{children:"No spelling"})})}):f.jsx("div",{className:_t.detailedLexiconNoSpelling,children:"No spelling"}),f.jsx("h2",{className:_t.detailedLexiconLemma,children:e.pronunciation?`/${e.pronunciation}/`:e.lemma}),f.jsxs("div",{className:_t.detailedLexiconBadges,children:[!e.is_native&&f.jsx("span",{className:_t.externalBadge,children:"External"}),e.auto_spell&&f.jsx("span",{className:_t.autoSpellBadge,children:"Auto-spell"})]})]}),f.jsxs("div",{className:_t.detailedLexiconRight,children:[e.meaning&&f.jsxs("div",{className:_t.detailSection,children:[f.jsx("h3",{className:_t.sectionHeader,children:"Meaning"}),f.jsx("p",{className:_t.meaningText,children:e.meaning})]}),e.part_of_speech&&f.jsxs("div",{className:_t.detailSection,children:[f.jsx("h3",{className:_t.sectionHeader,children:"Part of Speech"}),f.jsx("span",{className:_t.posValue,children:e.part_of_speech})]}),e.spellingDisplay&&e.spellingDisplay.length>0&&f.jsxs("div",{className:_t.detailSection,children:[f.jsx("h3",{className:_t.sectionHeader,children:"Spelling"}),f.jsx("div",{className:_t.graphemeList,children:e.spellingDisplay.map((l,c)=>l.type==="grapheme"?f.jsx("span",{className:_t.graphemeName,children:l.grapheme?.name??""},`g-${l.grapheme?.id}-${c}`):f.jsx("span",{className:_t.ipaChar,title:`IPA: ${l.ipaCharacter}`,children:l.ipaCharacter},`ipa-${c}`))})]}),n&&(r>0||i>0)&&f.jsxs("div",{className:`${_t.detailSection} ${_t.etymologySection}`,children:[f.jsx("h3",{className:_t.sectionHeader,children:"Etymology"}),f.jsxs("div",{className:_t.etymologyStats,children:[r>0&&f.jsxs("span",{className:_t.etymologyStat,children:[r," ancestor",r!==1?"s":""]}),i>0&&f.jsxs("span",{className:_t.etymologyStat,children:[i," descendant",i!==1?"s":""]})]}),e.ancestors?.length>0&&f.jsx("div",{className:_t.ancestorList,children:e.ancestors.map((l,c)=>f.jsxs("span",{className:_t.ancestorItem,children:[f.jsx("span",{className:_t.ancestorType,children:l.ancestry_type}),f.jsx("span",{className:_t.ancestorLemma,children:l.ancestor.pronunciation??l.ancestor.lemma})]},`${l.ancestor.id}-${c}`))})]}),e.notes&&f.jsxs("div",{className:_t.detailSection,children:[f.jsx("h3",{className:_t.sectionHeader,children:"Notes"}),f.jsx("p",{className:_t.notesText,children:e.notes})]})]})]})}const V8="_compactCard_1c42p_1",U8="_clickable_1c42p_14",z8="_lemma_1c42p_24",W8="_spellingContainer_1c42p_36",G8="_scaledSpellingWrapper_1c42p_52",H8="_scaledSpellingContent_1c42p_65",Y8="_noSpelling_1c42p_70",X8="_meaning_1c42p_88",q8="_badges_1c42p_98",K8="_externalBadge_1c42p_106",Z8="_posBadge_1c42p_116",Q8="_spellingText_1c42p_124",yi={compactCard:V8,clickable:U8,lemma:z8,spellingContainer:W8,scaledSpellingWrapper:G8,scaledSpellingContent:H8,noSpelling:Y8,meaning:X8,badges:q8,externalBadge:K8,posBadge:Z8,spellingText:Q8};function J8({glyphs:e,graphemeMap:t,maxWidth:n,maxHeight:r}){const i=y.useRef(null),[o,l]=y.useState(1);return y.useEffect(()=>{if(!i.current)return;const c=()=>{const m=i.current;if(!m)return;let v=m.getBoundingClientRect(),x=v.width,w=v.height;if((x===0||w===0)&&m.firstElementChild){const R=m.firstElementChild.getBoundingClientRect();x=R.width||x,w=R.height||w}if(x===0||w===0){const R=m.querySelector("svg");if(R){const k=R.getBoundingClientRect();x=k.width||x,w=k.height||w}}if(x===0||w===0)return;const b=n&&x>n?n/x:1,T=r&&w>r?r/w:1,S=Math.min(b,T,1);l(R=>Math.abs(R-S)<1e-4?R:S)},u=new ResizeObserver(()=>{c()});u.observe(i.current);const d=requestAnimationFrame(c),h=()=>c();return window.addEventListener("resize",h),()=>{u.disconnect(),cancelAnimationFrame(d),window.removeEventListener("resize",h)}},[n,r]),!e||e.length===0?null:f.jsx("div",{className:yi.scaledSpellingWrapper,children:f.jsx("div",{ref:i,className:yi.scaledSpellingContent,style:{display:"inline-block",transform:`scale(${o})`,transformOrigin:"center center"},children:f.jsx(Ms,{glyphs:e,graphemeMap:t,strategy:"ltr",config:"compact",glyphEmPx:32})})})}function eV({lexiconData:e,graphemeMap:t,onClick:n}){const r=(e.spellingDisplay??e.spelling.map(l=>({type:"grapheme",grapheme:l}))).map(l=>l.type==="grapheme"?l.grapheme?.name??"?":l.ipaCharacter??l).join(" "),i=e.meaning?e.meaning.length>50?`${e.meaning.substring(0,47)}...`:e.meaning:null,o=e.spellingDisplay&&e.spellingDisplay.length>0;return f.jsxs("div",{className:Z(yi.compactCard,{[yi.clickable]:!!n}),onClick:n,children:[f.jsx("h3",{className:yi.lemma,children:e.pronunciation?`/${e.pronunciation}/`:e.lemma}),o?f.jsx("div",{className:yi.spellingContainer,children:f.jsx(J8,{glyphs:e.spellingDisplay,graphemeMap:t,maxWidth:180,maxHeight:60})}):f.jsx("div",{className:yi.noSpelling,children:"(no spelling)"}),f.jsx("div",{className:yi.spellingText,title:r,children:r}),i&&f.jsx("p",{className:yi.meaning,children:i}),f.jsxs("div",{className:yi.badges,children:[!e.is_native&&f.jsx("span",{className:yi.externalBadge,children:"External"}),e.part_of_speech&&f.jsx("span",{className:yi.posBadge,children:e.part_of_speech})]})]})}const tV="_container_rjmn1_1",nV="_toolbar_rjmn1_9",rV="_toolbarLeft_rjmn1_17",iV="_toolbarRight_rjmn1_25",sV="_searchContainer_rjmn1_32",oV="_searchInput_rjmn1_39",aV="_searchIcon_rjmn1_59",lV="_filterButton_rjmn1_68",cV="_filterDropdown_rjmn1_83",uV="_sortContainer_rjmn1_88",dV="_sortLabel_rjmn1_94",fV="_viewToggle_rjmn1_100",pV="_viewButton_rjmn1_107",hV="_viewButtonActive_rjmn1_126",mV="_resultsPerPage_rjmn1_134",gV="_resultCount_rjmn1_142",yV="_content_rjmn1_148",vV="_grid_rjmn1_154",xV="_gridCompact_rjmn1_159",_V="_gridDetailed_rjmn1_163",wV="_virtualContainer_rjmn1_167",bV="_galleryItem_rjmn1_179",EV="_galleryItemGrow_rjmn1_191",SV="_galleryItemClickable_rjmn1_195",CV="_categoryHeader_rjmn1_206",TV="_categoryToggle_rjmn1_219",NV="_categoryChevron_rjmn1_241",kV="_categoryChevronCollapsed_rjmn1_247",RV="_categoryTitle_rjmn1_251",AV="_categoryCount_rjmn1_258",jV="_pagination_rjmn1_264",IV="_paginationInput_rjmn1_279",PV="_paginationInputWrapper_rjmn1_294",LV="_paginationButton_rjmn1_302",OV="_stateSlot_rjmn1_327",MV="_loadingSlot_rjmn1_337",DV="_loadingSpinner_rjmn1_341",FV="_loadingText_rjmn1_356",$V="_loadingProgress_rjmn1_360",BV="_loadingProgressBar_rjmn1_369",VV="_errorSlot_rjmn1_375",UV="_errorIcon_rjmn1_379",zV="_errorMessage_rjmn1_384",WV="_retryButton_rjmn1_390",GV="_emptySlot_rjmn1_406",HV="_emptyIcon_rjmn1_410",YV="_emptyMessage_rjmn1_416",XV="_emptySubMessage_rjmn1_421",Ie={container:tV,toolbar:nV,toolbarLeft:rV,toolbarRight:iV,searchContainer:sV,searchInput:oV,searchIcon:aV,filterButton:lV,filterDropdown:cV,sortContainer:uV,sortLabel:dV,viewToggle:fV,viewButton:pV,viewButtonActive:hV,resultsPerPage:mV,resultCount:gV,content:yV,grid:vV,gridCompact:xV,gridDetailed:_V,virtualContainer:wV,galleryItem:bV,galleryItemGrow:EV,galleryItemClickable:SV,categoryHeader:CV,categoryToggle:TV,categoryChevron:NV,categoryChevronCollapsed:kV,categoryTitle:RV,categoryCount:AV,pagination:jV,paginationInput:IV,paginationInputWrapper:PV,paginationButton:LV,stateSlot:OV,loadingSlot:MV,loadingSpinner:DV,loadingText:FV,loadingProgress:$V,loadingProgressBar:BV,errorSlot:VV,errorIcon:UV,errorMessage:zV,retryButton:WV,emptySlot:GV,emptyIcon:HV,emptyMessage:YV,emptySubMessage:XV};function qV({itemCount:e,options:t={},columnsPerRow:n=1,containerRef:r,onItemActivate:i}){const{enabled:o=!0,mode:l="roving",wrapAround:c=!0,homeEndKeys:u=!0,pageUpDownKeys:d=!0,pageJumpSize:h}=t,[m,v]=y.useState(-1),x=y.useRef(new Map),w=y.useMemo(()=>h??Math.max(n,5),[h,n]),b=y.useCallback(M=>{if(M<0||M>=e)return;v(M);const G=x.current.get(M);G&&l==="roving"&&G.focus()},[e,l]),T=y.useCallback(()=>{if(m<0){b(0);return}const M=m-n;if(M>=0)b(M);else if(c){const G=Math.floor((e-1)/n)*n,J=Math.min(G+m%n,e-1);b(J)}},[m,n,e,c,b]),S=y.useCallback(()=>{if(m<0){b(0);return}const M=m+n;if(M<e)b(M);else if(c){const G=m%n;b(Math.min(G,e-1))}},[m,n,e,c,b]),R=y.useCallback(()=>{if(m<0){b(0);return}m>0?b(m-1):c&&b(e-1)},[m,e,c,b]),k=y.useCallback(()=>{if(m<0){b(0);return}m<e-1?b(m+1):c&&b(0)},[m,e,c,b]),A=y.useCallback(()=>{b(0)},[b]),I=y.useCallback(()=>{b(e-1)},[b,e]),j=y.useCallback(()=>{const M=Math.max(0,m-w);b(M)},[m,w,b]),O=y.useCallback(()=>{const M=Math.min(e-1,m+w);b(M)},[m,e,w,b]),B=y.useCallback(()=>{m>=0&&i&&i(m)},[m,i]),W=y.useCallback(M=>{if(o)switch(M.key){case"ArrowUp":M.preventDefault(),T();break;case"ArrowDown":M.preventDefault(),S();break;case"ArrowLeft":M.preventDefault(),R();break;case"ArrowRight":M.preventDefault(),k();break;case"Home":u&&(M.preventDefault(),A());break;case"End":u&&(M.preventDefault(),I());break;case"PageUp":d&&(M.preventDefault(),j());break;case"PageDown":d&&(M.preventDefault(),O());break;case"Enter":case" ":m>=0&&(M.preventDefault(),B());break}},[o,T,S,R,k,A,I,j,O,u,d,m,B]),D=y.useCallback(M=>G=>{!o||l!=="roving"||W(G)},[o,l,W]),$=y.useCallback(M=>({tabIndex:l==="roving"?m===M?0:-1:0,"data-focused":m===M,onKeyDown:D(M),onFocus:()=>v(M),onClick:()=>{v(M),i&&i(M)},ref:G=>{G?x.current.set(M,G):x.current.delete(M)}}),[l,m,D,i]),Q=y.useMemo(()=>({role:"grid","aria-activedescendant":m>=0?`gallery-item-${m}`:void 0,onKeyDown:l==="tab-only"?W:()=>{}}),[m,l,W]);return y.useEffect(()=>{m>=e&&v(Math.max(0,e-1))},[e,m]),{focusedIndex:m,setFocusedIndex:v,getItemProps:$,containerProps:Q}}function KV({items:e,options:t={},containerRef:n,columnsPerRow:r=1}){const{enabled:i,autoEnableThreshold:o=100,estimatedItemHeight:l=200,overscan:c=3}=t,u=y.useMemo(()=>i!==void 0?i:e.length>o,[i,e.length,o]),[d,h]=y.useState(0),[m,v]=y.useState(0),x=y.useRef(new Map);y.useEffect(()=>{if(!u||!n.current)return;const k=n.current,A=()=>{h(k.scrollTop)},I=()=>{v(k.clientHeight)};return I(),k.addEventListener("scroll",A,{passive:!0}),window.addEventListener("resize",I),()=>{k.removeEventListener("scroll",A),window.removeEventListener("resize",I)}},[u,n]);const w=y.useMemo(()=>Math.ceil(e.length/r),[e.length,r]),{virtualItems:b,totalSize:T}=y.useMemo(()=>{if(!u)return{virtualItems:e.map((O,B)=>({index:B,start:0,size:l,lane:B%r})),totalSize:w*l};const k=l,A=Math.max(0,Math.floor(d/k)-c),I=Math.min(w-1,Math.ceil((d+m)/k)+c),j=[];for(let O=A;O<=I;O++)for(let B=0;B<r;B++){const W=O*r+B;W<e.length&&j.push({index:W,start:O*k,size:x.current.get(W)??k,lane:B})}return{virtualItems:j,totalSize:w*k}},[u,e,d,m,l,c,r,w]),S=y.useCallback(k=>{if(!n.current)return;const I=Math.floor(k/r)*l;n.current.scrollTo({top:I,behavior:"smooth"})},[n,r,l]),R=y.useCallback(k=>A=>{if(A){const I=A.getBoundingClientRect().height;x.current.get(k)!==I&&x.current.set(k,I)}},[]);return{virtualItems:b,totalSize:T,isVirtualized:u,scrollToIndex:S,measureElement:R}}function ZV(e,t){const[n,r]=y.useState(e);return y.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function QV({containerRef:e,minItemWidth:t,gap:n}){const[r,i]=y.useState(1);return y.useEffect(()=>{if(!e.current)return;const o=()=>{if(!e.current)return;const c=e.current.clientWidth,u=Math.max(1,Math.floor((c+n)/(t+n)));i(u)};o();const l=new ResizeObserver(o);return l.observe(e.current),()=>l.disconnect()},[e,t,n]),r}function JV({data:e,groupBy:t,categoryOrder:n="natural",collapsedCategories:r}){return y.useMemo(()=>{if(!t)return{categoryGroups:[],elements:e.map((v,x)=>({type:"item",item:v,index:x})),visibleItemCount:e.length,headerIndices:new Set};const i=new Map,o=[];e.forEach(v=>{const x=t(v);i.has(x)||(i.set(x,[]),o.push(x)),i.get(x).push(v)});let l;if(n==="natural")l=o;else if(n==="alphabetical")l=[...o].sort((v,x)=>v.localeCompare(x));else{const v=new Set(n),x=n.filter(b=>i.has(b)),w=o.filter(b=>!v.has(b));l=[...x,...w]}const c=l.map(v=>({category:v,items:i.get(v)||[]})),u=[],d=new Set;let h=0;for(const v of c){const x=r.has(v.category);if(d.add(u.length),u.push({type:"header",category:v.category,items:v.items,isCollapsed:x}),x)h+=v.items.length;else for(const w of v.items)u.push({type:"item",item:w,index:h}),h++}const m=u.filter(v=>v.type==="item").length;return{categoryGroups:c,elements:u,visibleItemCount:m,headerIndices:d}},[e,t,n,r])}const eU="_chevron_1nelv_1",tU="_isAbsolutePosition_1nelv_1",nU="_blockPosition_1nelv_4",rU="_isRight_1nelv_10",iU="_isLeft_1nelv_13",sU="_chevronOpen_1nelv_19",oU="_toggleBtn_1nelv_23",Qs={chevron:eU,isAbsolutePosition:tU,blockPosition:nU,isRight:rU,isLeft:iU,chevronOpen:sU,toggleBtn:oU},aU={basic:{initial:{maxHeight:0,opacity:0},animate:{maxHeight:"1000px",opacity:1},exit:{maxHeight:0,opacity:0},transition:{ease:"easeInOut",duration:.2}}};function lU({main:e,children:t,chevronLocation:n="right",darkenBackground:r=!0,brightenSelected:i=!0,isOpen:o,setIsOpen:l,isAbsolutePosition:c=!0,defaultIsOpen:u=!1,themeType:d="basic"}){const h=y.useMemo(()=>ac(aU,d,{}),[d]),[m,v]=y.useState(u),x=o??m,w=l??v;return f.jsxs(Uu,{children:[f.jsxs("div",{onClick:()=>w(!x),className:Z(pe.flexRow,pe.alignItemsCenter,Qs.toggleBtn,i&&x&&Qs.brightenBackground),children:[e,n!=="none"&&f.jsx(xn,{iconName:"chevron-down",color:"var(--interactive-base, white)",className:Z(Qs.chevron,x&&Qs.chevronOpen,n==="left"?Qs.isLeft:Qs.isRight,c?Qs.isAbsolutePosition:Qs.blockPosition)})]}),x&&f.jsx(Vn.div,{...h,className:Z(r&&Qs.darkenBackground),children:t},"sidebar")]})}function Yb({searchFn:e,searchQuery:t,onSearchQueryChange:n,searchPlaceholder:r="Search...",searchDebounceMs:i=300,showSearchIcon:o=!0,filterMenu:l,filterMenuRef:c,filterButtonLabel:u="Filter options",sortOptions:d,sortBy:h,setSortBy:m,sortLabel:v="Sort by:",showViewToggle:x=!1,viewMode:w,setViewMode:b,showResultsPerPage:T=!1,maxResultPerPage:S,setMaxResultPerPage:R,maxResultOptions:k=[],totalCount:A,filteredCount:I,toolbarStartSlot:j,toolbarEndSlot:O,styling:B={}}){const[W,D]=y.useState(""),[$,Q]=y.useState(!1),M=t??W,G=n??D,J=ZV(M,i);y.useEffect(()=>{if(e){const q=c?.current?.getValue?.();e(J,q)}},[J,e,c]);const X=y.useCallback(q=>{G(q.target.value)},[G]),U=y.useCallback(()=>{if(e&&c?.current){const q=c.current.getValue();e(M,q)}Q(!1)},[e,c,M]),V=y.useCallback(q=>{m&&m(q)},[m]),H=y.useCallback(q=>{b&&b(q)},[b]),P=y.useCallback(q=>{R&&R(q)},[R]),Y=y.useMemo(()=>I!==void 0&&A!==void 0?`${I} of ${A}`:A!==void 0?`${A} items`:null,[I,A]),re=y.useMemo(()=>d?.find(q=>q.value===h),[d,h]);return f.jsxs("div",{className:Z(Ie.toolbar,B.toolbar?.className),style:B.toolbar?.style,children:[j,f.jsxs("div",{className:Ie.toolbarLeft,children:[e&&f.jsxs("div",{className:Z(Ie.searchContainer,B.searchInput?.className),style:B.searchInput?.style,children:[f.jsx("input",{type:"text",value:M,onChange:X,placeholder:r,className:Z(Ie.searchInput,B.searchInput?.inputClassName),style:B.searchInput?.inputStyle,"aria-label":r}),o&&f.jsx(xn,{iconName:"search",size:"1rem",className:Ie.searchIcon})]}),l&&f.jsx("div",{className:Z(Ie.filterButton,B.filterButton?.className),style:B.filterButton?.style,children:f.jsx(lU,{main:f.jsx($e,{iconName:"funnel","aria-label":u,"aria-expanded":$,onClick:q=>{q.stopPropagation()}}),isOpen:$,setIsOpen:Q,isAbsolutePosition:!0,chevronLocation:"none",children:f.jsxs("div",{className:Ie.filterDropdown,children:[l,f.jsx("div",{style:{marginTop:"0.75rem",display:"flex",justifyContent:"flex-end"},children:f.jsx($e,{iconName:"check-lg",onClick:U,children:"Apply"})})]})})})]}),f.jsxs("div",{className:Ie.toolbarRight,children:[d&&d.length>0&&m&&f.jsxs("div",{className:Z(Ie.sortContainer,B.sortDropdown?.className),style:B.sortDropdown?.style,children:[v&&f.jsx("span",{className:Ie.sortLabel,children:v}),f.jsx(Zl,{toggleBtn:f.jsx("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:re?.displayComponent??"Select..."}),showCaret:!0,contentPin:"bottom-end",children:d.map(q=>f.jsx("button",{onClick:()=>V(q.value),style:{display:"block",width:"100%",padding:"0.5rem 0.75rem",textAlign:"left",background:h===q.value?"var(--surface-hover)":"transparent",border:"none",cursor:"pointer"},children:q.displayComponent},q.value))})]}),x&&b&&f.jsxs("div",{className:Z(Ie.viewToggle,B.viewToggle?.className),style:B.viewToggle?.style,role:"group","aria-label":"View mode",children:[f.jsx("button",{type:"button",className:Z(Ie.viewButton,w==="detailed"&&Ie.viewButtonActive,B.viewToggle?.buttonClassName,w==="detailed"&&B.viewToggle?.activeButtonClassName),onClick:()=>H("detailed"),"aria-pressed":w==="detailed",title:"List view",children:f.jsx(xn,{iconName:"list",size:"1.25rem"})}),f.jsx("button",{type:"button",className:Z(Ie.viewButton,w==="compact"&&Ie.viewButtonActive,B.viewToggle?.buttonClassName,w==="compact"&&B.viewToggle?.activeButtonClassName),onClick:()=>H("compact"),"aria-pressed":w==="compact",title:"Grid view",children:f.jsx(xn,{iconName:"grid-3x3-gap",size:"1.25rem"})})]}),T&&k.length>0&&R&&f.jsxs("div",{className:Z(Ie.resultsPerPage,B.resultsPerPage?.className),style:B.resultsPerPage?.style,children:[f.jsx("span",{children:"Show:"}),f.jsx(Zl,{toggleBtn:f.jsx("span",{children:S}),showCaret:!0,contentPin:"bottom-end",children:k.map(q=>f.jsx("button",{onClick:()=>P(q),style:{display:"block",width:"100%",padding:"0.5rem 0.75rem",textAlign:"left",background:S===q?"var(--surface-hover)":"transparent",border:"none",cursor:"pointer"},children:q},q))})]}),Y&&f.jsx("span",{className:Ie.resultCount,children:Y}),O]})]})}function cU({category:e,items:t,isCollapsed:n,collapsible:r,onToggle:i,showCount:o,renderCustomHeader:l,styling:c={}}){const u=y.useCallback(()=>{r&&i&&i(e,!n)},[r,i,e,n]),d=y.useCallback(h=>{r&&(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),u())},[r,u]);return l?f.jsx("div",{className:Z(Ie.categoryHeader,c.categoryHeader?.className),style:c.categoryHeader?.style,role:"rowheader","aria-expanded":r?!n:void 0,"aria-controls":r?`category-items-${e}`:void 0,tabIndex:r?0:void 0,onClick:r?u:void 0,onKeyDown:r?d:void 0,children:l(e,t,n)}):f.jsx("div",{className:Z(Ie.categoryHeader,c.categoryHeader?.className),style:c.categoryHeader?.style,role:"rowheader","aria-expanded":r?!n:void 0,"aria-controls":r?`category-items-${e}`:void 0,children:r?f.jsxs("button",{type:"button",className:Z(Ie.categoryToggle,c.categoryHeader?.toggleClassName),onClick:u,onKeyDown:d,"aria-label":`${n?"Expand":"Collapse"} ${e}`,children:[f.jsx("svg",{className:Z(Ie.categoryChevron,n&&Ie.categoryChevronCollapsed),width:"16",height:"16",viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",children:f.jsx("path",{d:"M4 6L8 10L12 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),f.jsx("h3",{className:Z(Ie.categoryTitle,c.categoryHeader?.titleClassName),children:e}),o&&f.jsxs("span",{className:Ie.categoryCount,children:["(",t.length,")"]})]}):f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:Z(Ie.categoryTitle,c.categoryHeader?.titleClassName),children:e}),o&&f.jsxs("span",{className:Ie.categoryCount,children:["(",t.length,")"]})]})})}function uU({data:e,keyExtractor:t,renderItem:n,viewMode:r,itemGrow:i=!1,minItemWidth:o="160px",maxItemWidth:l="1fr",itemGap:c="1rem",keyboardNavigation:u,onItemFocus:d,onItemActivate:h,virtualization:m,groupBy:v,renderCategoryHeader:x,categoryOrder:w="natural",collapsibleCategories:b=!0,collapsedCategories:T=new Set,onCategoryToggle:S,showCategoryCount:R=!0,styling:k={}}){const A=y.useRef(null),I=y.useMemo(()=>{const Y=o.match(/^(\d+(?:\.\d+)?)/);return Y?parseFloat(Y[1]):160},[o]),j=y.useMemo(()=>{const Y=c.match(/^(\d+(?:\.\d+)?)/);if(!Y)return 16;const re=parseFloat(Y[1]);return c.includes("rem")?re*16:re},[c]),O=QV({containerRef:A,minItemWidth:I,gap:j}),B=r==="detailed"?1:O,{elements:W,visibleItemCount:D,headerIndices:$}=JV({data:e,groupBy:v,categoryOrder:w,collapsedCategories:T}),Q=!!v;y.useCallback(Y=>{h&&e[Y]&&h(e[Y],Y)},[h,e]);const M=y.useCallback(Y=>{d&&e[Y]&&d(e[Y],Y)},[d,e]),{getItemProps:G,containerProps:J}=qV({itemCount:Q?D:e.length,options:{...u},columnsPerRow:B,containerRef:A}),{virtualItems:X,totalSize:U,isVirtualized:V}=KV({items:e,options:m,containerRef:A,columnsPerRow:B}),H=y.useMemo(()=>({"--gallery-min-width":o,"--gallery-max-width":l,"--gallery-gap":c}),[o,l,c]),P=y.useCallback((Y,re,q)=>{const oe=t(Y,re),ve=u?.enabled!==!1?G(re):null,be=q!==void 0?{position:"absolute",top:q,left:0,right:0}:{};return f.jsx("div",{id:`gallery-item-${re}`,className:Z(Ie.galleryItem,i&&Ie.galleryItemGrow,h&&Ie.galleryItemClickable,k.card?.className),style:{...be,...k.card?.style},role:"gridcell","aria-rowindex":Math.floor(re/B)+1,"aria-colindex":re%B+1,tabIndex:ve?.tabIndex??0,"data-focused":ve?.["data-focused"]??!1,onKeyDown:ve?.onKeyDown,ref:ve?.ref,onFocus:()=>{M(re),ve?.onFocus?.()},onClick:()=>{ve?.onClick?.()},children:n(Y,re)},oe)},[t,G,u,i,h,k,B,M,n]);if(V)return f.jsx("div",{ref:A,className:Z(Ie.content,k.content?.className),style:k.content?.style,...J,children:f.jsx("div",{className:Ie.virtualContainer,style:{height:U},children:f.jsx("div",{className:Z(Ie.grid,r==="compact"?Ie.gridCompact:Ie.gridDetailed),style:H,children:X.map(Y=>{const re=e[Y.index];return P(re,Y.index,Y.start)})})})});if(Q){let Y=0;return f.jsx("div",{ref:A,className:Z(Ie.content,k.content?.className),style:k.content?.style,...J,children:f.jsx("div",{className:Z(Ie.grid,r==="compact"?Ie.gridCompact:Ie.gridDetailed),style:H,role:"grid","aria-rowcount":Math.ceil(D/B),"aria-colcount":B,children:W.map(re=>{if(re.type==="header")return f.jsx(cU,{category:re.category,items:re.items,isCollapsed:re.isCollapsed,collapsible:b,onToggle:S,showCount:R,renderCustomHeader:x,styling:k},`header-${re.category}`);const q=Y++;return P(re.item,q)})})})}return f.jsx("div",{ref:A,className:Z(Ie.content,k.content?.className),style:k.content?.style,...J,children:f.jsx("div",{className:Z(Ie.grid,r==="compact"?Ie.gridCompact:Ie.gridDetailed),style:H,role:"grid","aria-rowcount":Math.ceil(e.length/B),"aria-colcount":B,children:e.map((Y,re)=>P(Y,re))})})}function dU({curPage:e,setCurPage:t,maxPage:n,labelFormat:r="{current} of {max}",styling:i={},disabled:o=!1}){const[l,c]=y.useState(String(e));y.useEffect(()=>{c(String(e))},[e]);const u=y.useCallback(()=>{const T=parseInt(l,10);isNaN(T)||T<1?(t(1),c("1")):T>n?(t(n),c(String(n))):(t(T),c(String(T)))},[l,n,t]),d=y.useCallback(T=>{T.key==="Enter"&&(u(),T.target.blur())},[u]),h=y.useCallback(()=>{e>1&&t(e-1)},[e,t]),m=y.useCallback(()=>{e<n&&t(e+1)},[e,n,t]),v=y.useCallback(()=>{t(1)},[t]),x=y.useCallback(()=>{t(n)},[t,n]);if(n<=1)return null;const w=o||e<=1,b=o||e>=n;return f.jsxs("nav",{className:Z(Ie.pagination,i.pagination?.className),style:i.pagination?.style,"aria-label":"Pagination",children:[f.jsx("button",{type:"button",className:Ie.paginationButton,onClick:v,disabled:w,"aria-label":"Go to first page",title:"First page",children:f.jsx(xn,{iconName:"chevron-bar-left",size:"1rem"})}),f.jsx("button",{type:"button",className:Ie.paginationButton,onClick:h,disabled:w,"aria-label":"Go to previous page",title:"Previous page",children:f.jsx(xn,{iconName:"chevron-left",size:"1rem"})}),f.jsxs("div",{className:Ie.paginationInputWrapper,children:[f.jsx("input",{type:"text",value:l,onChange:T=>c(T.target.value),onBlur:u,onKeyDown:d,className:Ie.paginationInput,"aria-label":"Current page",disabled:o}),f.jsxs("span",{children:["of ",n]})]}),f.jsx("button",{type:"button",className:Ie.paginationButton,onClick:m,disabled:b,"aria-label":"Go to next page",title:"Next page",children:f.jsx(xn,{iconName:"chevron-right",size:"1rem"})}),f.jsx("button",{type:"button",className:Ie.paginationButton,onClick:x,disabled:b,"aria-label":"Go to last page",title:"Last page",children:f.jsx(xn,{iconName:"chevron-bar-right",size:"1rem"})})]})}function fU({loadingSlot:e,progress:t,styling:n}){return e?typeof e=="function"?f.jsx("div",{className:Z(Ie.stateSlot,Ie.loadingSlot,n?.loadingState?.className),style:n?.loadingState?.style,role:"status","aria-busy":"true","aria-live":"polite",children:e({progress:t})}):f.jsx("div",{className:Z(Ie.stateSlot,Ie.loadingSlot,n?.loadingState?.className),style:n?.loadingState?.style,role:"status","aria-busy":"true","aria-live":"polite",children:e}):f.jsxs("div",{className:Z(Ie.stateSlot,Ie.loadingSlot,n?.loadingState?.className),style:n?.loadingState?.style,role:"status","aria-busy":"true","aria-live":"polite",children:[f.jsx("div",{className:Ie.loadingSpinner,"aria-hidden":"true"}),f.jsx("span",{className:Ie.loadingText,children:"Loading..."}),t!==void 0&&f.jsx("div",{className:Ie.loadingProgress,children:f.jsx("div",{className:Ie.loadingProgressBar,style:{width:`${Math.round(t*100)}%`},role:"progressbar","aria-valuenow":Math.round(t*100),"aria-valuemin":0,"aria-valuemax":100})})]})}function pU({error:e,errorSlot:t,onRetry:n,styling:r}){return t?typeof t=="function"?f.jsx("div",{className:Z(Ie.stateSlot,Ie.errorSlot,r?.errorState?.className),style:r?.errorState?.style,role:"alert",children:t({error:e,onRetry:n})}):f.jsx("div",{className:Z(Ie.stateSlot,Ie.errorSlot,r?.errorState?.className),style:r?.errorState?.style,role:"alert",children:t}):f.jsxs("div",{className:Z(Ie.stateSlot,Ie.errorSlot,r?.errorState?.className),style:r?.errorState?.style,role:"alert",children:[f.jsx(xn,{iconName:"exclamation-triangle-fill",className:Ie.errorIcon,size:"2.5rem"}),f.jsx("p",{className:Ie.errorMessage,children:e.message||"An error occurred while loading data."}),n&&f.jsx(gt,{onClick:n,className:Ie.retryButton,children:"Try Again"})]})}function hU({emptySlot:e,emptyMessage:t="No items found",noResultsMessage:n,searchQuery:r,hasActiveFilters:i=!1,styling:o}){const l=!!(r?.trim()||i),c=y.useMemo(()=>({searchQuery:r,hasActiveFilters:i}),[r,i]);if(e)return typeof e=="function"?f.jsx("div",{className:Z(Ie.stateSlot,Ie.emptySlot,o?.emptyState?.className),style:o?.emptyState?.style,role:"status",children:e(c)}):f.jsx("div",{className:Z(Ie.stateSlot,Ie.emptySlot,o?.emptyState?.className),style:o?.emptyState?.style,role:"status",children:e});const u=l?"search":"inbox",d=l?n||`No results found${r?` for "${r}"`:""}`:t,h=l?"Try adjusting your search or filters":"Items will appear here once added";return f.jsxs("div",{className:Z(Ie.stateSlot,Ie.emptySlot,o?.emptyState?.className),style:o?.emptyState?.style,role:"status",children:[f.jsx(xn,{iconName:u,className:Ie.emptyIcon,size:"3rem"}),f.jsx("p",{className:Ie.emptyMessage,children:d}),f.jsx("p",{className:Ie.emptySubMessage,children:h})]})}function Hv({data:e,keyExtractor:t,renderDetailed:n,renderCompact:r,itemGrow:i=!1,minItemWidth:o="160px",maxItemWidth:l="1fr",itemGap:c="1rem",toolbarStartSlot:u,toolbarEndSlot:d,searchFn:h,searchQuery:m,onSearchQueryChange:v,searchPlaceholder:x="Search...",searchDebounceMs:w=300,showSearchIcon:b=!0,filterMenu:T,filterMenuRef:S,filterButtonLabel:R="Filter options",sortOptions:k,sortBy:A,setSortBy:I,sortLabel:j="Sort by:",showDisplaySwitch:O=!1,viewMode:B,setViewMode:W,defaultViewMode:D="detailed",curPage:$=1,setCurPage:Q,maxPage:M=1,maxResultPerPage:G,setMaxResultPerPage:J,maxResultOptions:X,totalCount:U,paginationLabelFormat:V="{current} of {max}",showResultsPerPage:H,isLoading:P=!1,loadingSlot:Y,loadingProgress:re,error:q,errorSlot:oe,onRetry:ie,emptySlot:ve,emptyMessage:be="No items found",noResultsMessage:ke,keyboardNavigation:Ee,onItemFocus:Me,onItemActivate:me,virtualization:ge,groupBy:Le,renderCategoryHeader:ae,categoryOrder:xe="natural",collapsibleCategories:de,defaultCollapsedCategories:Ae=[],collapsedCategories:Pe,onCategoryToggle:kt,showCategoryCount:Ct=!0,styling:dt={},ariaLabel:$t,ariaLabelledBy:Rt,ariaDescribedBy:cn}){const Wt=y.useId(),[_n,At]=y.useState(D),wn=B??_n,ki=W??At,[Gr,Hr]=y.useState(()=>new Set(Ae)),po=Pe??Gr,Ri=de??!!Le,Je=y.useCallback((un,ns)=>{Pe||Hr(bn=>{const Ln=new Set(bn);return ns?Ln.add(un):Ln.delete(un),Ln}),kt?.(un,ns)},[Pe,kt]),Jn=y.useMemo(()=>wn==="compact"&&r?r:n,[wn,r,n]),Wn=y.useMemo(()=>H!==void 0?H:!!X&&X.length>0&&!!J,[H,X,J]),si=y.useMemo(()=>{if(!S?.current)return!1;const un=S.current.getValue?.();return un!=null},[S]);return P?f.jsx("div",{className:Z(Ie.container,dt.container?.className),style:dt.container?.style,role:"region","aria-label":$t||"Gallery","aria-labelledby":Rt,"aria-describedby":cn,"aria-busy":"true",children:f.jsx(fU,{loadingSlot:Y,progress:re,styling:dt})}):q?f.jsx("div",{className:Z(Ie.container,dt.container?.className),style:dt.container?.style,role:"region","aria-label":$t||"Gallery","aria-labelledby":Rt,"aria-describedby":cn,children:f.jsx(pU,{error:q,errorSlot:oe,onRetry:ie,styling:dt})}):e.length===0?f.jsxs("div",{className:Z(Ie.container,dt.container?.className),style:dt.container?.style,role:"region","aria-label":$t||"Gallery","aria-labelledby":Rt,"aria-describedby":cn,children:[f.jsx(Yb,{searchFn:h,searchQuery:m,onSearchQueryChange:v,searchPlaceholder:x,searchDebounceMs:w,showSearchIcon:b,filterMenu:T,filterMenuRef:S,filterButtonLabel:R,sortOptions:k,sortBy:A,setSortBy:I,sortLabel:j,showViewToggle:O,viewMode:wn,setViewMode:ki,showResultsPerPage:Wn,maxResultPerPage:G,setMaxResultPerPage:J,maxResultOptions:X,totalCount:U,filteredCount:0,toolbarStartSlot:u,toolbarEndSlot:d,styling:dt}),f.jsx(hU,{emptySlot:ve,emptyMessage:be,noResultsMessage:ke,searchQuery:m,hasActiveFilters:si,styling:dt})]}):f.jsxs("div",{className:Z(Ie.container,dt.container?.className),style:dt.container?.style,role:"region","aria-label":$t||"Gallery","aria-labelledby":Rt,"aria-describedby":cn,id:`gallery-${Wt}`,children:[f.jsx(Yb,{searchFn:h,searchQuery:m,onSearchQueryChange:v,searchPlaceholder:x,searchDebounceMs:w,showSearchIcon:b,filterMenu:T,filterMenuRef:S,filterButtonLabel:R,sortOptions:k,sortBy:A,setSortBy:I,sortLabel:j,showViewToggle:O,viewMode:wn,setViewMode:ki,showResultsPerPage:Wn,maxResultPerPage:G,setMaxResultPerPage:J,maxResultOptions:X,totalCount:U,filteredCount:e.length,toolbarStartSlot:u,toolbarEndSlot:d,styling:dt}),f.jsx(uU,{data:e,keyExtractor:t,renderItem:Jn,viewMode:wn,itemGrow:i,minItemWidth:o,maxItemWidth:l,itemGap:c,keyboardNavigation:Ee,onItemFocus:Me,onItemActivate:me,virtualization:ge,groupBy:Le,renderCategoryHeader:ae,categoryOrder:xe,collapsibleCategories:Ri,collapsedCategories:po,onCategoryToggle:Je,showCategoryCount:Ct,styling:dt}),Q&&M>1&&f.jsx(dU,{curPage:$,setCurPage:Q,maxPage:M,labelFormat:V,styling:dt})]})}const mU=[{value:"pronunciation-asc",displayComponent:f.jsx("span",{children:"Pronunciation (A-Z)"})},{value:"pronunciation-desc",displayComponent:f.jsx("span",{children:"Pronunciation (Z-A)"})},{value:"descendants-desc",displayComponent:f.jsx("span",{children:"Most Descendants"})},{value:"descendants-asc",displayComponent:f.jsx("span",{children:"Fewest Descendants"})},{value:"created-desc",displayComponent:f.jsx("span",{children:"Newest First"})},{value:"created-asc",displayComponent:f.jsx("span",{children:"Oldest First"})}],gU=[12,24,48,96];function yU({lexicons:e,graphemeMap:t,isLoading:n,error:r,defaultViewMode:i="expanded",onLexiconClick:o}){const{api:l,refresh:c}=hn(),[u,d]=y.useState(null),[h,m]=y.useState(!1),[v,x]=y.useState(null),w=q=>q==="expanded"?"detailed":"compact",[b,T]=y.useState(w(i)),[S,R]=y.useState(""),[k,A]=y.useState("pronunciation-asc"),[I,j]=y.useState(1),[O,B]=y.useState(24),[W,D]=y.useState("all"),$=y.useMemo(()=>{let q=e;if(W==="native"?q=q.filter(oe=>oe.is_native):W==="external"&&(q=q.filter(oe=>!oe.is_native)),S.trim()){const oe=S.toLowerCase().trim();q=q.filter(ie=>!!(ie.pronunciation?.toLowerCase().includes(oe)||ie.lemma.toLowerCase().includes(oe)||ie.meaning?.toLowerCase().includes(oe)))}return q=[...q].sort((oe,ie)=>{switch(k){case"pronunciation-asc":return(oe.pronunciation??oe.lemma).localeCompare(ie.pronunciation??ie.lemma);case"pronunciation-desc":return(ie.pronunciation??ie.lemma).localeCompare(oe.pronunciation??oe.lemma);case"descendants-desc":return(ie.descendants?.length??0)-(oe.descendants?.length??0);case"descendants-asc":return(oe.descendants?.length??0)-(ie.descendants?.length??0);case"created-desc":return new Date(ie.created_at).getTime()-new Date(oe.created_at).getTime();case"created-asc":return new Date(oe.created_at).getTime()-new Date(ie.created_at).getTime();default:return 0}}),q},[e,S,k,W]),Q=Math.max(1,Math.ceil($.length/O)),M=Math.min(I,Q);M!==I&&j(M);const G=y.useMemo(()=>{const q=(M-1)*O;return $.slice(q,q+O)},[$,M,O]),J=y.useCallback(q=>{R(q),j(1)},[]),X=y.useCallback(q=>{o&&o(q)},[o]),U=y.useCallback((q,oe)=>{oe?.stopPropagation();const ie=q.descendants?.length??0;if(ie>0){const ve=q.descendants.slice(0,3).map(ke=>ke.descendant.lemma).join(", "),be=ie>3?` and ${ie-3} more`:"";x(`This word has ${ie} descendant${ie!==1?"s":""}: ${ve}${be}. Deleting it will remove the etymology links from those words.`)}else x(null);d(q)},[]),V=y.useCallback(async()=>{if(u){m(!0);try{const q=l.lexicon.delete(u.id);if(!q.success)console.error("Failed to delete lexicon entry:",q.error?.message);else try{c?.()}catch{}d(null),x(null)}catch(q){console.error("Failed to delete lexicon entry",q)}finally{m(!1)}}},[l,c,u]),H=y.useCallback(q=>f.jsxs("div",{onClick:()=>o?.(q),style:{cursor:o?"pointer":"default",transition:"transform 0.2s ease, box-shadow 0.2s ease",borderRadius:"8px",position:"relative"},className:o?"lexicon-clickable":void 0,role:o?"button":void 0,tabIndex:o?0:void 0,onKeyDown:o?oe=>{(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),o(q))}:void 0,onMouseEnter:oe=>{o&&(oe.currentTarget.style.transform="translateY(-2px)",oe.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)")},onMouseLeave:oe=>{o&&(oe.currentTarget.style.transform="translateY(0)",oe.currentTarget.style.boxShadow="none")},children:[f.jsx("div",{style:{position:"absolute",top:8,right:8,zIndex:10},children:f.jsx($e,{iconName:"trash",iconColor:"var(--status-bad)",onClick:oe=>U(q,oe),"aria-label":`Delete ${q.pronunciation??q.lemma}`})}),f.jsx(UT,{lexiconData:q,graphemeMap:t})]}),[o,U,t]),P=y.useCallback(q=>f.jsxs("div",{style:{position:"relative"},children:[f.jsx("div",{style:{position:"absolute",top:6,right:6,zIndex:10},children:f.jsx($e,{iconName:"trash",iconColor:"var(--status-bad)",onClick:oe=>U(q,oe),"aria-label":`Delete ${q.pronunciation??q.lemma}`})}),f.jsx(eV,{lexiconData:q,graphemeMap:t,onClick:o?()=>o(q):void 0})]}),[o,U,t]),Y=y.useMemo(()=>f.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[f.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Filter:"}),f.jsxs("select",{value:W,onChange:q=>{D(q.target.value),j(1)},style:{padding:"0.25rem 0.5rem",borderRadius:"4px",border:"1px solid var(--border-primary)",background:"var(--surface-base)",color:"var(--text-primary)",fontSize:"0.875rem"},children:[f.jsx("option",{value:"all",children:"All Words"}),f.jsx("option",{value:"native",children:"Native Only"}),f.jsx("option",{value:"external",children:"External Only"})]})]}),[W]),re=y.useCallback(({searchQuery:q,hasActiveFilters:oe})=>q||(oe||W!=="all")?f.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[f.jsxs("p",{children:["No words match your search ",q&&`"${q}"`]}),f.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Try adjusting your search or filter settings"})]}):f.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[f.jsx("p",{children:"No words found. Create one to get started!"}),f.jsx($e,{as:jt,to:"/lexicon/create",iconName:"plus-lg",className:ht.primary,style:{marginTop:"1rem"},children:"Create Your First Word"})]}),[W]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{style:{marginBottom:"0.5rem"},children:Y}),f.jsx(Hv,{data:G,keyExtractor:q=>q.id,renderDetailed:H,renderCompact:P,minItemWidth:"200px",itemGap:"1rem",searchFn:J,searchQuery:S,onSearchQueryChange:R,searchPlaceholder:"Search by lemma, pronunciation, meaning...",sortOptions:mU,sortBy:k,setSortBy:A,viewMode:b,setViewMode:T,showDisplaySwitch:!0,curPage:M,setCurPage:j,maxPage:Q,maxResultPerPage:O,setMaxResultPerPage:B,maxResultOptions:gU,totalCount:$.length,isLoading:n,error:r,emptySlot:re,onItemActivate:X,keyboardNavigation:{enabled:!0,mode:"roving",wrapAround:!0},virtualization:{autoEnableThreshold:100,estimatedItemHeight:b==="detailed"?180:200},styling:{content:{style:{padding:"1rem"}}},ariaLabel:"Lexicon gallery"}),f.jsx(cr,{isOpen:u!==null,setIsOpen:q=>{q||(d(null),x(null))},onClose:()=>{d(null),x(null)},allowClose:!0,children:f.jsxs("div",{style:{padding:"1rem",minWidth:320},children:[f.jsx("h2",{style:{marginTop:0},children:"Delete word"}),f.jsxs("p",{children:["Are you sure you want to delete ",f.jsx("strong",{children:u?.pronunciation??u?.lemma}),"?"]}),v&&f.jsxs("div",{style:{padding:"0.75rem",background:"var(--status-warning-bg, #fef3cd)",border:"1px solid var(--status-warning, #ffc107)",borderRadius:"4px",marginBottom:"1rem",fontSize:"0.875rem"},children:[f.jsx("strong",{children:"Warning:"})," ",v]}),f.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end",marginTop:"1rem"},children:[f.jsx(gt,{onClick:()=>{d(null),x(null)},disabled:h,children:"Cancel"}),f.jsx(gt,{onClick:V,disabled:h,style:{background:"var(--danger)",color:"white"},children:h?"Deleting...":"Delete Word"})]})]})})]})}function vU(){const e=Qn(),{data:t,isLoading:n,error:r}=hn(),i=t.lexiconComplete??[],o=y.useMemo(()=>new Map((t.graphemesComplete??[]).map(c=>[c.id,c])),[t.graphemesComplete]),l=y.useCallback(c=>{e(`/lexicon/db/${c.id}`)},[e]);return f.jsxs("div",{className:Z(pe.flexColumn,Ot.parentSize),style:{gap:"1rem"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 0.5rem"},children:[f.jsx("h2",{style:{margin:0},children:"Lexicon"}),f.jsx($e,{as:jt,to:"/lexicon/create",iconName:"plus-lg",className:ht.primary,children:"New Word"})]}),f.jsx("div",{style:{flex:1,minHeight:0,overflow:"auto"},children:f.jsx(yU,{lexicons:i,graphemeMap:o,isLoading:n,error:r,onLexiconClick:l})})]})}async function xU(e,t){await Promise.all(e.map(n=>Promise.resolve(n(t))))}function _U(e){const t=n=>async r=>{const i=[...e[n],...e.all];await xU(i,r)};return{onChange:t("onChange"),onBlur:t("onBlur"),onFocus:t("onFocus"),onInput:t("onInput"),onSubmit:t("onSubmit")}}const zT=e=>e===void 0||e===""||e===null,WT=(e,t,n,r,i=!1)=>{let o=null,l=null,c;if(t!=null)o=t,l=t,c=!1;else if(n){const u=e!==void 0?e:"",d=n.validator(u,r);l=d,d!==null&&!i?o=null:o=d,c=d===null}else c=!0;return{warning:o,isValid:c,actualWarning:l}},xy=(e,t,n)=>({isEmpty:zT(e),isTouched:!1,warning:t,isInputValid:n,isChanged:!1}),Yc=(e,t,n)=>{e(r=>({...r,[t]:{...r[t],...n}}))},wU=(e,t)=>()=>{e(n=>n[t]?.isTouched===!0?n:{...n,[t]:{...n[t],isTouched:!0}})},bU=(e,t)=>n=>{const r=n.currentTarget?.value||n.target.value,i=zT(r);e(o=>o[t]?.isEmpty===i?o:{...o,[t]:{...o[t],isEmpty:i}})},EU=(e,t,n,r)=>async(i,o)=>{if(n)try{const l=n(o);l===null&&r&&r(i,o),e(c=>{const u=c[t],d=l===null,h=u?.warning?.message!==l?.message||u?.warning?.type!==l?.type;return u?.isInputValid===d&&!h?c:{...c,[t]:{...c[t],warning:l,isInputValid:d}}})}catch(l){console.error("Unexpected validation error",l),e(c=>({...c,[t]:{...c[t],warning:{message:"Validation error occurred",type:"error",category:"validation_error"},isInputValid:!1}}))}},SU=e=>async t=>{if(!e)return;const r=t.target.type==="file"?t.target.files:t.target.value;await e(t,r)},CU=(e,t,n,r)=>()=>{const i=n();if(!i){console.warn(`Cannot reset field "${t}": initial options not found`);return}const o=i.defaultValue||void 0,l=i.showWarningOnInitial===!0,{warning:c,isValid:u}=WT(o,i.defaultWarning,i.validation,t,l),d=xy(o,c,u);e(v=>({...v,[t]:d}));const m=r()?.current;m&&(o!==void 0?m.value=o:m.value="")},TU=e=>{const t=Object.values(e),n=t.length,r=n>0&&t.every(d=>d.isInputValid),i=n===0||t.every(d=>d.isEmpty),o=t.some(d=>d.isTouched),l=t.some(d=>d.isChanged),c=t.map(d=>d.warning).filter(d=>d!==null),u=t.filter(d=>!d.isInputValid).length;return{isValid:r,isEmpty:i,isTouched:o,isChanged:l,isDirty:l,warning:c.length>0?c:null,fieldCount:n,invalidFieldCount:u,isSubmittable:r&&!i}};async function NU(e,t){const n=t?.quality??.8;return new Promise((r,i)=>{const o=new Image,l=document.createElement("canvas"),c=l.getContext("2d");if(!c){i(new Error("Canvas context failed - your browser is cooked "));return}o.onload=()=>{l.width=o.width,l.height=o.height,c.drawImage(o,0,0),l.toBlob(u=>{if(!u){i(new Error("Compression failed"));return}const d=new File([u],e.name,{type:"image/jpeg",lastModified:Date.now()});r(d)},"image/jpeg",n)},o.onerror=()=>i(new Error("Failed to load image")),o.src=URL.createObjectURL(e)})}var lg={exports:{}};var Xb;function kU(){return Xb||(Xb=1,(function(e){(function(){var t="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",o=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node&&process.type!="renderer";o?r=Ck:i&&(r=self);var l=!r.JS_SHA256_NO_COMMON_JS&&!0&&e.exports,c=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),d=[-2147483648,8388608,32768,128],h=[24,16,8,0],m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v=["hex","array","digest","arrayBuffer"],x=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(j){return Object.prototype.toString.call(j)==="[object Array]"}),c&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(j){return typeof j=="object"&&j.buffer&&j.buffer.constructor===ArrayBuffer});var w=function(j,O){return function(B){return new k(O,!0).update(B)[j]()}},b=function(j){var O=w("hex",j);o&&(O=T(O,j)),O.create=function(){return new k(j)},O.update=function(D){return O.create().update(D)};for(var B=0;B<v.length;++B){var W=v[B];O[W]=w(W,j)}return O},T=function(j,O){var B=Lf,W=Lf.Buffer,D=O?"sha224":"sha256",$;W.from&&!r.JS_SHA256_NO_BUFFER_FROM?$=W.from:$=function(M){return new W(M)};var Q=function(M){if(typeof M=="string")return B.createHash(D).update(M,"utf8").digest("hex");if(M==null)throw new Error(t);return M.constructor===ArrayBuffer&&(M=new Uint8Array(M)),Array.isArray(M)||ArrayBuffer.isView(M)||M.constructor===W?B.createHash(D).update($(M)).digest("hex"):j(M)};return Q},S=function(j,O){return function(B,W){return new A(B,O,!0).update(W)[j]()}},R=function(j){var O=S("hex",j);O.create=function(D){return new A(D,j)},O.update=function(D,$){return O.create(D).update($)};for(var B=0;B<v.length;++B){var W=v[B];O[W]=S(W,j)}return O};function k(j,O){O?(x[0]=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0,this.blocks=x):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=j}k.prototype.update=function(j){if(!this.finalized){var O,B=typeof j;if(B!=="string"){if(B==="object"){if(j===null)throw new Error(t);if(c&&j.constructor===ArrayBuffer)j=new Uint8Array(j);else if(!Array.isArray(j)&&(!c||!ArrayBuffer.isView(j)))throw new Error(t)}else throw new Error(t);O=!0}for(var W,D=0,$,Q=j.length,M=this.blocks;D<Q;){if(this.hashed&&(this.hashed=!1,M[0]=this.block,this.block=M[16]=M[1]=M[2]=M[3]=M[4]=M[5]=M[6]=M[7]=M[8]=M[9]=M[10]=M[11]=M[12]=M[13]=M[14]=M[15]=0),O)for($=this.start;D<Q&&$<64;++D)M[$>>>2]|=j[D]<<h[$++&3];else for($=this.start;D<Q&&$<64;++D)W=j.charCodeAt(D),W<128?M[$>>>2]|=W<<h[$++&3]:W<2048?(M[$>>>2]|=(192|W>>>6)<<h[$++&3],M[$>>>2]|=(128|W&63)<<h[$++&3]):W<55296||W>=57344?(M[$>>>2]|=(224|W>>>12)<<h[$++&3],M[$>>>2]|=(128|W>>>6&63)<<h[$++&3],M[$>>>2]|=(128|W&63)<<h[$++&3]):(W=65536+((W&1023)<<10|j.charCodeAt(++D)&1023),M[$>>>2]|=(240|W>>>18)<<h[$++&3],M[$>>>2]|=(128|W>>>12&63)<<h[$++&3],M[$>>>2]|=(128|W>>>6&63)<<h[$++&3],M[$>>>2]|=(128|W&63)<<h[$++&3]);this.lastByteIndex=$,this.bytes+=$-this.start,$>=64?(this.block=M[16],this.start=$-64,this.hash(),this.hashed=!0):this.start=$}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var j=this.blocks,O=this.lastByteIndex;j[16]=this.block,j[O>>>2]|=d[O&3],this.block=j[16],O>=56&&(this.hashed||this.hash(),j[0]=this.block,j[16]=j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=j[10]=j[11]=j[12]=j[13]=j[14]=j[15]=0),j[14]=this.hBytes<<3|this.bytes>>>29,j[15]=this.bytes<<3,this.hash()}},k.prototype.hash=function(){var j=this.h0,O=this.h1,B=this.h2,W=this.h3,D=this.h4,$=this.h5,Q=this.h6,M=this.h7,G=this.blocks,J,X,U,V,H,P,Y,re,q,oe,ie;for(J=16;J<64;++J)H=G[J-15],X=(H>>>7|H<<25)^(H>>>18|H<<14)^H>>>3,H=G[J-2],U=(H>>>17|H<<15)^(H>>>19|H<<13)^H>>>10,G[J]=G[J-16]+X+G[J-7]+U<<0;for(ie=O&B,J=0;J<64;J+=4)this.first?(this.is224?(re=300032,H=G[0]-1413257819,M=H-150054599<<0,W=H+24177077<<0):(re=704751109,H=G[0]-210244248,M=H-1521486534<<0,W=H+143694565<<0),this.first=!1):(X=(j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10),U=(D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7),re=j&O,V=re^j&B^ie,Y=D&$^~D&Q,H=M+U+Y+m[J]+G[J],P=X+V,M=W+H<<0,W=H+P<<0),X=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),U=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),q=W&j,V=q^W&O^re,Y=M&D^~M&$,H=Q+U+Y+m[J+1]+G[J+1],P=X+V,Q=B+H<<0,B=H+P<<0,X=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),U=(Q>>>6|Q<<26)^(Q>>>11|Q<<21)^(Q>>>25|Q<<7),oe=B&W,V=oe^B&j^q,Y=Q&M^~Q&D,H=$+U+Y+m[J+2]+G[J+2],P=X+V,$=O+H<<0,O=H+P<<0,X=(O>>>2|O<<30)^(O>>>13|O<<19)^(O>>>22|O<<10),U=($>>>6|$<<26)^($>>>11|$<<21)^($>>>25|$<<7),ie=O&B,V=ie^O&W^oe,Y=$&Q^~$&M,H=D+U+Y+m[J+3]+G[J+3],P=X+V,D=j+H<<0,j=H+P<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+j<<0,this.h1=this.h1+O<<0,this.h2=this.h2+B<<0,this.h3=this.h3+W<<0,this.h4=this.h4+D<<0,this.h5=this.h5+$<<0,this.h6=this.h6+Q<<0,this.h7=this.h7+M<<0},k.prototype.hex=function(){this.finalize();var j=this.h0,O=this.h1,B=this.h2,W=this.h3,D=this.h4,$=this.h5,Q=this.h6,M=this.h7,G=u[j>>>28&15]+u[j>>>24&15]+u[j>>>20&15]+u[j>>>16&15]+u[j>>>12&15]+u[j>>>8&15]+u[j>>>4&15]+u[j&15]+u[O>>>28&15]+u[O>>>24&15]+u[O>>>20&15]+u[O>>>16&15]+u[O>>>12&15]+u[O>>>8&15]+u[O>>>4&15]+u[O&15]+u[B>>>28&15]+u[B>>>24&15]+u[B>>>20&15]+u[B>>>16&15]+u[B>>>12&15]+u[B>>>8&15]+u[B>>>4&15]+u[B&15]+u[W>>>28&15]+u[W>>>24&15]+u[W>>>20&15]+u[W>>>16&15]+u[W>>>12&15]+u[W>>>8&15]+u[W>>>4&15]+u[W&15]+u[D>>>28&15]+u[D>>>24&15]+u[D>>>20&15]+u[D>>>16&15]+u[D>>>12&15]+u[D>>>8&15]+u[D>>>4&15]+u[D&15]+u[$>>>28&15]+u[$>>>24&15]+u[$>>>20&15]+u[$>>>16&15]+u[$>>>12&15]+u[$>>>8&15]+u[$>>>4&15]+u[$&15]+u[Q>>>28&15]+u[Q>>>24&15]+u[Q>>>20&15]+u[Q>>>16&15]+u[Q>>>12&15]+u[Q>>>8&15]+u[Q>>>4&15]+u[Q&15];return this.is224||(G+=u[M>>>28&15]+u[M>>>24&15]+u[M>>>20&15]+u[M>>>16&15]+u[M>>>12&15]+u[M>>>8&15]+u[M>>>4&15]+u[M&15]),G},k.prototype.toString=k.prototype.hex,k.prototype.digest=function(){this.finalize();var j=this.h0,O=this.h1,B=this.h2,W=this.h3,D=this.h4,$=this.h5,Q=this.h6,M=this.h7,G=[j>>>24&255,j>>>16&255,j>>>8&255,j&255,O>>>24&255,O>>>16&255,O>>>8&255,O&255,B>>>24&255,B>>>16&255,B>>>8&255,B&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255,D>>>24&255,D>>>16&255,D>>>8&255,D&255,$>>>24&255,$>>>16&255,$>>>8&255,$&255,Q>>>24&255,Q>>>16&255,Q>>>8&255,Q&255];return this.is224||G.push(M>>>24&255,M>>>16&255,M>>>8&255,M&255),G},k.prototype.array=k.prototype.digest,k.prototype.arrayBuffer=function(){this.finalize();var j=new ArrayBuffer(this.is224?28:32),O=new DataView(j);return O.setUint32(0,this.h0),O.setUint32(4,this.h1),O.setUint32(8,this.h2),O.setUint32(12,this.h3),O.setUint32(16,this.h4),O.setUint32(20,this.h5),O.setUint32(24,this.h6),this.is224||O.setUint32(28,this.h7),j};function A(j,O,B){var W,D=typeof j;if(D==="string"){var $=[],Q=j.length,M=0,G;for(W=0;W<Q;++W)G=j.charCodeAt(W),G<128?$[M++]=G:G<2048?($[M++]=192|G>>>6,$[M++]=128|G&63):G<55296||G>=57344?($[M++]=224|G>>>12,$[M++]=128|G>>>6&63,$[M++]=128|G&63):(G=65536+((G&1023)<<10|j.charCodeAt(++W)&1023),$[M++]=240|G>>>18,$[M++]=128|G>>>12&63,$[M++]=128|G>>>6&63,$[M++]=128|G&63);j=$}else if(D==="object"){if(j===null)throw new Error(t);if(c&&j.constructor===ArrayBuffer)j=new Uint8Array(j);else if(!Array.isArray(j)&&(!c||!ArrayBuffer.isView(j)))throw new Error(t)}else throw new Error(t);j.length>64&&(j=new k(O,!0).update(j).array());var J=[],X=[];for(W=0;W<64;++W){var U=j[W]||0;J[W]=92^U,X[W]=54^U}k.call(this,O,B),this.update(X),this.oKeyPad=J,this.inner=!0,this.sharedMemory=B}A.prototype=new k,A.prototype.finalize=function(){if(k.prototype.finalize.call(this),this.inner){this.inner=!1;var j=this.array();k.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(j),k.prototype.finalize.call(this)}};var I=b();I.sha256=I,I.sha224=b(!0),I.sha256.hmac=R(),I.sha224.hmac=R(!0),l?e.exports=I:(r.sha256=I.sha256,r.sha224=I.sha224)})()})(lg)),lg.exports}var RU=kU();async function AU(e){const t=await e.arrayBuffer(),n=RU.sha256(t),r=[];for(let l=0;l<n.length;l+=2)r.push(parseInt(n.substring(l,l+2),16));const i=new Uint8Array(r);let o="";for(let l=0;l<i.length;l++)o+=String.fromCharCode(i[l]);return btoa(o)}const _i={CDN_INVALID_ASSET_TYPE:"smartForm.cdn.error.invalidAssetType",CDN_INTERNAL_ERROR:"smartForm.cdn.error.internalError",PREPROCESS_COMPRESSION_DISABLED:"smartForm.preprocess.error.compressionDisabled",PREPROCESS_VIDEO_TOO_LARGE:"smartForm.preprocess.error.videoTooLarge",PREPROCESS_UNSUPPORTED_TYPE:"smartForm.preprocess.error.unsupportedType",UPLOAD_INVALID_FIELD:"smartForm.upload.error.invalidField",UPLOAD_PRESIGN_FAILED:"smartForm.upload.error.presignFailed",UPLOAD_FAILED:"smartForm.upload.error.uploadFailed"};class wi extends Error{constructor(t,n,r=400){super(n),this.name="SmartFormError",this.code=t,this.statusCode=r}}async function jU({file:e,assetType:t,options:n}){if(n?.maxSizeInBytes&&e.size>n.maxSizeInBytes)switch(!0){case e.type.startsWith("image/"):if(!n?.doCompression)throw new wi(_i.PREPROCESS_COMPRESSION_DISABLED,"Image file too large - compression disabled ",400);e=await NU(e,n);break;case e.type.startsWith("video/"):throw new wi(_i.PREPROCESS_VIDEO_TOO_LARGE,"Video files too large - compress server-side ",400);default:throw new wi(_i.PREPROCESS_UNSUPPORTED_TYPE,`File type ${e.type} cannot be compressed`,400)}const r=await AU(e);return{file:e,assetType:t,presignRequest:{checksum:r,type:e.type,size:e.size,lastModified:e.lastModified}}}var Ul={};function IU(e,t){if(t)return t;const n=Ul.NEXT_PUBLIC_SMARTFORM_CDN_PRESIGN_URL||Ul.NEXT_PUBLIC_CDN_DEFAULT_PRESIGN_URL;if(!n)throw new wi(_i.CDN_INTERNAL_ERROR,"NEXT_PUBLIC_SMARTFORM_CDN_PRESIGN_URL is not configured. Set this environment variable or provide a custom presignEndpoint.",500);if(!e)throw new wi(_i.CDN_INVALID_ASSET_TYPE,"Asset type is required for CDN upload",400);return`${n}/${e}`}function PU(e){const t=Ul.NEXT_PUBLIC_SMARTFORM_CDN_CONFIRM_URL||Ul.NEXT_PUBLIC_CDN_DEFAULT_CONFIRM_URL;if(t)return`${t}/${e}`;const n=Ul.NEXT_PUBLIC_SMARTFORM_CDN_PRESIGN_URL||Ul.NEXT_PUBLIC_CDN_DEFAULT_PRESIGN_URL;return n?`${n.replace(/\/presign\/?$/,"/confirm")}/${e}`:`/api/cdn/confirm/${e}`}async function LU(e,t,n){const r=[],i=Object.keys(t),o={},l=()=>{if(!n)return;const d=Object.values(o).reduce((m,v)=>m+v,0),h=i.length>0?Math.round(d/i.length*100):100;n(h,null)};for(const d of i){const h=t[d];if(!h)throw new wi(_i.CDN_INTERNAL_ERROR,`No presign configuration found for asset type "${d}". Check your presignFileUploadMap configuration.`,500);const m=(async()=>{o[d]=0,l();const v=e[d];if(v==null)return[d,null];if(!(v instanceof File))throw new wi(_i.UPLOAD_INVALID_FIELD,`Field "${h.assetType}" expected a File object, got ${typeof v}. Ensure the input type is "file".`,400);const x=await jU({file:v,assetType:h.assetType,options:h.options}),w=x.presignRequest.checksum,b=IU(h.assetType,h.presignEndpoint),T=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x.presignRequest)});if(!T.ok){const j=await T.json().catch(()=>({}));throw new wi(_i.UPLOAD_PRESIGN_FAILED,`Presign request failed for "${h.assetType}": ${T.status} ${T.statusText}. Details: ${JSON.stringify(j)}`,T.status)}const S=await T.json();if(!S.uploadUrl)return o[d]=100,l(),[d,{objectRecordId:S.objectRecordId,blobId:S.blobId,accessUrl:S.accessUrl,deduplicated:!0,parameterizedUrl:S.parameterizedUrl}];if(n)await new Promise((j,O)=>{const B=new XMLHttpRequest;B.open("PUT",S.uploadUrl);const W=S.requiredHeaders||{};Object.entries(W).forEach(([D,$])=>B.setRequestHeader(D,$)),B.setRequestHeader("x-amz-checksum-sha256",w),B.upload.onprogress=D=>{if(D.lengthComputable){const $=Math.round(D.loaded/D.total*100);o[d]=$,n(Math.round(Object.values(o).reduce((Q,M)=>Q+M,0)/i.length),{fieldName:d,percent:$})}},B.onload=()=>{if(B.status>=200&&B.status<300)o[d]=100,n(Math.round(Object.values(o).reduce((D,$)=>D+$,0)/i.length),{fieldName:d,percent:100}),j();else{const D=B.responseText||B.statusText;O(new wi(_i.UPLOAD_FAILED,`File upload to S3 failed for "${h.assetType}": ${B.status} ${B.statusText}. S3 Error: ${D}`,B.status))}},B.onerror=()=>O(new wi(_i.UPLOAD_FAILED,`Network error during upload for "${h.assetType}"`,499)),B.send(x.file)});else{const j=await fetch(S.uploadUrl,{method:"PUT",headers:{...S.requiredHeaders||{},"x-amz-checksum-sha256":w},body:x.file});if(!j.ok){const O=await j.text().catch(()=>"Unknown error");throw new wi(_i.UPLOAD_FAILED,`File upload to S3 failed for "${h.assetType}": ${j.status} ${j.statusText}. S3 Error: ${O}`,j.status)}o[d]=100,l()}const R=PU(S.objectRecordId),A=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({checksum:w})});if(!A.ok){const j=await A.json().catch(()=>({}));let O;switch(A.status){case 400:O=`Upload validation failed: ${JSON.stringify(j)}`;break;case 403:O="Permission denied: You don't have access to this upload";break;case 404:O="Upload record not found. The presigned URL may have expired.";break;default:O=`Confirm failed: ${A.status} ${A.statusText}`}throw new wi(_i.UPLOAD_FAILED,`Upload confirmation failed for "${h.assetType}": ${O}`,A.status)}const I=await A.json();return o[d]=100,l(),[d,{objectRecordId:I.objectRecordId,blobId:I.blobId,accessUrl:I.accessUrl,deduplicated:I.deduplicated,parameterizedUrl:I.parameterizedUrl}]})();r.push(m)}const c=await Promise.all(r),u={};for(const[d,h]of c)h!==null&&(u[d]=h);return u}const OU=({formValues:e,method:t,action:n,target:r})=>{const i=document.createElement("form");i.method=t||"POST",i.action=n||"",Object.entries(e).forEach(([o,l])=>{const c=document.createElement("input");c.type="hidden",c.name=o,Array.isArray(l)||typeof l=="object"&&l!==null?c.value=JSON.stringify(l):c.value=String(l||""),i.appendChild(c)}),r&&(i.target=r),document.body.appendChild(i),i.submit(),document.body.removeChild(i)};function Za({mode:e="onChange"}={}){const t=y.useRef({}),[n,r]=y.useState({}),i=y.useRef({}),[o,l]=y.useState({}),c=y.useRef(null),{showProcessingLockModal:u,setContent:d}=ZC(),h=y.useRef({}),m=y.useMemo(()=>{const T=Object.values(n);return T.length>0&&T.every(S=>S.isInputValid)},[n]),v=y.useCallback(T=>{if(!t.current[T]){const S={current:null};return t.current={...t.current,[T]:S},S}return t.current[T]},[]);y.useLayoutEffect(()=>{const T=i.current;if(Object.keys(T).length===0)return;const S={};Object.entries(T).forEach(([R,k])=>{if(n[R])return;const A=k.defaultValue||void 0,I=k.showWarningOnInitial===!0,{warning:j,isValid:O}=WT(A,k.defaultWarning,k.validation,R,I);S[R]=xy(A,j,O),v(R)}),Object.keys(S).length>0&&(r(R=>({...R,...S})),l(R=>({...R,...T}))),i.current={}}),y.useEffect(()=>{if(Object.keys(n).length===0)return;const T=[100,300,600,1e3],S=[];return T.forEach(R=>{const k=setTimeout(()=>{Object.entries(n).forEach(([A,I])=>{if(!I.isEmpty)return;const j=t.current[A]?.current;if(!j)return;const O=j.value;if(O!=null&&O!==""){const W=o[A];if(W?.validation){const D=W.validation.validator,$=D(O,A),Q=$===null;r(M=>M[A]?.isEmpty?{...M,[A]:{...M[A],isEmpty:!1,isInputValid:Q,warning:$,isChanged:!0}}:M)}else r(D=>D[A]?.isEmpty?{...D,[A]:{...D[A],isEmpty:!1,isChanged:!0}}:D)}})},R);S.push(k)}),()=>S.forEach(R=>clearTimeout(R))},[Object.keys(n).join(","),o]);const x=y.useCallback((T,S={})=>{!n[T]&&!i.current[T]&&(i.current={...i.current,[T]:S});const R=S.defaultValue||void 0,k=JSON.stringify({hasValidation:!!S.validation,hasOnChange:!!S.onChange,hasOnBlur:!!S.onBlur,hasOnFocus:!!S.onFocus,hasOnInput:!!S.onInput,hasOnValidated:!!S.onValidated}),A=h.current[T];let I;if(A&&A.optionsHash===k)I=A.handlers;else{const M=wU(r,T),G=bU(r,T);let J;S.validation?J=H=>S.validation.validator(H,T):J=()=>null;const X=EU(r,T,J,S.onValidated),U=SU(X),V=CU(r,T,()=>o[T],()=>t.current[T]);I={handleSetTouched:M,handleSetEmpty:G,validateValue:X,handleValidation:U,resetField:V},h.current[T]={handlers:I,optionsHash:k}}let j={};S.validation&&(j=S.validation.htmlAttrs||{});const O={onChange:S.onChange?[S.onChange,I.handleSetEmpty]:[I.handleSetEmpty],onBlur:S.onBlur?[S.onBlur]:[],onFocus:S.onFocus?[S.onFocus,I.handleSetTouched]:[I.handleSetTouched],onInput:S.onInput?[S.onInput,I.handleSetEmpty]:[I.handleSetEmpty],onSubmit:S.onSubmit?[S.onSubmit]:[],all:[]};I.handleValidation&&(O[e].push(I.handleValidation),e==="onChange"&&O.onInput.push(I.handleValidation));const B=v(T),W=_U(O),D=xy(R,S.defaultWarning||null,!1),$=n[T]||D;let Q;return S.validation?Q=M=>S.validation.validator(M,T):Q=()=>null,{registerSmartFieldProps:{name:T,ref:B,...j,...W,...R!==void 0&&{defaultValue:R},disabled:S.disabled||!1,readOnly:S.readOnly||!1},fieldState:{isEmpty:{value:$.isEmpty,setIsEmpty:M=>Yc(r,T,{isEmpty:M})},isTouched:{value:$.isTouched,setIsTouched:M=>Yc(r,T,{isTouched:M})},warning:{value:$.warning,setWarning:M=>Yc(r,T,{warning:M})},isInputValid:{value:$.isInputValid,setIsInputValid:M=>Yc(r,T,{isInputValid:M})},isChanged:{value:$.isChanged,setIsChanged:M=>Yc(r,T,{isChanged:M})}},utils:{validatorFunction:Q,validationOptions:S.validation||null,resetField:I.resetField}}},[n,e,v,o]),w=y.useCallback(T=>{if(r(S=>{const R={...S};return delete R[T],R}),t.current[T]){const S={...t.current};delete S[T],t.current=S}if(i.current[T]){const S={...i.current};delete S[T],i.current=S}l(S=>{const R={...S};return delete R[T],R}),h.current[T]&&delete h.current[T]},[]),b=y.useCallback((T,S={})=>{const R=y.useCallback(async()=>{const O=Object.entries(n).map(async([W,D])=>{const $=t.current[W]?.current;if(!$)return[W,void 0];const Q=$.value;if(Q!=null&&typeof Q=="object"&&typeof Q.then=="function"){const M=await Q;return[W,M]}return[W,Q]}),B=await Promise.all(O);return Object.fromEntries(B)},[n]),k=S.includeCredential!==!1,A=y.useCallback(async(O,B)=>{const W=S.useFormEncoding??!1;let D,$={};if(W){const G=new URLSearchParams;Object.entries(O).forEach(([J,X])=>{X!=null&&G.append(J,String(X))}),D=G,$["Content-Type"]="application/x-www-form-urlencoded"}else D=JSON.stringify(O),$["Content-Type"]="application/json";const Q=await fetch(S.action||"",{method:S.method,headers:$,credentials:k?"include":"omit",body:D}),M=Q.headers.get("content-type");return M&&M.includes("application/json")?Q.json():{html:await Q.text(),redirected:Q.redirected,url:Q.url}},[k,S.action,S.method,S.useFormEncoding]),I=async O=>{O.preventDefault(),O.stopPropagation();let B=await R(),W=null;if(S.lockFormOnSubmit!==!1){u(),W=Oe.createRef(),d(f.jsx(lu,{ref:W,onClose:()=>{}}),{autoHide:null}),await new Promise($=>setTimeout($,0));const D=[{key:"verifying",title:"verifing Blah"},{key:"preparing",title:"preparing for upload blah"},{key:"uploading",title:"uploading blah"},{key:"confirming",title:"confirming blah"},{key:"submitting",title:"subitting form blah"}];if(S.presignFileUploadMap){const Q=Object.keys(S.presignFileUploadMap).map(M=>({key:M,title:`Uploading ${M}`}));W.current?.init(D,{title:"Starting submission...",subStepsForKey:{uploading:Q}})}else W.current?.init(D,{title:"Starting submission..."})}try{if(S.presignFileUploadMap){const $=Object.keys(S.presignFileUploadMap),Q=$.map(M=>({key:M,title:`Uploading ${M}`}));W?.current?.addSubSteps("uploading",Q);try{const M=await LU(B,S.presignFileUploadMap,(G,J)=>{W?.current?.updateProgress({stepIndex:-1,percent:G/100}),G===0?W?.current?.updateProgress({mainStepIndex:0}):G>0&&G<10?W?.current?.updateProgress({mainStepIndex:1}):G>=10&&G<100&&W?.current?.updateProgress({mainStepIndex:2}),J&&$.findIndex(U=>U===J.fieldName)>=0&&(W?.current?.updateProgress({subStepKey:J.fieldName,percent:J.percent/100,note:`${J.percent}%`}),J.percent>=100&&W?.current?.updateProgress({subStepKey:J.fieldName,subStepCompleted:!0}))});W?.current?.updateProgress({mainStepIndex:3});for(const[G,J]of Object.entries(M))B[G]=J.objectRecordId}catch(M){let G="File upload failed";throw M instanceof Error&&(G=M.message),W?.current?.complete(!1,G,null),d(f.jsx(hb,{message:G}),{autoHide:null,allowManualDismiss:!0}),M}}if(S.preSubmit){const $=await S.preSubmit(B,c),[Q,M]=$;if(M&&(B=M),!Q)return}W?.current?.updateProgress({mainStepIndex:4}),W?.current?.updateProgress({stepIndex:-1,percent:.95});let D;if(S.submitFunc?D=await S.submitFunc(B,c):S.defaultFormBehavior?OU({formValues:B,method:S.method,action:S.action}):D=await A(B,c),S.handleErrorResponse!==!1&&D&&!D.success){let $=D.message||"An error occurred";throw D.error?.message&&($=D.error.message),D.fieldErrors&&typeof D.fieldErrors=="object"&&Object.keys(D.fieldErrors).length>0&&($=`Validation failed:
${Object.entries(D.fieldErrors).map(([G,J])=>`${G}: ${J}`).join(`
`)}`),D.formErrors&&Array.isArray(D.formErrors)&&D.formErrors.length>0&&($=`Form validation failed:
${D.formErrors.join(`
`)}`),console.error("SmartForm: Server returned error response:",D),new Error($)}S.postSubmit&&S.postSubmit(D,c),S.lockFormOnSubmit!==!1&&(W?.current?.complete(!0,"Saved",800),d(f.jsx(e5,{}),{autoHide:1e3}))}catch(D){let $="Form submission failed";D instanceof Error?$=D.message:typeof D=="string"&&($=D),W?.current?.complete(!1,$,null),d(f.jsx(hb,{message:$}),{autoHide:null,allowManualDismiss:!0})}},j=TU(n);return{registerFormProps:{name:T,ref:c,action:S?.action,method:S?.method,onSubmit:I},formState:j,inputRefs:t.current,getFormValues:R,submitFunctionHelper:A,...S?.defaultError&&{warning:S.defaultError}}},[m,n]);return{registerField:x,unregisterField:w,registerForm:b,isFormValid:m}}const MU="_smartFormNotificationBoard_1c5qd_1",DU="_warning_1c5qd_16",FU="_error_1c5qd_16",$U="_success_1c5qd_20",BU="_info_1c5qd_24",qb={smartFormNotificationBoard:MU,warning:DU,error:FU,success:$U,info:BU},VU="_warningP_b0gcp_1",UU={warningP:VU};function Yv({warning:e,className:t,twinIcon:n=!1,style:r,...i}){return e?.message?f.jsxs("div",{className:Z(UU.warningP,pe.flexGapS,pe.flexRow,pe.justifyContentSpaceBetween,t),style:r,...i,children:[f.jsx(xn,{iconName:"exclamation-triangle"}),e.message,n&&f.jsx(xn,{iconName:"exclamation-triangle"})]}):null}function zU({children:e,mode:t="warning",className:n="",...r}){const i=Oe.useMemo(()=>{if(typeof e=="string"){const o=q$(e);return o!==e?f.jsx("p",{dangerouslySetInnerHTML:{__html:o}}):f.jsx("p",{children:e})}else return Array.isArray(e)&&e.length>1?f.jsx("div",{children:e}):e},[e]);return f.jsx("div",{className:Z(qb.smartFormNotificationBoard,qb[t],n),...r,children:f.jsx(Yv,{twinIcon:!0,warning:{type:t,message:i}})})}const WU=y.createContext(null);function GU({children:e,value:t}){return f.jsx(WU.Provider,{value:t,children:e})}const da=y.forwardRef(({registerFormProps:e,warning:t,inputRefs:n,formState:r,getFormValues:i=null,submitFunctionHelper:o=null,as:l="form",children:c,className:u="",registerField:d,unregisterField:h,isFormValid:m=!0,...v},x)=>{y.useImperativeHandle(x,()=>({get value(){const T={};for(const S in n)if(n.hasOwnProperty(S)){const R=n[S];R.current&&(T[S]=R.current.value)}return T}}));const w=y.useMemo(()=>!d||!h?null:{registerField:d,unregisterField:h,isFormValid:m},[d,h,m]),b=f.jsxs(l,{className:Z("smart-form",pe.flexColumn,pe.flexGapS,u),...e,...v,children:[t&&f.jsx(zU,{children:t?.message}),c]});return w?f.jsx(GU,{value:w,children:b}):b});da.displayName="SmartForm";const HU="_labelShiftTextInput_1w43h_2",YU="_notEmpty_1w43h_12",XU="_input_1w43h_12",qU="_label_1w43h_2",KU="_requiredAstrisk_1w43h_19",ZU="_readOnly_1w43h_22",QU="_labelShiftTextInput__input_1w43h_27",JU="_labelShiftTextInput__label_1w43h_34",e9="_labelShiftTextInput__asterisk_1w43h_43",Kb={labelShiftTextInput:HU,notEmpty:YU,input:XU,label:qU,requiredAstrisk:KU,readOnly:ZU,labelShiftTextInput__input:QU,labelShiftTextInput__label:JU,labelShiftTextInput__asterisk:e9},t9="_fancyTextInput_z7uso_21",n9="_showWarningMargin_z7uso_46",r9="_requiredAstrisk_z7uso_71",i9="_icon_z7uso_77",s9="_wordCounter_z7uso_85",o9="_warning_z7uso_97",a9="_label_z7uso_108",l9="_input_z7uso_118",c9="_description_z7uso_132",u9="_disabled_z7uso_140",d9="_readOnly_z7uso_147",f9="_notEmpty_z7uso_166",p9="_error_z7uso_172",ei={fancyTextInput:t9,showWarningMargin:n9,requiredAstrisk:r9,icon:i9,wordCounter:s9,warning:o9,label:a9,input:l9,description:c9,disabled:u9,readOnly:d9,notEmpty:f9,error:p9},Xv=({registerSmartFieldProps:e,fieldState:t,utils:n,children:r,className:i,wrapperClassName:o,style:l,descriptionDisplay:c,displayName:u,hasIcon:d=!0,showCharCounter:h=!1,showWarningMargin:m=!0,iconShift:v="0.5em",inputProps:x={},asInput:w=!0,renderInput:b,renderLabel:T,renderIcon:S,renderCharCounter:R,renderWarning:k,styleModule:A={}})=>{const{isEmpty:{value:I},warning:{value:j}}=t,[O,B]=Oe.useState(0),W=Oe.useRef(null),D=Oe.useMemo(()=>`fancy-input-${e.name||Math.random().toString(36).substr(2,9)}`,[e.name]),$=Oe.useMemo(()=>`${D}-description`,[D]),Q=Oe.useMemo(()=>`${D}-error`,[D]),M=Oe.useMemo(()=>`${D}-counter`,[D]),G=Oe.useCallback(()=>{W.current&&!w&&(W.current.style.height="auto",W.current.style.height=`${W.current.scrollHeight}px`)},[w]);Oe.useEffect(()=>{const ve=e?.ref?.current;if(!ve)return;const be=()=>{h&&B(ve.value.length),w||G()};return ve.addEventListener("input",be),ve.value&&(h&&B(ve.value.length),w||setTimeout(G,0)),()=>{ve.removeEventListener("input",be)}},[e?.ref,h,w,G]);const J=Oe.useCallback(ie=>{e?.ref&&(e.ref.current=ie),!w&&ie&&(W.current=ie,setTimeout(()=>G(),0))},[e?.ref,w,G]),X=Oe.useMemo(()=>{const ie=[];return c&&ie.push($),j?.message&&ie.push(Q),h&&ie.push(M),ie.length>0?ie.join(" "):void 0},[c,j?.message,h,$,Q,M]),U={id:D,className:Z(ei.input,A.input),ref:J,name:e.name,defaultValue:e.defaultValue,disabled:e.disabled||e.readOnly,required:e.required,"aria-invalid":!!j,"aria-describedby":X},{ref:V,...H}=e,P=()=>b?b({...U,...H,...x}):w?f.jsx("input",{...H,...U,...x}):f.jsx("textarea",{...H,...U,...x,rows:1,style:{resize:"none",overflow:"hidden",...x?.style||{}}}),Y=()=>{const ie={htmlFor:D,displayName:u||e.name||"",fieldName:e.name,required:e.required,className:Z(ei.label,A.label),fieldState:{isEmpty:I,warning:j}};return T?T(ie):f.jsxs("span",{className:ie.className,children:[ie.displayName,e?.required&&f.jsx("span",{className:Z(ei.requiredAstrisk,A.requiredAstrisk),"aria-label":"required",children:"*"})]})},re=()=>{if(!d&&!j)return null;const ie={warning:j,isEmpty:I,className:Z(ei.icon,A.icon),iconShift:v};return S?S(ie):null},q=()=>{if(!h)return null;const ie=n?.validationOptions?.htmlAttrs?.maxLength,ve={id:M,count:O,maxLength:ie,className:Z(ei.wordCounter,A.wordCounter)};return R?R(ve):f.jsxs("span",{id:ve.id,className:ve.className,"aria-label":`Character count: ${ve.count} of ${ie||"unlimited"}`,children:[ve.count," / ",ie||""]})},oe=()=>{const ie={id:Q,warning:j,className:Z(ei.warning,A.warning)};return k?k(ie):j?f.jsx("div",{id:ie.id,className:ie.className,style:ie.style,role:"alert","aria-live":"polite","aria-atomic":"true",children:j.message}):null};return f.jsxs(f.Fragment,{children:[c&&f.jsx("p",{id:$,className:Z(ei.description,A.description),children:c}),f.jsxs("label",{htmlFor:D,className:Z(ei.fancyTextInput,A.fancyTextInput,m&&Z(ei.showWarningMargin,A.showWarningMargin),!I&&Z(ei.notEmpty,A.notEmpty),j&&Z(ei.error,A.error),e.disabled&&Z(ei.disabled,A.disabled),e.readOnly&&Z(ei.readOnly,A.readOnly),o,i),style:l,children:[P(),re(),Y(),q(),oe(),r]})]})};Xv.displayName="FancyTextInput";const ks=e=>{const{isEmpty:{value:t},warning:{value:n}}=e.fieldState,r=o=>!e.hasIcon&&!n?null:f.jsx(xn,{iconName:o.warning?"exclamation-triangle":!o.isEmpty&&e.showIconSuccess?"check-lg":"",className:o.className,style:{"--icon-shift":o.iconShift},size:"1.5em","aria-hidden":"true",role:"img","aria-label":o.warning?"Error indicator":!o.isEmpty&&e.showIconSuccess?"Valid input indicator":""}),i=o=>f.jsx(Yv,{className:o.className,style:o.style,role:"alert","aria-live":"polite","aria-atomic":"true",id:o.id,warning:o.warning||null});return f.jsx(Xv,{...e,styleModule:Kb,wrapperClassName:Z(Kb.labelShiftTextInput),renderIcon:r,renderWarning:i})};ks.displayName="LabelShiftTextInput";const h9="_labelShiftTextCustomKeyboardInput_1u0xi_2",m9="_notEmpty_1u0xi_12",g9="_input_1u0xi_12",y9="_label_1u0xi_2",v9="_requiredAstrisk_1u0xi_19",x9="_readOnly_1u0xi_22",_9="_labelShiftTextCustomKeyboardInput__input_1u0xi_27",w9="_labelShiftTextCustomKeyboardInput__label_1u0xi_34",b9="_labelShiftTextCustomKeyboardInput__asterisk_1u0xi_43",Zb={labelShiftTextCustomKeyboardInput:h9,notEmpty:m9,input:g9,label:y9,requiredAstrisk:v9,readOnly:x9,labelShiftTextCustomKeyboardInput__input:_9,labelShiftTextCustomKeyboardInput__label:w9,labelShiftTextCustomKeyboardInput__asterisk:b9},E9="_fancyTextCustomKeyboardInput_ns0e1_8",S9={fancyTextCustomKeyboardInput:E9},C9="_floating_1l1d9_8",T9="_floatingInputContainer_1l1d9_27",N9="_floatingInput_1l1d9_27",k9="_closeButton_1l1d9_68",R9="_keyboardToolbar_1l1d9_76",jl={floating:C9,floatingInputContainer:T9,floatingInput:N9,closeButton:k9,keyboardToolbar:R9},A9="_root_17221_1",j9="_header_17221_8",I9="_searchRow_17221_14",P9="_searchInput_17221_20",L9="_tabs_17221_33",O9="_tab_17221_33",M9="_tabActive_17221_55",D9="_gridWrapper_17221_60",F9="_grid_17221_60",$9="_gridScrollable_17221_73",B9="_keyButton_17221_78",V9="_emptyState_17221_103",U9="_svgContent_17221_110",z9="_imageContent_17221_123",$r={root:A9,header:j9,searchRow:I9,searchInput:P9,tabs:L9,tab:O9,tabActive:M9,gridWrapper:D9,grid:F9,gridScrollable:$9,keyButton:B9,emptyState:V9,svgContent:U9,imageContent:z9};function W9(e,t){const n=t.trim().toLowerCase();return!n||e.label.toLowerCase().includes(n)||e.tags?.some(r=>r.toLowerCase().includes(n))||e.metadata?.description?.toLowerCase().includes(n)?!0:e.displayData?.toLowerCase().includes(n)??!1}function G9(e){switch(e.displayType??"text"){case"svg":return e.displayData?f.jsx("span",{className:$r.svgContent,dangerouslySetInnerHTML:{__html:e.displayData}}):e.label;case"image":return e.displayData?f.jsx("img",{src:e.displayData,alt:e.ariaLabel??e.label,className:$r.imageContent}):e.label;case"text":default:return e.label}}function GT({characters:e,onSelect:t,searchable:n=!0,groupBy:r="category",filterFunction:i,className:o,style:l,height:c,emptyStateText:u="No results",renderCharacter:d}){const[h,m]=y.useState(""),[v,x]=y.useState("All"),w=y.useMemo(()=>{if(r!=="category")return["All"];const S=new Set;for(const R of e)R.category&&R.category.trim()&&S.add(R.category);return["All",...Array.from(S).sort((R,k)=>R.localeCompare(k))]},[e,r]),b=y.useMemo(()=>{const S=i??W9;let R=e;return r==="category"&&v!=="All"&&(R=R.filter(k=>(k.category??"")===v)),n&&h.trim()&&(R=R.filter(k=>S(k,h))),R},[e,i,r,v,n,h]);Oe.useEffect(()=>{r==="category"&&(w.includes(v)||x("All"))},[w,v,r]);const T=c?{height:c}:void 0;return f.jsxs("div",{className:Z($r.root,o),style:l,children:[f.jsxs("div",{className:$r.header,children:[n&&f.jsx("div",{className:$r.searchRow,children:f.jsx("input",{className:$r.searchInput,value:h,onChange:S=>m(S.target.value),placeholder:"Search","aria-label":"Search characters"})}),r==="category"&&w.length>1&&f.jsx("div",{className:$r.tabs,role:"tablist","aria-label":"Character categories",children:w.map(S=>{const R=S===v;return f.jsx("button",{type:"button",role:"tab","aria-selected":R,className:Z($r.tab,R&&$r.tabActive),onClick:()=>x(S),children:S},S)})})]}),f.jsx("div",{className:$r.gridWrapper,children:b.length===0?f.jsx("div",{className:$r.emptyState,children:u}):f.jsx("div",{className:Z($r.grid,c&&$r.gridScrollable),style:T,role:"list","aria-label":"Character list",children:b.map(S=>{const R=d??G9;return f.jsx("button",{type:"button",className:$r.keyButton,"aria-label":S.ariaLabel??`Insert ${S.label}`,onClick:()=>t(S),onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),t(S))},children:R(S)},S.id)})})})]})}const Yu=[{id:"ipa_p",label:"p",category:"Plosives",tags:["consonant","plosive","voiceless","bilabial"],metadata:{unicode:"U+0070",description:"Voiceless bilabial plosive",examples:["pat","spin","tip"]}},{id:"ipa_b",label:"b",category:"Plosives",tags:["consonant","plosive","voiced","bilabial"],metadata:{unicode:"U+0062",description:"Voiced bilabial plosive",examples:["bat","rib"]}},{id:"ipa_t",label:"t",category:"Plosives",tags:["consonant","plosive","voiceless","alveolar"],metadata:{unicode:"U+0074",description:"Voiceless alveolar plosive",examples:["top","stick","pot"]}},{id:"ipa_d",label:"d",category:"Plosives",tags:["consonant","plosive","voiced","alveolar"],metadata:{unicode:"U+0064",description:"Voiced alveolar plosive",examples:["dog","odd"]}},{id:"ipa_t_retroflex",label:"",category:"Plosives",tags:["consonant","plosive","voiceless","retroflex"],metadata:{unicode:"U+0288",description:"Voiceless retroflex plosive"}},{id:"ipa_d_retroflex",label:"",category:"Plosives",tags:["consonant","plosive","voiced","retroflex"],metadata:{unicode:"U+0256",description:"Voiced retroflex plosive"}},{id:"ipa_c",label:"c",category:"Plosives",tags:["consonant","plosive","voiceless","palatal"],metadata:{unicode:"U+0063",description:"Voiceless palatal plosive"}},{id:"ipa_barred_dotless_j",label:"",category:"Plosives",tags:["consonant","plosive","voiced","palatal"],metadata:{unicode:"U+025F",description:"Voiced palatal plosive"}},{id:"ipa_k",label:"k",category:"Plosives",tags:["consonant","plosive","voiceless","velar"],metadata:{unicode:"U+006B",description:"Voiceless velar plosive",examples:["cat","skill","back"]}},{id:"ipa_g",label:"g",category:"Plosives",tags:["consonant","plosive","voiced","velar"],metadata:{unicode:"U+0067",description:"Voiced velar plosive",examples:["go","big"]}},{id:"ipa_q",label:"q",category:"Plosives",tags:["consonant","plosive","voiceless","uvular"],metadata:{unicode:"U+0071",description:"Voiceless uvular plosive"}},{id:"ipa_G_small_cap",label:"",category:"Plosives",tags:["consonant","plosive","voiced","uvular"],metadata:{unicode:"U+0262",description:"Voiced uvular plosive"}},{id:"ipa_glottal_stop",label:"",category:"Plosives",tags:["consonant","plosive","voiceless","glottal"],metadata:{unicode:"U+0294",description:"Glottal stop",examples:["uh-oh"]}},{id:"ipa_m",label:"m",category:"Nasals",tags:["consonant","nasal","voiced","bilabial"],metadata:{unicode:"U+006D",description:"Voiced bilabial nasal",examples:["man","ham"]}},{id:"ipa_m_labiodental",label:"",category:"Nasals",tags:["consonant","nasal","voiced","labiodental"],metadata:{unicode:"U+0271",description:"Voiced labiodental nasal"}},{id:"ipa_n",label:"n",category:"Nasals",tags:["consonant","nasal","voiced","alveolar"],metadata:{unicode:"U+006E",description:"Voiced alveolar nasal",examples:["no","pan"]}},{id:"ipa_n_retroflex",label:"",category:"Nasals",tags:["consonant","nasal","voiced","retroflex"],metadata:{unicode:"U+0273",description:"Voiced retroflex nasal"}},{id:"ipa_n_palatal",label:"",category:"Nasals",tags:["consonant","nasal","voiced","palatal"],metadata:{unicode:"U+0272",description:"Voiced palatal nasal",examples:["canyon (Spanish )"]}},{id:"ipa_ng",label:"",category:"Nasals",tags:["consonant","nasal","voiced","velar"],metadata:{unicode:"U+014B",description:"Voiced velar nasal",examples:["sing","think"]}},{id:"ipa_N_small_cap",label:"",category:"Nasals",tags:["consonant","nasal","voiced","uvular"],metadata:{unicode:"U+0274",description:"Voiced uvular nasal"}},{id:"ipa_B_small_cap",label:"",category:"Trills",tags:["consonant","trill","voiced","bilabial"],metadata:{unicode:"U+0299",description:"Voiced bilabial trill"}},{id:"ipa_r",label:"r",category:"Trills",tags:["consonant","trill","voiced","alveolar"],metadata:{unicode:"U+0072",description:"Voiced alveolar trill",examples:["Spanish perro"]}},{id:"ipa_R_small_cap",label:"",category:"Trills",tags:["consonant","trill","voiced","uvular"],metadata:{unicode:"U+0280",description:"Voiced uvular trill",examples:["French r (some dialects)"]}},{id:"ipa_fish_hook_r",label:"",category:"Taps",tags:["consonant","tap","flap","voiced","alveolar"],metadata:{unicode:"U+027E",description:"Voiced alveolar tap",examples:["American English butter"]}},{id:"ipa_r_retroflex_flap",label:"",category:"Taps",tags:["consonant","tap","flap","voiced","retroflex"],metadata:{unicode:"U+027D",description:"Voiced retroflex flap"}},{id:"ipa_phi",label:"",category:"Fricatives",tags:["consonant","fricative","voiceless","bilabial"],metadata:{unicode:"U+0278",description:"Voiceless bilabial fricative"}},{id:"ipa_beta",label:"",category:"Fricatives",tags:["consonant","fricative","voiced","bilabial"],metadata:{unicode:"U+03B2",description:"Voiced bilabial fricative",examples:["Spanish b between vowels"]}},{id:"ipa_f",label:"f",category:"Fricatives",tags:["consonant","fricative","voiceless","labiodental"],metadata:{unicode:"U+0066",description:"Voiceless labiodental fricative",examples:["fan","off"]}},{id:"ipa_v",label:"v",category:"Fricatives",tags:["consonant","fricative","voiced","labiodental"],metadata:{unicode:"U+0076",description:"Voiced labiodental fricative",examples:["van","of"]}},{id:"ipa_theta",label:"",category:"Fricatives",tags:["consonant","fricative","voiceless","dental"],metadata:{unicode:"U+03B8",description:"Voiceless dental fricative",examples:["think","path"]}},{id:"ipa_eth",label:"",category:"Fricatives",tags:["consonant","fricative","voiced","dental"],metadata:{unicode:"U+00F0",description:"Voiced dental fricative",examples:["this","bathe"]}},{id:"ipa_s",label:"s",category:"Fricatives",tags:["consonant","fricative","voiceless","alveolar"],metadata:{unicode:"U+0073",description:"Voiceless alveolar fricative",examples:["see","pass"]}},{id:"ipa_z",label:"z",category:"Fricatives",tags:["consonant","fricative","voiced","alveolar"],metadata:{unicode:"U+007A",description:"Voiced alveolar fricative",examples:["zoo","buzz"]}},{id:"ipa_esh",label:"",category:"Fricatives",tags:["consonant","fricative","voiceless","postalveolar"],metadata:{unicode:"U+0283",description:"Voiceless postalveolar fricative",examples:["ship","wish"]}},{id:"ipa_ezh",label:"",category:"Fricatives",tags:["consonant","fricative","voiced","postalveolar"],metadata:{unicode:"U+0292",description:"Voiced postalveolar fricative",examples:["measure","vision"]}},{id:"ipa_s_retroflex",label:"",category:"Fricatives",tags:["consonant","fricative","voiceless","retroflex"],metadata:{unicode:"U+0282",description:"Voiceless retroflex fricative"}},{id:"ipa_z_retroflex",label:"",category:"Fricatives",tags:["consonant","fricative","voiced","retroflex"],metadata:{unicode:"U+0290",description:"Voiced retroflex fricative"}},{id:"ipa_c_cedilla",label:"",category:"Fricatives",tags:["consonant","fricative","voiceless","palatal"],metadata:{unicode:"U+00E7",description:"Voiceless palatal fricative",examples:["German ich"]}},{id:"ipa_j_curl",label:"",category:"Fricatives",tags:["consonant","fricative","voiced","palatal"],metadata:{unicode:"U+029D",description:"Voiced palatal fricative"}},{id:"ipa_x",label:"x",category:"Fricatives",tags:["consonant","fricative","voiceless","velar"],metadata:{unicode:"U+0078",description:"Voiceless velar fricative",examples:["Scottish loch","German Bach"]}},{id:"ipa_gamma",label:"",category:"Fricatives",tags:["consonant","fricative","voiced","velar"],metadata:{unicode:"U+0263",description:"Voiced velar fricative"}},{id:"ipa_chi",label:"",category:"Fricatives",tags:["consonant","fricative","voiceless","uvular"],metadata:{unicode:"U+03C7",description:"Voiceless uvular fricative"}},{id:"ipa_R_inverted",label:"",category:"Fricatives",tags:["consonant","fricative","voiced","uvular"],metadata:{unicode:"U+0281",description:"Voiced uvular fricative",examples:["French r"]}},{id:"ipa_h_barred",label:"",category:"Fricatives",tags:["consonant","fricative","voiceless","pharyngeal"],metadata:{unicode:"U+0127",description:"Voiceless pharyngeal fricative",examples:["Arabic "]}},{id:"ipa_reversed_glottal_stop",label:"",category:"Fricatives",tags:["consonant","fricative","voiced","pharyngeal"],metadata:{unicode:"U+0295",description:"Voiced pharyngeal fricative",examples:["Arabic "]}},{id:"ipa_h",label:"h",category:"Fricatives",tags:["consonant","fricative","voiceless","glottal"],metadata:{unicode:"U+0068",description:"Voiceless glottal fricative",examples:["hat"]}},{id:"ipa_h_hooktop",label:"",category:"Fricatives",tags:["consonant","fricative","voiced","glottal"],metadata:{unicode:"U+0266",description:"Voiced glottal fricative"}},{id:"ipa_l_belt",label:"",category:"Lateral Fricatives",tags:["consonant","fricative","lateral","voiceless","alveolar"],metadata:{unicode:"U+026C",description:"Voiceless alveolar lateral fricative",examples:["Welsh ll"]}},{id:"ipa_lezh",label:"",category:"Lateral Fricatives",tags:["consonant","fricative","lateral","voiced","alveolar"],metadata:{unicode:"U+026E",description:"Voiced alveolar lateral fricative"}},{id:"ipa_v_turned",label:"",category:"Approximants",tags:["consonant","approximant","voiced","labiodental"],metadata:{unicode:"U+028B",description:"Voiced labiodental approximant"}},{id:"ipa_turned_r",label:"",category:"Approximants",tags:["consonant","approximant","voiced","alveolar"],metadata:{unicode:"U+0279",description:"Voiced alveolar approximant",examples:["English r"]}},{id:"ipa_turned_r_retroflex",label:"",category:"Approximants",tags:["consonant","approximant","voiced","retroflex"],metadata:{unicode:"U+027B",description:"Voiced retroflex approximant"}},{id:"ipa_j",label:"j",category:"Approximants",tags:["consonant","approximant","voiced","palatal"],metadata:{unicode:"U+006A",description:"Voiced palatal approximant",examples:["yes","you"]}},{id:"ipa_turned_m_leg",label:"",category:"Approximants",tags:["consonant","approximant","voiced","velar"],metadata:{unicode:"U+0270",description:"Voiced velar approximant"}},{id:"ipa_l",label:"l",category:"Lateral Approximants",tags:["consonant","approximant","lateral","voiced","alveolar"],metadata:{unicode:"U+006C",description:"Voiced alveolar lateral approximant",examples:["let","ball"]}},{id:"ipa_l_retroflex",label:"",category:"Lateral Approximants",tags:["consonant","approximant","lateral","voiced","retroflex"],metadata:{unicode:"U+026D",description:"Voiced retroflex lateral approximant"}},{id:"ipa_turned_y",label:"",category:"Lateral Approximants",tags:["consonant","approximant","lateral","voiced","palatal"],metadata:{unicode:"U+028E",description:"Voiced palatal lateral approximant",examples:["Italian gl"]}},{id:"ipa_L_small_cap",label:"",category:"Lateral Approximants",tags:["consonant","approximant","lateral","voiced","velar"],metadata:{unicode:"U+029F",description:"Voiced velar lateral approximant"}},{id:"ipa_w",label:"w",category:"Other Consonants",tags:["consonant","approximant","voiced","labiovelar"],metadata:{unicode:"U+0077",description:"Voiced labio-velar approximant",examples:["wet","twin"]}},{id:"ipa_turned_w",label:"",category:"Other Consonants",tags:["consonant","fricative","voiceless","labiovelar"],metadata:{unicode:"U+028D",description:"Voiceless labio-velar fricative",examples:["which (some dialects)"]}},{id:"ipa_turned_h",label:"",category:"Other Consonants",tags:["consonant","approximant","voiced","labiopalatal"],metadata:{unicode:"U+0265",description:"Voiced labio-palatal approximant",examples:["French huit"]}},{id:"ipa_h_hook",label:"",category:"Other Consonants",tags:["consonant","fricative","voiceless","postalveolar-velar"],metadata:{unicode:"U+0267",description:"Voiceless postalveolar-velar fricative",examples:["Swedish sj"]}},{id:"ipa_b_hooktop",label:"",category:"Implosives",tags:["consonant","implosive","voiced","bilabial"],metadata:{unicode:"U+0253",description:"Voiced bilabial implosive"}},{id:"ipa_d_hooktop",label:"",category:"Implosives",tags:["consonant","implosive","voiced","alveolar"],metadata:{unicode:"U+0257",description:"Voiced alveolar implosive"}},{id:"ipa_g_hooktop",label:"",category:"Implosives",tags:["consonant","implosive","voiced","velar"],metadata:{unicode:"U+0260",description:"Voiced velar implosive"}},{id:"ipa_G_hooktop",label:"",category:"Implosives",tags:["consonant","implosive","voiced","uvular"],metadata:{unicode:"U+029B",description:"Voiced uvular implosive"}},{id:"ipa_barred_dotless_j_hooktop",label:"",category:"Implosives",tags:["consonant","implosive","voiced","palatal"],metadata:{unicode:"U+0284",description:"Voiced palatal implosive"}},{id:"ipa_click_bilabial",label:"",category:"Clicks",tags:["consonant","click","bilabial"],metadata:{unicode:"U+0298",description:"Bilabial click"}},{id:"ipa_click_dental",label:"",category:"Clicks",tags:["consonant","click","dental"],metadata:{unicode:"U+01C0",description:"Dental click",examples:["tsk-tsk"]}},{id:"ipa_click_alveolar",label:"",category:"Clicks",tags:["consonant","click","alveolar"],metadata:{unicode:"U+01C3",description:"Alveolar click"}},{id:"ipa_click_palatoalveolar",label:"",category:"Clicks",tags:["consonant","click","palatoalveolar"],metadata:{unicode:"U+01C2",description:"Palatoalveolar click"}},{id:"ipa_click_lateral",label:"",category:"Clicks",tags:["consonant","click","lateral"],metadata:{unicode:"U+01C1",description:"Alveolar lateral click",examples:["giddyup to horse"]}},{id:"ipa_i",label:"i",category:"Close Vowels",tags:["vowel","close","front","unrounded"],metadata:{unicode:"U+0069",description:"Close front unrounded vowel",examples:["see","machine"]}},{id:"ipa_y",label:"y",category:"Close Vowels",tags:["vowel","close","front","rounded"],metadata:{unicode:"U+0079",description:"Close front rounded vowel",examples:["French tu","German "]}},{id:"ipa_i_bar",label:"",category:"Close Vowels",tags:["vowel","close","central","unrounded"],metadata:{unicode:"U+0268",description:"Close central unrounded vowel"}},{id:"ipa_u_bar",label:"",category:"Close Vowels",tags:["vowel","close","central","rounded"],metadata:{unicode:"U+0289",description:"Close central rounded vowel"}},{id:"ipa_turned_m",label:"",category:"Close Vowels",tags:["vowel","close","back","unrounded"],metadata:{unicode:"U+026F",description:"Close back unrounded vowel"}},{id:"ipa_u",label:"u",category:"Close Vowels",tags:["vowel","close","back","rounded"],metadata:{unicode:"U+0075",description:"Close back rounded vowel",examples:["boot","food"]}},{id:"ipa_small_cap_i",label:"",category:"Near-Close Vowels",tags:["vowel","near-close","front","unrounded"],metadata:{unicode:"U+026A",description:"Near-close front unrounded vowel",examples:["bit","sit"]}},{id:"ipa_small_cap_y",label:"",category:"Near-Close Vowels",tags:["vowel","near-close","front","rounded"],metadata:{unicode:"U+028F",description:"Near-close front rounded vowel",examples:["German fnf"]}},{id:"ipa_upsilon",label:"",category:"Near-Close Vowels",tags:["vowel","near-close","back","rounded"],metadata:{unicode:"U+028A",description:"Near-close back rounded vowel",examples:["put","foot"]}},{id:"ipa_e",label:"e",category:"Close-Mid Vowels",tags:["vowel","close-mid","front","unrounded"],metadata:{unicode:"U+0065",description:"Close-mid front unrounded vowel",examples:["Spanish mesa"]}},{id:"ipa_o_slash",label:"",category:"Close-Mid Vowels",tags:["vowel","close-mid","front","rounded"],metadata:{unicode:"U+00F8",description:"Close-mid front rounded vowel",examples:["French peu","German schn"]}},{id:"ipa_reversed_e",label:"",category:"Close-Mid Vowels",tags:["vowel","close-mid","central","unrounded"],metadata:{unicode:"U+0258",description:"Close-mid central unrounded vowel"}},{id:"ipa_barred_o",label:"",category:"Close-Mid Vowels",tags:["vowel","close-mid","central","rounded"],metadata:{unicode:"U+0275",description:"Close-mid central rounded vowel"}},{id:"ipa_rams_horn",label:"",category:"Close-Mid Vowels",tags:["vowel","close-mid","back","unrounded"],metadata:{unicode:"U+0264",description:"Close-mid back unrounded vowel"}},{id:"ipa_o",label:"o",category:"Close-Mid Vowels",tags:["vowel","close-mid","back","rounded"],metadata:{unicode:"U+006F",description:"Close-mid back rounded vowel",examples:["Spanish no"]}},{id:"ipa_schwa",label:"",category:"Mid Vowels",tags:["vowel","mid","central","unrounded","schwa"],metadata:{unicode:"U+0259",description:"Mid central vowel (schwa)",examples:["about","sofa"]}},{id:"ipa_epsilon",label:"",category:"Open-Mid Vowels",tags:["vowel","open-mid","front","unrounded"],metadata:{unicode:"U+025B",description:"Open-mid front unrounded vowel",examples:["bed","dress"]}},{id:"ipa_oe_ligature",label:"",category:"Open-Mid Vowels",tags:["vowel","open-mid","front","rounded"],metadata:{unicode:"U+0153",description:"Open-mid front rounded vowel",examples:["French peur"]}},{id:"ipa_reversed_epsilon",label:"",category:"Open-Mid Vowels",tags:["vowel","open-mid","central","unrounded"],metadata:{unicode:"U+025C",description:"Open-mid central unrounded vowel",examples:["British English bird"]}},{id:"ipa_closed_reversed_epsilon",label:"",category:"Open-Mid Vowels",tags:["vowel","open-mid","central","rounded"],metadata:{unicode:"U+025E",description:"Open-mid central rounded vowel"}},{id:"ipa_turned_v",label:"",category:"Open-Mid Vowels",tags:["vowel","open-mid","back","unrounded"],metadata:{unicode:"U+028C",description:"Open-mid back unrounded vowel",examples:["strut","cup"]}},{id:"ipa_open_o",label:"",category:"Open-Mid Vowels",tags:["vowel","open-mid","back","rounded"],metadata:{unicode:"U+0254",description:"Open-mid back rounded vowel",examples:["thought","law"]}},{id:"ipa_ae_ligature",label:"",category:"Near-Open Vowels",tags:["vowel","near-open","front","unrounded"],metadata:{unicode:"U+00E6",description:"Near-open front unrounded vowel",examples:["trap","cat"]}},{id:"ipa_turned_a",label:"",category:"Near-Open Vowels",tags:["vowel","near-open","central"],metadata:{unicode:"U+0250",description:"Near-open central vowel"}},{id:"ipa_a",label:"a",category:"Open Vowels",tags:["vowel","open","front","unrounded"],metadata:{unicode:"U+0061",description:"Open front unrounded vowel",examples:["Spanish padre"]}},{id:"ipa_OE_ligature",label:"",category:"Open Vowels",tags:["vowel","open","front","rounded"],metadata:{unicode:"U+0276",description:"Open front rounded vowel"}},{id:"ipa_script_a",label:"",category:"Open Vowels",tags:["vowel","open","back","unrounded"],metadata:{unicode:"U+0251",description:"Open back unrounded vowel",examples:["father","palm"]}},{id:"ipa_turned_script_a",label:"",category:"Open Vowels",tags:["vowel","open","back","rounded"],metadata:{unicode:"U+0252",description:"Open back rounded vowel",examples:["British English lot"]}},{id:"ipa_primary_stress",label:"",category:"Suprasegmentals",tags:["suprasegmental","stress","primary"],metadata:{unicode:"U+02C8",description:"Primary stress mark"}},{id:"ipa_secondary_stress",label:"",category:"Suprasegmentals",tags:["suprasegmental","stress","secondary"],metadata:{unicode:"U+02CC",description:"Secondary stress mark"}},{id:"ipa_long",label:"",category:"Suprasegmentals",tags:["suprasegmental","length","long"],metadata:{unicode:"U+02D0",description:"Long vowel/consonant"}},{id:"ipa_half_long",label:"",category:"Suprasegmentals",tags:["suprasegmental","length","half-long"],metadata:{unicode:"U+02D1",description:"Half-long"}},{id:"ipa_extra_short",label:"",category:"Suprasegmentals",tags:["suprasegmental","length","extra-short","diacritic"],metadata:{unicode:"U+0306",description:"Extra-short (combining breve)"}},{id:"ipa_syllable_break",label:".",category:"Suprasegmentals",tags:["suprasegmental","boundary","syllable"],metadata:{unicode:"U+002E",description:"Syllable break"}},{id:"ipa_minor_break",label:"|",category:"Suprasegmentals",tags:["suprasegmental","boundary","foot","minor"],metadata:{unicode:"U+007C",description:"Minor (foot) group"}},{id:"ipa_major_break",label:"",category:"Suprasegmentals",tags:["suprasegmental","boundary","intonation","major"],metadata:{unicode:"U+2016",description:"Major (intonation) group"}},{id:"ipa_linking",label:"",category:"Suprasegmentals",tags:["suprasegmental","linking"],metadata:{unicode:"U+203F",description:"Linking (absence of a break)"}},{id:"ipa_tone_extra_high",label:"",category:"Tones",tags:["tone","level","extra-high"],metadata:{unicode:"U+02E5",description:"Extra-high tone"}},{id:"ipa_tone_high",label:"",category:"Tones",tags:["tone","level","high"],metadata:{unicode:"U+02E6",description:"High tone"}},{id:"ipa_tone_mid",label:"",category:"Tones",tags:["tone","level","mid"],metadata:{unicode:"U+02E7",description:"Mid tone"}},{id:"ipa_tone_low",label:"",category:"Tones",tags:["tone","level","low"],metadata:{unicode:"U+02E8",description:"Low tone"}},{id:"ipa_tone_extra_low",label:"",category:"Tones",tags:["tone","level","extra-low"],metadata:{unicode:"U+02E9",description:"Extra-low tone"}},{id:"ipa_downstep",label:"",category:"Tones",tags:["tone","downstep"],metadata:{unicode:"U+A71C",description:"Downstep"}},{id:"ipa_upstep",label:"",category:"Tones",tags:["tone","upstep"],metadata:{unicode:"U+A71B",description:"Upstep"}},{id:"ipa_global_rise",label:"",category:"Tones",tags:["tone","contour","rising","global"],metadata:{unicode:"U+2197",description:"Global rise"}},{id:"ipa_global_fall",label:"",category:"Tones",tags:["tone","contour","falling","global"],metadata:{unicode:"U+2198",description:"Global fall"}},{id:"ipa_voiceless",label:"",category:"Diacritics",tags:["diacritic","voicing","voiceless"],metadata:{unicode:"U+0325",description:"Voiceless (combining ring below)"}},{id:"ipa_voiced",label:"",category:"Diacritics",tags:["diacritic","voicing","voiced"],metadata:{unicode:"U+032C",description:"Voiced (combining caron below)"}},{id:"ipa_aspirated",label:"",category:"Diacritics",tags:["diacritic","aspiration"],metadata:{unicode:"U+02B0",description:"Aspirated"}},{id:"ipa_more_rounded",label:"",category:"Diacritics",tags:["diacritic","lip","rounded","more"],metadata:{unicode:"U+0339",description:"More rounded"}},{id:"ipa_less_rounded",label:"",category:"Diacritics",tags:["diacritic","lip","rounded","less"],metadata:{unicode:"U+031C",description:"Less rounded"}},{id:"ipa_advanced",label:"",category:"Diacritics",tags:["diacritic","tongue","advanced"],metadata:{unicode:"U+031F",description:"Advanced"}},{id:"ipa_retracted",label:"",category:"Diacritics",tags:["diacritic","tongue","retracted"],metadata:{unicode:"U+0320",description:"Retracted"}},{id:"ipa_centralized",label:"",category:"Diacritics",tags:["diacritic","tongue","centralized"],metadata:{unicode:"U+0308",description:"Centralized"}},{id:"ipa_mid_centralized",label:"",category:"Diacritics",tags:["diacritic","tongue","mid-centralized"],metadata:{unicode:"U+033D",description:"Mid-centralized"}},{id:"ipa_syllabic",label:"",category:"Diacritics",tags:["diacritic","syllabic"],metadata:{unicode:"U+0329",description:"Syllabic"}},{id:"ipa_non_syllabic",label:"",category:"Diacritics",tags:["diacritic","non-syllabic"],metadata:{unicode:"U+032F",description:"Non-syllabic"}},{id:"ipa_rhoticity",label:"",category:"Diacritics",tags:["diacritic","rhoticity","r-colored"],metadata:{unicode:"U+02DE",description:"Rhoticity"}},{id:"ipa_breathy_voiced",label:"",category:"Diacritics",tags:["diacritic","phonation","breathy"],metadata:{unicode:"U+0324",description:"Breathy voiced"}},{id:"ipa_creaky_voiced",label:"",category:"Diacritics",tags:["diacritic","phonation","creaky"],metadata:{unicode:"U+0330",description:"Creaky voiced"}},{id:"ipa_linguolabial",label:"",category:"Diacritics",tags:["diacritic","articulation","linguolabial"],metadata:{unicode:"U+033C",description:"Linguolabial"}},{id:"ipa_labialized",label:"",category:"Diacritics",tags:["diacritic","secondary","labialized"],metadata:{unicode:"U+02B7",description:"Labialized"}},{id:"ipa_palatalized",label:"",category:"Diacritics",tags:["diacritic","secondary","palatalized"],metadata:{unicode:"U+02B2",description:"Palatalized"}},{id:"ipa_velarized",label:"",category:"Diacritics",tags:["diacritic","secondary","velarized"],metadata:{unicode:"U+02E0",description:"Velarized"}},{id:"ipa_pharyngealized",label:"",category:"Diacritics",tags:["diacritic","secondary","pharyngealized"],metadata:{unicode:"U+02E4",description:"Pharyngealized"}},{id:"ipa_velarized_pharyngealized",label:"",category:"Diacritics",tags:["diacritic","secondary","velarized","pharyngealized"],metadata:{unicode:"U+0334",description:"Velarized or pharyngealized (superimposed tilde)"}},{id:"ipa_raised",label:"",category:"Diacritics",tags:["diacritic","tongue","raised"],metadata:{unicode:"U+031D",description:"Raised"}},{id:"ipa_lowered",label:"",category:"Diacritics",tags:["diacritic","tongue","lowered"],metadata:{unicode:"U+031E",description:"Lowered"}},{id:"ipa_advanced_tongue_root",label:"",category:"Diacritics",tags:["diacritic","tongue","atr","advanced-tongue-root"],metadata:{unicode:"U+0318",description:"Advanced tongue root"}},{id:"ipa_retracted_tongue_root",label:"",category:"Diacritics",tags:["diacritic","tongue","rtr","retracted-tongue-root"],metadata:{unicode:"U+0319",description:"Retracted tongue root"}},{id:"ipa_dental",label:"",category:"Diacritics",tags:["diacritic","articulation","dental"],metadata:{unicode:"U+032A",description:"Dental"}},{id:"ipa_apical",label:"",category:"Diacritics",tags:["diacritic","articulation","apical"],metadata:{unicode:"U+033A",description:"Apical"}},{id:"ipa_laminal",label:"",category:"Diacritics",tags:["diacritic","articulation","laminal"],metadata:{unicode:"U+033B",description:"Laminal"}},{id:"ipa_nasalized",label:"",category:"Diacritics",tags:["diacritic","nasalized"],metadata:{unicode:"U+0303",description:"Nasalized"}},{id:"ipa_nasal_release",label:"",category:"Diacritics",tags:["diacritic","release","nasal"],metadata:{unicode:"U+207F",description:"Nasal release"}},{id:"ipa_lateral_release",label:"",category:"Diacritics",tags:["diacritic","release","lateral"],metadata:{unicode:"U+02E1",description:"Lateral release"}},{id:"ipa_no_audible_release",label:"",category:"Diacritics",tags:["diacritic","release","unreleased"],metadata:{unicode:"U+031A",description:"No audible release"}},{id:"ipa_ts",label:"ts",category:"Affricates",tags:["consonant","affricate","voiceless","alveolar"],metadata:{description:"Voiceless alveolar affricate",examples:["cats","German Zeit"]}},{id:"ipa_dz",label:"dz",category:"Affricates",tags:["consonant","affricate","voiced","alveolar"],metadata:{description:"Voiced alveolar affricate"}},{id:"ipa_tesh",label:"t",category:"Affricates",tags:["consonant","affricate","voiceless","postalveolar"],metadata:{description:"Voiceless postalveolar affricate",examples:["church","watch"]}},{id:"ipa_dezh",label:"d",category:"Affricates",tags:["consonant","affricate","voiced","postalveolar"],metadata:{description:"Voiced postalveolar affricate",examples:["judge","bridge"]}},{id:"ipa_ts_retroflex",label:"",category:"Affricates",tags:["consonant","affricate","voiceless","retroflex"],metadata:{description:"Voiceless retroflex affricate"}},{id:"ipa_dz_retroflex",label:"",category:"Affricates",tags:["consonant","affricate","voiced","retroflex"],metadata:{description:"Voiced retroflex affricate"}},{id:"ipa_tc_palatal",label:"t",category:"Affricates",tags:["consonant","affricate","voiceless","alveolo-palatal"],metadata:{description:"Voiceless alveolo-palatal affricate",examples:["Mandarin j"]}},{id:"ipa_dz_palatal",label:"d",category:"Affricates",tags:["consonant","affricate","voiced","alveolo-palatal"],metadata:{description:"Voiced alveolo-palatal affricate"}},{id:"ipa_tl",label:"t",category:"Affricates",tags:["consonant","affricate","voiceless","alveolar","lateral"],metadata:{description:"Voiceless alveolar lateral affricate",examples:["Nahuatl tl"]}},{id:"ipa_dl",label:"d",category:"Affricates",tags:["consonant","affricate","voiced","alveolar","lateral"],metadata:{description:"Voiced alveolar lateral affricate"}},{id:"ipa_tie_bar_above",label:"",category:"Other Symbols",tags:["tie","ligature","combining"],metadata:{unicode:"U+0361",description:"Tie bar (above) for affricates/coarticulation"}},{id:"ipa_tie_bar_below",label:"",category:"Other Symbols",tags:["tie","ligature","combining"],metadata:{unicode:"U+035C",description:"Tie bar (below) for affricates/coarticulation"}},{id:"ipa_alveolo_palatal_fricative_vl",label:"",category:"Other Symbols",tags:["consonant","fricative","voiceless","alveolo-palatal"],metadata:{unicode:"U+0255",description:"Voiceless alveolo-palatal fricative",examples:["Mandarin x"]}},{id:"ipa_alveolo_palatal_fricative_vd",label:"",category:"Other Symbols",tags:["consonant","fricative","voiced","alveolo-palatal"],metadata:{unicode:"U+0291",description:"Voiced alveolo-palatal fricative"}},{id:"ipa_epiglottal_plosive",label:"",category:"Other Symbols",tags:["consonant","plosive","epiglottal"],metadata:{unicode:"U+02A1",description:"Epiglottal plosive"}},{id:"ipa_epiglottal_fricative_vl",label:"",category:"Other Symbols",tags:["consonant","fricative","voiceless","epiglottal"],metadata:{unicode:"U+029C",description:"Voiceless epiglottal fricative"}},{id:"ipa_epiglottal_fricative_vd",label:"",category:"Other Symbols",tags:["consonant","fricative","voiced","epiglottal"],metadata:{unicode:"U+02A2",description:"Voiced epiglottal fricative"}},{id:"ipa_labiodental_flap",label:"",category:"Other Symbols",tags:["consonant","tap","flap","labiodental"],metadata:{unicode:"U+2C71",description:"Labiodental flap"}},{id:"latin_a",label:"a",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0061",description:"Latin small letter a"}},{id:"latin_b",label:"b",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0062",description:"Latin small letter b"}},{id:"latin_c",label:"c",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0063",description:"Latin small letter c"}},{id:"latin_d",label:"d",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0064",description:"Latin small letter d"}},{id:"latin_e",label:"e",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0065",description:"Latin small letter e"}},{id:"latin_f",label:"f",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0066",description:"Latin small letter f"}},{id:"latin_g",label:"g",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0067",description:"Latin small letter g"}},{id:"latin_h",label:"h",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0068",description:"Latin small letter h"}},{id:"latin_i",label:"i",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0069",description:"Latin small letter i"}},{id:"latin_j",label:"j",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+006A",description:"Latin small letter j"}},{id:"latin_k",label:"k",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+006B",description:"Latin small letter k"}},{id:"latin_l",label:"l",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+006C",description:"Latin small letter l"}},{id:"latin_m",label:"m",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+006D",description:"Latin small letter m"}},{id:"latin_n",label:"n",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+006E",description:"Latin small letter n"}},{id:"latin_o",label:"o",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+006F",description:"Latin small letter o"}},{id:"latin_p",label:"p",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0070",description:"Latin small letter p"}},{id:"latin_q",label:"q",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0071",description:"Latin small letter q"}},{id:"latin_r",label:"r",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0072",description:"Latin small letter r"}},{id:"latin_s",label:"s",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0073",description:"Latin small letter s"}},{id:"latin_t",label:"t",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0074",description:"Latin small letter t"}},{id:"latin_u",label:"u",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0075",description:"Latin small letter u"}},{id:"latin_v",label:"v",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0076",description:"Latin small letter v"}},{id:"latin_w",label:"w",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0077",description:"Latin small letter w"}},{id:"latin_x",label:"x",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0078",description:"Latin small letter x"}},{id:"latin_y",label:"y",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+0079",description:"Latin small letter y"}},{id:"latin_z",label:"z",category:"Latin",tags:["latin","lowercase","english"],metadata:{unicode:"U+007A",description:"Latin small letter z"}},{id:"latin_A",label:"A",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0041",description:"Latin capital letter A"}},{id:"latin_B",label:"B",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0042",description:"Latin capital letter B"}},{id:"latin_C",label:"C",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0043",description:"Latin capital letter C"}},{id:"latin_D",label:"D",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0044",description:"Latin capital letter D"}},{id:"latin_E",label:"E",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0045",description:"Latin capital letter E"}},{id:"latin_F",label:"F",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0046",description:"Latin capital letter F"}},{id:"latin_G",label:"G",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0047",description:"Latin capital letter G"}},{id:"latin_H",label:"H",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0048",description:"Latin capital letter H"}},{id:"latin_I",label:"I",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0049",description:"Latin capital letter I"}},{id:"latin_J",label:"J",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+004A",description:"Latin capital letter J"}},{id:"latin_K",label:"K",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+004B",description:"Latin capital letter K"}},{id:"latin_L",label:"L",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+004C",description:"Latin capital letter L"}},{id:"latin_M",label:"M",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+004D",description:"Latin capital letter M"}},{id:"latin_N",label:"N",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+004E",description:"Latin capital letter N"}},{id:"latin_O",label:"O",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+004F",description:"Latin capital letter O"}},{id:"latin_P",label:"P",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0050",description:"Latin capital letter P"}},{id:"latin_Q",label:"Q",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0051",description:"Latin capital letter Q"}},{id:"latin_R",label:"R",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0052",description:"Latin capital letter R"}},{id:"latin_S",label:"S",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0053",description:"Latin capital letter S"}},{id:"latin_T",label:"T",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0054",description:"Latin capital letter T"}},{id:"latin_U",label:"U",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0055",description:"Latin capital letter U"}},{id:"latin_V",label:"V",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0056",description:"Latin capital letter V"}},{id:"latin_W",label:"W",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0057",description:"Latin capital letter W"}},{id:"latin_X",label:"X",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0058",description:"Latin capital letter X"}},{id:"latin_Y",label:"Y",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+0059",description:"Latin capital letter Y"}},{id:"latin_Z",label:"Z",category:"Latin",tags:["latin","uppercase","english"],metadata:{unicode:"U+005A",description:"Latin capital letter Z"}}];Yu.filter(e=>["ipa_p","ipa_b","ipa_t","ipa_d","ipa_k","ipa_g","ipa_glottal_stop","ipa_m","ipa_n","ipa_ng","ipa_f","ipa_v","ipa_theta","ipa_eth","ipa_s","ipa_z","ipa_esh","ipa_ezh","ipa_h","ipa_l","ipa_turned_r","ipa_j","ipa_w","ipa_i","ipa_small_cap_i","ipa_e","ipa_epsilon","ipa_ae_ligature","ipa_script_a","ipa_open_o","ipa_o","ipa_upsilon","ipa_u","ipa_schwa","ipa_turned_v","ipa_fish_hook_r","ipa_primary_stress","ipa_secondary_stress","ipa_long"].includes(e.id));const qv=e=>{const t=e instanceof HTMLTextAreaElement?window.HTMLTextAreaElement.prototype:window.HTMLInputElement.prototype;return Object.getOwnPropertyDescriptor(t,"value")?.set};function H9(e,t){const n=e.selectionStart??e.value.length,r=e.selectionEnd??e.value.length,i=e.value.slice(0,n),o=e.value.slice(r),l=`${i}${t}${o}`,c=n+t.length,u=qv(e);u?u.call(e,l):e.value=l,e.setSelectionRange(c,c),e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))}function Y9(e){const t=e.selectionStart??e.value.length,n=e.selectionEnd??e.value.length;if(t===n&&t===0)return;const r=t===n?e.value.slice(0,t-1)+e.value.slice(n):e.value.slice(0,t)+e.value.slice(n),i=t===n?t-1:t,o=qv(e);o?o.call(e,r):e.value=r,e.setSelectionRange(i,i),e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))}const HT=({characters:e=Yu,keyboardHeight:t="260px",renderCharacter:n,showBackspaceButton:r=!1,asInput:i=!0,inputProps:o={},styleModule:l,wrapperClassName:c,...u})=>{const d=y.useRef(null),h=y.useRef(null),m=y.useRef(null),v=y.useRef(null),[x,w]=y.useState(!1),[b,T]=y.useState(!1),S=y.useMemo(()=>e??[],[e]),R=u.registerSmartFieldProps.disabled||u.registerSmartFieldProps.readOnly,k=x&&!R,{refs:A,context:I}=Mv({open:k,onOpenChange:w}),j=Ov(I,{outsidePress:!0,escapeKey:!0}),{getReferenceProps:O,getFloatingProps:B}=Dv([j]),W=U=>{m.current={x:U.clientX,y:U.clientY}},D=U=>{const V=m.current;if(!V)return;Math.sqrt(Math.pow(U.clientX-V.x,2)+Math.pow(U.clientY-V.y,2))<5&&w(!0),m.current=null};y.useEffect(()=>{if(!k){T(!1);return}const U=()=>{const H=d.current,P=A.floating.current;if(!H)return;const Y=H.getBoundingClientRect();let re;if(P)re=P.getBoundingClientRect().top;else{const q=parseFloat(t);re=window.innerHeight-q}T(Y.bottom>re)},V=setTimeout(U,50);return requestAnimationFrame(U),window.addEventListener("resize",U),window.addEventListener("scroll",U,!0),()=>{clearTimeout(V),window.removeEventListener("resize",U),window.removeEventListener("scroll",U,!0)}},[k,t,A.floating]);const $=()=>{const U=h.current,V=d.current;if(!U||!V)return;const H=qv(V);H?H.call(V,U.value):V.value=U.value,V.dispatchEvent(new Event("input",{bubbles:!0})),V.dispatchEvent(new Event("change",{bubbles:!0}))},Q=()=>{const U=h.current,V=d.current;!U||!V||(U.value=V.value)},M=()=>{$()},G=U=>{Q()};y.useEffect(()=>{if(b&&h.current){const U=h.current,V=d.current;if(V){U.value=V.value;const H=V.selectionStart??V.value.length;U.focus(),U.setSelectionRange(H,H)}else U.focus()}},[b]);const J=y.useCallback(U=>{v.current&&v.current(U),d.current=U,A.setReference(U)},[A]),X=U=>{v.current=U.ref;const V=O({onInput:G,onPointerDown:W,onPointerUp:D}),H={...U,...o,...V,ref:J,className:U.className,inputMode:"none",autoComplete:"off",spellCheck:!1};return i?f.jsx("input",{...H}):f.jsx("textarea",{...H,rows:1,style:{resize:"none",overflow:"hidden",...o?.style||{}}})};return f.jsxs(f.Fragment,{children:[f.jsx(Xv,{...u,asInput:i,inputProps:o,renderInput:X,styleModule:l,wrapperClassName:Z(S9.fancyTextCustomKeyboardInput,c)}),k&&f.jsx(Lv,{children:f.jsxs("div",{ref:A.setFloating,...B(),className:jl.floating,children:[b&&f.jsxs("div",{className:jl.floatingInputContainer,children:[i?f.jsx("input",{ref:h,className:jl.floatingInput,inputMode:"none",autoComplete:"off",spellCheck:!1,onInput:M}):f.jsx("textarea",{ref:h,className:jl.floatingInput,inputMode:"none",autoComplete:"off",spellCheck:!1,onInput:M,rows:1,style:{resize:"none",overflow:"hidden"}}),f.jsx($e,{iconName:"check-lg",iconColor:"var(--status-success)",onClick:()=>w(!1),"aria-label":"Close keyboard",className:jl.closeButton})]}),r&&f.jsx("div",{className:jl.keyboardToolbar,children:f.jsx($e,{type:"button",iconName:"backspace",iconSize:"1.5em",iconColor:"var(--text-primary)","aria-label":"Delete character",onClick:()=>{const U=b?h.current:d.current;U&&(U.focus(),Y9(U),b&&$())}})}),f.jsx(GT,{characters:S,height:t,renderCharacter:n,onSelect:U=>{const V=b?h.current:d.current;V&&(V.focus(),H9(V,U.value??U.label),b&&$())}})]})})]})};HT.displayName="FancyTextCustomKeyboardInput";const Kv=({hasIcon:e=!0,showIconSuccess:t=!0,...n})=>{const{isEmpty:{value:r},warning:{value:i}}=n.fieldState,o=c=>!e&&!i?null:f.jsx(xn,{iconName:c.warning?"exclamation-triangle":!c.isEmpty&&t?"check-lg":"",className:c.className,style:{"--icon-shift":c.iconShift},size:"1.5em","aria-hidden":"true",role:"img","aria-label":c.warning?"Error indicator":!c.isEmpty&&t?"Valid input indicator":""}),l=c=>f.jsx(Yv,{className:c.className,style:c.style,role:"alert","aria-live":"polite","aria-atomic":"true",id:c.id,warning:c.warning||null});return f.jsx(HT,{...n,hasIcon:e,showIconSuccess:t,styleModule:Zb,wrapperClassName:Z(Zb.labelShiftTextCustomKeyboardInput),renderIcon:o,renderWarning:l})};Kv.displayName="LabelShiftTextCustomKeyboardInput";const X9="_tooltipContainer_l8bk9_1",q9="_tooltip_l8bk9_1",K9="_tooltipText_l8bk9_12",cg={tooltipContainer:X9,tooltip:q9,tooltipText:K9},Z9={basic:{tooltip:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}},transition:{duration:.2,ease:"easeOut"}},nekotech:{tooltip:{hidden:{opacity:0,scale:.3,rotate:-5},visible:{opacity:1,scale:1,rotate:0}},transition:{duration:.2,ease:[.68,-.55,.265,1.55]}}};function Nt({contentPin:e="bottom",themeType:t="basic",hoverCountdown:n=.5,tooltipStyles:r={},children:i,content:o,disabled:l=!1,showDelay:c,hideDelay:u,defaultIsOpen:d=!1,ariaLabel:h,isDescription:m=!0,className:v,style:x,...w}){const[b,T]=y.useState(d),S=y.useId(),R=y.useId(),k=y.useRef(null),{refs:A,floatingStyles:I,context:j}=Mv({open:b,onOpenChange:T,placement:e,middleware:[JE({mainAxis:10}),tS(),eS({padding:16}),wO({element:k})],whileElementsMounted:ZE}),O=W5(j,{enabled:!l,restMs:c||n*1e3,delay:{open:c||n*1e3,close:u||0}}),B=Q5(j,{enabled:!l}),W=Ov(j,{enabled:!l}),D=aT(j,{role:"tooltip"}),{getReferenceProps:$,getFloatingProps:Q}=Dv([O,B,W,D]),M=ac(Z9,t,{});let G=o;typeof o=="string"&&(G=f.jsx("span",{className:Z(cg.tooltipText),children:o}));const J={...$(),id:R,...h&&{"aria-label":h},...b&&{[m?"aria-describedby":"aria-labelledby"]:S},...typeof i=="object"&&Oe.isValidElement(i)&&!i.props.tabIndex&&{tabIndex:0}},X=e.includes("-start")||e.includes("-end");return f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:A.setReference,...J,className:v,style:x,...w,children:i}),f.jsx(Lv,{children:f.jsx("div",{className:Z(cg.tooltipContainer),ref:A.setFloating,...Q(),style:I,children:f.jsx(Uu,{children:b&&f.jsxs(Vn.div,{id:S,className:Z(cg.tooltip),style:{maxWidth:"200px",textWrap:"wrap",...r},role:"tooltip","aria-live":"polite",initial:"hidden",animate:"visible",exit:"hidden",variants:M.tooltip,transition:M.transition,children:[f.jsx(B5,{ref:k,context:j,fill:"var(--border-primary, white)","aria-hidden":"true",staticOffset:X?"45%":null}),G]},"tooltip")})})})]})}const Q9="_ancestryInput_19ppo_1",J9="_header_19ppo_7",ez="_label_19ppo_13",tz="_emptyState_19ppo_18",nz="_rowsContainer_19ppo_28",rz="_row_19ppo_28",iz="_hasError_19ppo_45",sz="_rowNumber_19ppo_50",oz="_ancestorSelector_19ppo_57",az="_selectedAncestor_19ppo_63",lz="_selectedLemma_19ppo_73",cz="_selectedPronunciation_19ppo_78",uz="_searchContainer_19ppo_84",dz="_searchInput_19ppo_88",fz="_dropdown_19ppo_103",pz="_dropdownItem_19ppo_119",hz="_optionLemma_19ppo_136",mz="_optionPronunciation_19ppo_140",gz="_noOptions_19ppo_146",yz="_moreOptions_19ppo_153",vz="_typeSelect_19ppo_161",xz="_errorMessage_19ppo_176",_z="_previewSection_19ppo_183",nn={ancestryInput:Q9,header:J9,label:ez,emptyState:tz,rowsContainer:nz,row:rz,hasError:iz,rowNumber:sz,ancestorSelector:oz,selectedAncestor:az,selectedLemma:lz,selectedPronunciation:cz,searchContainer:uz,searchInput:dz,dropdown:fz,dropdownItem:pz,optionLemma:hz,optionPronunciation:mz,noOptions:gz,moreOptions:yz,typeSelect:vz,errorMessage:xz,previewSection:_z},Rs={direction:"vertical",levelSpacing:80,siblingSpacing:40,nodePadding:12,minNodeWidth:80,minNodeHeight:32},Jo={stroke:"var(--border-primary)",strokeWidth:2,curveType:"bezier",showArrow:!1},Yo={enabled:!0,staggerDelay:100,animateConnectors:!0};let wz=0;function YT(){return`flowchart-node-${++wz}`}function XT(e,t,n=null,r=0){for(const i of e){const o=i.id??YT();t(i,r,n),i.children&&i.children.length>0&&XT(i.children,t,o,r+1)}}function bz(e,t){const n=[],r=new Map;for(const i of e)r.set(i.id,i);for(const i of e)if(!t.has(i.id))for(const o of i.childIds){const l=r.get(o);if(l){const c=l.originalNode.data,u=c?.connectionLabel,d=c?.connectionLabelStyle;n.push({parentId:i.id,childId:o,parentNode:i,childNode:l,label:u,labelStyle:d})}}return n}function Ez(e,t){const n=new Map;for(const o of e)n.set(o.id,o);const r=[],i=[t];for(;i.length>0;){const o=i.pop(),l=n.get(o);if(l)for(const c of l.childIds)r.push(c),i.push(c)}return r}function Sz(e,t){const n=new Set;for(const r of t){const i=Ez(e,r);for(const o of i)n.add(o)}return e.filter(r=>!n.has(r.id))}function Zv(e){return e.map(t=>({...t,id:t.id??YT(),children:t.children?Zv(t.children):void 0}))}function Cz(e,t={}){const[n,r]=y.useState(new Map),[i,o]=y.useState(!0),l=y.useRef(null),c=y.useRef(!1),{nodePadding:u=Rs.nodePadding,minNodeWidth:d=Rs.minNodeWidth,minNodeHeight:h=Rs.minNodeHeight}=t,m=y.useCallback(()=>{const x=Zv(e),w=[];return XT(x,b=>{w.push({id:b.id,element:b.displayElement})}),w},[e]);y.useEffect(()=>{c.current=!1,o(!0)},[e]),y.useEffect(()=>{if(c.current||!l.current)return;const x=l.current,w=m(),b=new Map;x.querySelectorAll("[data-node-id]").forEach(S=>{const R=S.getAttribute("data-node-id");if(!R)return;const k=S.getBoundingClientRect();b.set(R,{id:R,width:Math.max(k.width+u*2,d),height:Math.max(k.height+u*2,h)})}),b.size===w.length&&(r(b),o(!1),c.current=!0)},[m,u,d,h]);const v=i?f.jsx("div",{ref:l,style:{position:"absolute",left:-9999,top:-9999,visibility:"hidden",pointerEvents:"none",display:"flex",flexDirection:"column",gap:8},"aria-hidden":"true",children:m().map(({id:x,element:w})=>f.jsx("div",{"data-node-id":x,style:{display:"inline-block",whiteSpace:"nowrap"},children:w},x))}):null;return{measurements:n,isMeasuring:i,measurementContainer:v}}function Tz(e,t,n={},r=new Set){const i={...Rs,...n},o=Zv(e),l=qT(o,t,i,null,0,r);for(const h of l)KT(h,i);let c=0;for(const h of l)ZT(h,c,i),c+=h.subtreeWidth+i.siblingSpacing;const u=[];for(const h of l)QT(h,u,r);const d=JT(u);if(d.minX<0){const h=-d.minX;for(const m of u)m.x+=h}return u}function qT(e,t,n,r,i,o){return e.map(l=>{const c=l.id,u=t.get(c),d=Math.max(u?.width??n.minNodeWidth,n.minNodeWidth),h=Math.max(u?.height??n.minNodeHeight,n.minNodeHeight),v=!o.has(c)&&l.children?qT(l.children,t,n,c,i+1,o):[];return{id:c,originalNode:l,width:d,height:h,depth:i,parentId:r,children:v,x:0,y:0,subtreeWidth:d}})}function KT(e,t){if(e.children.length===0)return e.subtreeWidth=e.width,e.subtreeWidth;let n=0;for(let r=0;r<e.children.length;r++)n+=KT(e.children[r],t),r<e.children.length-1&&(n+=t.siblingSpacing);return e.subtreeWidth=Math.max(e.width,n),e.subtreeWidth}function ZT(e,t,n){const r=n.direction==="vertical";if(r?e.y=e.depth*(n.levelSpacing+e.height):e.x=e.depth*(n.levelSpacing+e.width),e.children.length===0){r?e.x=t+(e.subtreeWidth-e.width)/2:e.y=t+(e.subtreeWidth-e.height)/2;return}let i=t;for(const c of e.children)ZT(c,i,n),i+=c.subtreeWidth+n.siblingSpacing;const o=e.children[0],l=e.children[e.children.length-1];if(r){const c=(o.x+o.width/2+l.x+l.width/2)/2;e.x=c-e.width/2}else{const c=(o.y+o.height/2+l.y+l.height/2)/2;e.y=c-e.height/2}}function QT(e,t,n){t.push({id:e.id,originalNode:e.originalNode,x:e.x,y:e.y,width:e.width,height:e.height,depth:e.depth,parentId:e.parentId,childIds:e.children.map(r=>r.id),isCollapsed:n.has(e.id)});for(const r of e.children)QT(r,t,n)}function JT(e){if(e.length===0)return{minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of e)t=Math.min(t,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x+o.width),i=Math.max(i,o.y+o.height);return{minX:t,minY:n,maxX:r,maxY:i,width:r-t,height:i-n}}function Nz(e,t,n,r){const i=y.useMemo(()=>t.size===0&&e.length>0?[]:Tz(e,t,n,r),[e,t,n,r]),o=y.useMemo(()=>Sz(i,r),[i,r]),l=y.useMemo(()=>bz(o,r),[o,r]),c=y.useMemo(()=>JT(o),[o]);return{positionedNodes:i,visibleNodes:o,connections:l,bounds:c}}function eN({defaultCollapsedNodes:e=[],collapsedNodes:t,onCollapsedNodesChange:n,onNodeToggle:r}){const[i,o]=y.useState(()=>new Set(e)),l=t!==void 0,c=l?t:i,u=y.useCallback(b=>{l||o(b),n?.(b)},[l,n]),d=y.useCallback(b=>{const T=new Set(c),S=T.has(b);S?T.delete(b):T.add(b),u(T),r?.(b,S)},[c,u,r]),h=y.useCallback(b=>{if(!c.has(b))return;const T=new Set(c);T.delete(b),u(T),r?.(b,!0)},[c,u,r]),m=y.useCallback(b=>{if(c.has(b))return;const T=new Set(c);T.add(b),u(T),r?.(b,!1)},[c,u,r]),v=y.useCallback(()=>{u(new Set)},[u]),x=y.useCallback(b=>{u(new Set(b))},[u]),w=y.useCallback(b=>c.has(b),[c]);return{collapsedNodes:c,toggleNode:d,expandNode:h,collapseNode:m,expandAll:v,collapseAll:x,isCollapsed:w}}const kz="_svg_1pea2_2",Rz="_connectorsLayer_1pea2_7",Az="_nodesLayer_1pea2_11",jz="_connector_1pea2_7",Iz="_nodeGroup_1pea2_22",Pz="_nodeBackground_1pea2_26",Lz="_nodeForeignObject_1pea2_41",Oz="_nodeContent_1pea2_45",Mz="_toggleButton_1pea2_60",Dz="_toggleButtonBg_1pea2_69",Fz="_toggleButtonText_1pea2_80",$z="_loading_1pea2_101",Bz="_empty_1pea2_112",Vz="_error_1pea2_123",Uz="_connectorLabel_1pea2_147",ot={svg:kz,connectorsLayer:Rz,nodesLayer:Az,connector:jz,nodeGroup:Iz,nodeBackground:Pz,nodeForeignObject:Lz,nodeContent:Oz,toggleButton:Mz,toggleButtonBg:Dz,toggleButtonText:Fz,loading:$z,empty:Bz,error:Vz,connectorLabel:Uz},zz=y.memo(function({node:t,nodeClassName:n,nodePadding:r,animationEnabled:i,animationDelay:o,onClick:l,onHover:c,onToggle:u,hasChildren:d}){const h=y.useCallback(b=>{b.stopPropagation(),l?.(t.originalNode,b)},[l,t.originalNode]),m=y.useCallback(()=>{c?.(t.originalNode)},[c,t.originalNode]),v=y.useCallback(()=>{c?.(null)},[c]),x=y.useCallback(b=>{b.stopPropagation(),u?.(t.id)},[u,t.id]),w=f.jsxs("g",{className:Z(ot.nodeGroup,n),transform:`translate(${t.x}, ${t.y})`,onClick:h,onMouseEnter:m,onMouseLeave:v,role:"treeitem","aria-expanded":d?!t.isCollapsed:void 0,tabIndex:0,children:[f.jsx("rect",{className:ot.nodeBackground,width:t.width,height:t.height,rx:6,ry:6}),f.jsx("foreignObject",{width:t.width,height:t.height,className:ot.nodeForeignObject,children:f.jsx("div",{className:ot.nodeContent,style:{padding:r},children:t.originalNode.displayElement})}),d&&f.jsxs("g",{className:ot.toggleButton,transform:`translate(${t.width/2-8}, ${t.height-4})`,onClick:x,children:[f.jsx("circle",{cx:8,cy:8,r:8,className:ot.toggleButtonBg}),f.jsx("text",{x:8,y:12,textAnchor:"middle",className:ot.toggleButtonText,children:t.isCollapsed?"+":"-"})]})]});return i?f.jsx(Vn.g,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:o/1e3,ease:"easeOut"},children:w}):w});function Xu(e,t,n){return n==="vertical"?{startX:e.x+e.width/2,startY:e.y+e.height,endX:t.x+t.width/2,endY:t.y}:{startX:e.x+e.width,startY:e.y+e.height/2,endX:t.x,endY:t.y+t.height/2}}function Wz(e,t,n,r,i){const o=n-e,l=r-t,c=Math.sqrt(o*o+l*l);if(c===0)return{x:n,y:r};const u=o/c,d=l/c;return{x:n-u*i,y:r-d*i}}function Gz(e,t,n="vertical",r=0){const{startX:i,startY:o,endX:l,endY:c}=Xu(e,t,n),u=n==="horizontal"?l-r:l,d=n==="vertical"?c-r:c;if(n==="vertical"){const h=(o+d)/2;return`M ${i} ${o} C ${i} ${h}, ${u} ${h}, ${u} ${d}`}else{const h=(i+u)/2;return`M ${i} ${o} C ${h} ${o}, ${h} ${d}, ${u} ${d}`}}function Hz(e,t,n="vertical",r=0){const{startX:i,startY:o,endX:l,endY:c}=Xu(e,t,n),u=n==="horizontal"?l-r:l,d=n==="vertical"?c-r:c;if(n==="vertical"){const h=(o+d)/2;return`M ${i} ${o} L ${i} ${h} L ${u} ${h} L ${u} ${d}`}else{const h=(i+u)/2;return`M ${i} ${o} L ${h} ${o} L ${h} ${d} L ${u} ${d}`}}function Yz(e,t,n="vertical",r=0){const{startX:i,startY:o,endX:l,endY:c}=Xu(e,t,n);if(r>0){const u=Wz(i,o,l,c,r);return`M ${i} ${o} L ${u.x} ${u.y}`}return`M ${i} ${o} L ${l} ${c}`}function Xz(e,t,n="bezier",r="vertical",i=0){switch(n){case"step":return Hz(e,t,r,i);case"straight":return Yz(e,t,r,i);case"bezier":default:return Gz(e,t,r,i)}}function qz(e,t,n="bezier",r="vertical"){if(n==="bezier"||n==="step")return r==="vertical"?90:0;const{startX:i,startY:o,endX:l,endY:c}=Xu(e,t,r);return Math.atan2(c-o,l-i)*(180/Math.PI)}function Kz(e,t,n="vertical"){const{endX:r,endY:i}=Xu(e,t,n);return{x:r,y:i}}const Zz=y.memo(function({connection:t,style:n,direction:r,animationEnabled:i,animationDelay:o,showArrow:l=!1}){const{stroke:c=Jo.stroke,strokeWidth:u=Jo.strokeWidth,curveType:d=Jo.curveType}=n,h=12,m=Xz(t.parentNode,t.childNode,d,r,l?h:0),v=y.useMemo(()=>{if(!l)return null;const A=Kz(t.parentNode,t.childNode,r),I=qz(t.parentNode,t.childNode,d,r);return{...A,angle:I}},[l,t.parentNode,t.childNode,r,d]),x=y.useMemo(()=>{if(!t.label)return null;const A=t.parentNode,I=t.childNode,j=r==="horizontal"?A.x+A.width:A.x+A.width/2,O=r==="horizontal"?A.y+A.height/2:A.y+A.height,B=r==="horizontal"?I.x:I.x+I.width/2,W=r==="horizontal"?I.y+I.height/2:I.y;return{x:(j+B)/2,y:(O+W)/2}},[t.label,t.parentNode,t.childNode,r]),w=.5,b=o/1e3,T=`${-h},-${h/2} 0,0 ${-h},${h/2}`,S=t.labelStyle?.fontSize||"0.65rem",R=t.labelStyle?.fill||"var(--text-secondary)",k=t.labelStyle?.background||"var(--surface-base)";return i?f.jsxs("g",{children:[f.jsx(Vn.path,{d:m,stroke:c,strokeWidth:u,fill:"none",className:ot.connector,initial:{pathLength:0},animate:{pathLength:1},transition:{pathLength:{duration:w,delay:b,ease:"easeInOut"}}}),l&&v&&f.jsx("g",{transform:`translate(${v.x}, ${v.y}) rotate(${v.angle})`,children:f.jsx(Vn.polygon,{points:T,fill:c,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.15,delay:b+w,ease:"easeOut"}})}),t.label&&x&&f.jsxs(Vn.g,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,delay:b+w*.5},children:[f.jsx("rect",{x:x.x-2,y:x.y-8,width:t.label.length*5+4,height:14,fill:k,rx:2}),f.jsx("text",{x:x.x,y:x.y,fontSize:S,fill:R,textAnchor:"start",dominantBaseline:"middle",className:ot.connectorLabel,children:t.label})]})]}):f.jsxs("g",{children:[f.jsx("path",{d:m,stroke:c,strokeWidth:u,fill:"none",className:ot.connector}),l&&v&&f.jsx("polygon",{points:T,fill:c,transform:`translate(${v.x}, ${v.y}) rotate(${v.angle})`}),t.label&&x&&f.jsxs("g",{children:[f.jsx("rect",{x:x.x-2,y:x.y-8,width:t.label.length*5+4,height:14,fill:k,rx:2}),f.jsx("text",{x:x.x,y:x.y,fontSize:S,fill:R,textAnchor:"start",dominantBaseline:"middle",className:ot.connectorLabel,children:t.label})]})]})}),Qz="_container_1kibk_1",Jz="_box_1kibk_5",e7="_active_1kibk_20",ug={container:Qz,box:Jz,active:e7};function t7({barAmount:e=10,interval:t=100}){const[n,r]=y.useState(0);return y.useEffect(()=>{const i=setInterval(()=>{r(o=>(o+1)%e)},t);return()=>clearInterval(i)},[e]),f.jsx(n7,{currentBar:n,barAmount:e})}function n7({currentBar:e=0,barAmount:t=12,lightUpPast:n=!1}){return f.jsx("div",{className:Z(ug.container),children:Array.from({length:t}).map((r,i)=>{const o=n?i<=e:i===e;return f.jsx("div",{className:Z(ug.box,{[ug.active]:o})},i)})})}const r7="_canvasContainer_1222v_4",i7="_loadingOverlay_1222v_29",s7="_controls_1222v_45",o7="_controlButton_1222v_70",_s={canvasContainer:r7,"canvasContainer--measuring":"_canvasContainer--measuring_1222v_24",loadingOverlay:i7,"loadingOverlay--hidden":"_loadingOverlay--hidden_1222v_39",controls:s7,"controls--bottom-right":"_controls--bottom-right_1222v_53","controls--bottom-left":"_controls--bottom-left_1222v_57","controls--top-right":"_controls--top-right_1222v_61","controls--top-left":"_controls--top-left_1222v_65",controlButton:o7},a7=y.memo(function({onZoomIn:t,onZoomOut:n,onReset:r,onFitToView:i,position:o="bottom-right",className:l}){return f.jsxs("div",{className:Z(_s.controls,_s[`controls--${o}`],l),children:[f.jsx("button",{type:"button",className:_s.controlButton,onClick:t,"aria-label":"Zoom in",title:"Zoom in",children:"+"}),f.jsx("button",{type:"button",className:_s.controlButton,onClick:n,"aria-label":"Zoom out",title:"Zoom out",children:""}),f.jsx("button",{type:"button",className:_s.controlButton,onClick:r,"aria-label":"Reset view",title:"Reset view",children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),f.jsx("path",{d:"M3 3v5h5"})]})}),i&&f.jsx("button",{type:"button",className:_s.controlButton,onClick:i,"aria-label":"Fit to view",title:"Fit to view",children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}),f.jsx("path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}),f.jsx("path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}),f.jsx("path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"})]})})]})});function Qb(e,t,n,r,i="both",o=0,l=.1,c=3){const u=n-o*2,d=r-o*2;if(e<=0||t<=0)return 1;if(u<=0||d<=0)return l;let h;switch(i){case"width":h=u/e;break;case"height":h=d/t;break;case"both":default:h=Math.min(u/e,d/t);break}return Math.max(l,Math.min(c,h))}const Pp=y.forwardRef(function({contentDimensions:t,children:n,initialScale:r=1,minScale:i=.1,maxScale:o=3,showControls:l=!0,centerOnInit:c=!0,enableWheel:u=!0,enablePinch:d=!0,enablePan:h=!0,doubleClickMode:m="reset",enableVelocity:v=!1,onTransformChange:x,className:w,style:b,controlsPosition:T="bottom-right",ariaLabel:S},R){const k=y.useRef(null),A=y.useRef(null),I=t?.autoFit,j=I?.enabled??!1,[O,B]=y.useState(j),[W,D]=y.useState(null);y.useEffect(()=>{j?(B(!0),D(null)):B(!1)},[j]);const $=y.useCallback((U,V,H,P,Y)=>{const re=Y?.initialPosition;if(!re)return{x:(U-H)/2,y:(V-P)/2};if(Array.isArray(re)){const[q,oe]=re,ie=H>0?H/H:1;return{x:U/2-q*ie,y:V/2-oe*ie}}switch(re){case"center":return{x:(U-H)/2,y:(V-P)/2};case"top":return{x:(U-H)/2,y:0};case"top-left":return{x:0,y:0};case"top-right":return{x:U-H,y:0};case"bottom":return{x:(U-H)/2,y:V-P};case"bottom-left":return{x:0,y:V-P};case"bottom-right":return{x:U-H,y:V-P};case"left":return{x:0,y:(V-P)/2};case"right":return{x:U-H,y:(V-P)/2};default:return{x:(U-H)/2,y:(V-P)/2}}},[]),Q=y.useCallback((U="both",V=0)=>{const H=k.current;if(!H)return;const{wrapperComponent:P,contentComponent:Y}=H.instance;if(!P||!Y)return;const re=P.offsetWidth,q=P.offsetHeight,oe=Y.scrollWidth,ie=Y.scrollHeight,ve=Qb(oe,ie,re,q,U,V,i,o),be=oe*ve,ke=ie*ve,{x:Ee,y:Me}=$(re,q,be,ke,t);H.setTransform(Ee,Me,ve)},[i,o,t,$]),M=y.useCallback(U=>{if(j)return;const V=t?.initialPosition;if(!V)return;const{wrapperComponent:H,contentComponent:P}=U.instance;if(!H||!P)return;const Y=H.offsetWidth,re=H.offsetHeight,q=P.offsetWidth,oe=P.offsetHeight,ie=r;let ve=0,be=0;if(Array.isArray(V)){const[ke,Ee]=V;ve=Y/2-ke*ie,be=re/2-Ee*ie}else switch(V){case"center":ve=(Y-q*ie)/2,be=(re-oe*ie)/2;break;case"top":ve=(Y-q*ie)/2,be=0;break;case"top-left":ve=0,be=0;break;case"top-right":ve=Y-q*ie,be=0;break;case"bottom":ve=(Y-q*ie)/2,be=re-oe*ie;break;case"bottom-left":ve=0,be=re-oe*ie;break;case"bottom-right":ve=Y-q*ie,be=re-oe*ie;break;case"left":ve=0,be=(re-oe*ie)/2;break;case"right":ve=Y-q*ie,be=(re-oe*ie)/2;break}U.setTransform(ve,be,ie)},[t?.initialPosition,r]),G=y.useCallback(U=>{if(x){const{positionX:V,positionY:H,scale:P}=U.state;x({positionX:V,positionY:H,scale:P})}},[x]);y.useImperativeHandle(R,()=>({resetView:()=>{k.current?.resetTransform()},fitToView:()=>{k.current?.centerView()},fitToContent:(U,V)=>{Q(U??"both",V??0)},remeasure:()=>{j&&(B(!0),D(null))},zoomIn:()=>{k.current?.zoomIn()},zoomOut:()=>{k.current?.zoomOut()},setZoom:U=>{k.current?.setTransform(k.current.state.positionX,k.current.state.positionY,U)},panTo:(U,V)=>{k.current?.setTransform(U,V,k.current.state.scale)},getTransform:()=>{const U=k.current?.state;return{positionX:U?.positionX??0,positionY:U?.positionY??0,scale:U?.scale??1}}}),[Q,j]);const J={disabled:m==="disabled",mode:m==="disabled"?"reset":m};y.useLayoutEffect(()=>{if(!j)return;const U=requestAnimationFrame(()=>{const V=k.current;if(!V){B(!0);return}const{wrapperComponent:H,contentComponent:P}=V.instance;if(!H||!P){B(!0);return}const Y=H.offsetWidth,re=H.offsetHeight,q=P.scrollWidth,oe=P.scrollHeight,ie=Qb(q,oe,Y,re,I?.axis??"both",I?.padding??0,i,o),ve=q*ie,be=oe*ie,{x:ke,y:Ee}=$(Y,re,ve,be,t);V.setTransform(ke,Ee,ie),D(ie),B(!1)});return()=>cancelAnimationFrame(U)},[j,I?.axis,I?.padding,i,o,t,$]),y.useEffect(()=>{if(!j||!I?.refitOnResize)return;const U=A.current;if(!U)return;let V;const H=new ResizeObserver(()=>{clearTimeout(V),V=window.setTimeout(()=>{Q(I.axis??"both",I.padding??0)},100)});return H.observe(U),()=>{clearTimeout(V),H.disconnect()}},[j,I?.refitOnResize,I?.axis,I?.padding,Q]);const X=j&&W!==null?W:r;return f.jsxs("div",{ref:A,className:Z(_s.canvasContainer,{[_s["canvasContainer--measuring"]]:O},w),style:b,role:"application","aria-label":S,children:[j&&f.jsx("div",{className:Z(_s.loadingOverlay,{[_s["loadingOverlay--hidden"]]:!O}),"aria-hidden":!O,children:f.jsx(t7,{barAmount:8,interval:80})}),f.jsx(Wv,{ref:k,initialScale:X,minScale:i,maxScale:o,centerOnInit:c&&!t?.initialPosition&&!j,doubleClick:J,wheel:{disabled:!u,step:.1},panning:{disabled:!h,velocityDisabled:!v},pinch:{disabled:!d},onTransformed:G,onInit:M,children:({zoomIn:U,zoomOut:V,resetTransform:H,centerView:P})=>f.jsxs(f.Fragment,{children:[f.jsx(Gv,{wrapperStyle:{width:"100%",height:"100%"},contentStyle:{width:t?.width??"fit-content",height:t?.height??"fit-content"},children:n}),l&&f.jsx(a7,{onZoomIn:()=>U(),onZoomOut:()=>V(),onReset:()=>H(),onFitToView:j?()=>Q(I?.axis??"both",I?.padding??0):()=>P(),position:T})]})})]})}),l7=y.forwardRef(function({nodes:t,connections:n,bounds:r,direction:i,nodePadding:o,connectorStyle:l,animation:c,initialScale:u=1,minScale:d=.1,maxScale:h=3,showControls:m=!0,showDirectionArrow:v=!0,className:x,nodeClassName:w,ariaLabel:b="Flow chart diagram",onNodeClick:T,onNodeHover:S,onNodeToggle:R},k){const A=y.useRef(null),I=y.useRef(null),{enabled:j=Yo.enabled,staggerDelay:O=Yo.staggerDelay,animateConnectors:B=Yo.animateConnectors}=c,W=40,D=r.width+W*2,$=r.height+W*2,Q=y.useMemo(()=>{const J=new Map;for(const X of t)J.set(X.id,X);return J},[t]);y.useImperativeHandle(k,()=>({resetView:()=>{A.current?.resetView()},fitToView:()=>{A.current?.fitToView()},focusNode:J=>{const X=Q.get(J);if(X&&A.current){const U=X.x+X.width/2,V=X.y+X.height/2;A.current.panTo(-U+window.innerWidth/2,-V+window.innerHeight/2)}},exportSvg:()=>I.current?new XMLSerializer().serializeToString(I.current):""}),[Q]);const M=y.useCallback(J=>j?J*O:0,[j,O]),G=y.useCallback(J=>!j||!B?0:t.length*O+J*(O/2),[j,B,t.length,O]);return f.jsx(Pp,{ref:A,contentDimensions:{width:D,height:$},initialScale:u,minScale:d,maxScale:h,showControls:m,centerOnInit:!0,doubleClickMode:"reset",className:x,ariaLabel:b,children:f.jsxs("svg",{ref:I,width:D,height:$,viewBox:`${-W} ${-W} ${D} ${$}`,className:ot.svg,role:"tree","aria-label":b,children:[f.jsx("g",{className:ot.connectorsLayer,children:n.map((J,X)=>f.jsx(Zz,{connection:J,style:l,direction:i,animationEnabled:j&&B,animationDelay:G(X),showArrow:v},`${J.parentId}-${J.childId}`))}),f.jsx("g",{className:ot.nodesLayer,children:t.map((J,X)=>f.jsx(zz,{node:J,nodeClassName:w,nodePadding:o,animationEnabled:j,animationDelay:M(X),onClick:T,onHover:S,onToggle:R,hasChildren:J.childIds.length>0||J.isCollapsed},J.id))})]})})});y.forwardRef(function(t,n){const{data:r,layout:i={},connectorStyle:o={},animation:l={},onNodeClick:c,onNodeHover:u,onNodeToggle:d,initialScale:h=1,minScale:m=.1,maxScale:v=3,showControls:x=!0,showDirectionArrow:w=!0,defaultCollapsedNodes:b,collapsedNodes:T,onCollapsedNodesChange:S,className:R,style:k,nodeClassName:A,ariaLabel:I}=t,j=y.useRef(null),O=y.useMemo(()=>({...Rs,...i}),[i]),B=y.useMemo(()=>({...Jo,...o}),[o]),W=y.useMemo(()=>({...Yo,...l}),[l]),{collapsedNodes:D,toggleNode:$}=eN({defaultCollapsedNodes:b,collapsedNodes:T,onCollapsedNodesChange:S,onNodeToggle:d}),{measurements:Q,isMeasuring:M,measurementContainer:G}=Cz(r,O),{visibleNodes:J,connections:X,bounds:U}=Nz(r,Q,O,D);return y.useImperativeHandle(n,()=>({resetView:()=>j.current?.resetView(),fitToView:()=>j.current?.fitToView(),focusNode:V=>j.current?.focusNode(V),exportSvg:()=>j.current?.exportSvg()??"",toggleNode:$}),[$]),r.length===0?f.jsx("div",{className:Z(ot.canvasContainer,R),style:k,children:f.jsx("div",{className:ot.empty,children:"No data to display"})}):M?f.jsxs("div",{className:Z(ot.canvasContainer,R),style:k,children:[G,f.jsx("div",{className:ot.loading,children:"Preparing layout..."})]}):f.jsx("div",{className:Z(ot.canvasContainer,R),style:k,children:f.jsx(l7,{ref:j,nodes:J,connections:X,bounds:U,direction:O.direction,nodePadding:O.nodePadding,connectorStyle:B,animation:W,initialScale:h,minScale:m,maxScale:v,showControls:x,showDirectionArrow:w,nodeClassName:A,ariaLabel:I,onNodeClick:c,onNodeHover:u,onNodeToggle:$})})});function c7(e,t={}){const[n,r]=y.useState(new Map),[i,o]=y.useState(!0),l=y.useRef(null),c=y.useRef(!1),{nodePadding:u=Rs.nodePadding,minNodeWidth:d=Rs.minNodeWidth,minNodeHeight:h=Rs.minNodeHeight}=t,m=y.useCallback(()=>Object.entries(e.nodes).map(([x,w])=>({id:x,element:w.displayElement})),[e.nodes]);y.useEffect(()=>{c.current=!1,o(!0)},[e]),y.useEffect(()=>{if(c.current||!l.current)return;const x=l.current,w=m(),b=setTimeout(()=>{if(i&&!c.current){console.warn("[CanvasDAGChart] Measurement timed out. Using available measures or defaults.");const R=new Map,k=x.querySelectorAll("[data-node-id]"),A=new Set;k.forEach(I=>{const j=I.getAttribute("data-node-id");if(!j)return;A.add(j);const O=I.getBoundingClientRect();R.set(j,{id:j,width:Math.max(O.width+u*2,d),height:Math.max(O.height+u*2,h)})}),w.forEach(({id:I})=>{A.has(I)||R.set(I,{id:I,width:d,height:h})}),r(R),o(!1),c.current=!0}},500),T=new Map;return x.querySelectorAll("[data-node-id]").forEach(R=>{const k=R.getAttribute("data-node-id");if(!k)return;const A=R.getBoundingClientRect();T.set(k,{id:k,width:Math.max(A.width+u*2,d),height:Math.max(A.height+u*2,h)})}),(T.size===w.length||w.length===0)&&(clearTimeout(b),r(T),o(!1),c.current=!0),()=>clearTimeout(b)},[m,u,d,h,i]);const v=i?f.jsx("div",{ref:l,style:{position:"absolute",left:-9999,top:-9999,visibility:"hidden",pointerEvents:"none",display:"flex",flexDirection:"column",gap:8},"aria-hidden":"true",children:m().map(({id:x,element:w})=>f.jsx("div",{"data-node-id":x,style:{display:"inline-block",whiteSpace:"nowrap"},children:w},x))}):null;return{measurements:n,isMeasuring:i,measurementContainer:v}}function qu(e,t){const n=new Map,r=new Map;for(const i of Object.keys(e))n.set(i,[]),r.set(i,[]);for(const i of t){const o=n.get(i.sourceId);o&&o.push(i.targetId);const l=r.get(i.targetId);l&&l.push(i.sourceId)}return{children:n,parents:r}}function u7(e,t){const{children:n}=qu(e,t),r=0,i=1,o=2,l=new Map,c=new Map,u=Object.keys(e);for(const h of u)l.set(h,r),c.set(h,null);function d(h,m){l.set(h,i),m.push(h);const v=n.get(h)||[];for(const x of v){const w=l.get(x);if(w===i){const b=m.indexOf(x);return m.slice(b).concat(x)}if(w===r){c.set(x,h);const b=d(x,m);if(b)return b}}return l.set(h,o),m.pop(),null}for(const h of u)if(l.get(h)===r){const m=d(h,[]);if(m)return{hasCycle:!0,cycleNodes:m}}return{isAcyclic:!0}}function d7(e,t){const{children:n}=qu(e,t),r=[...t],i=new Map;r.forEach((m,v)=>i.set(`${m.sourceId}->${m.targetId}`,v));const o=0,l=1,c=2,u=new Map,d=Object.keys(e);d.forEach(m=>u.set(m,o));function h(m){u.set(m,l);const v=n.get(m)||[];for(const x of v)if(u.get(x)===l){const w=`${m}->${x}`,b=i.get(w);if(b!==void 0){const T=r[b];r[b]={...T,sourceId:x,targetId:m}}}else u.get(x)===o&&h(x);u.set(m,c)}return d.forEach(m=>{u.get(m)===o&&h(m)}),r}function f7(e,t){const{children:n,parents:r}=qu(e,t),i=Object.keys(e),o=new Map;for(const u of i)o.set(u,(r.get(u)||[]).length);const l=[];for(const u of i)o.get(u)===0&&l.push(u);const c=[];for(;l.length>0;){const u=l.shift();c.push(u);const d=n.get(u)||[];for(const h of d){const m=(o.get(h)||0)-1;o.set(h,m),m===0&&l.push(h)}}if(c.length!==i.length)throw new Error("Graph contains a cycle");return c}function p7(e,t){const{parents:n}=qu(e,t),r=new Map,i=f7(e,t);for(const o of i){const l=n.get(o)||[];if(l.length===0)r.set(o,0);else{let c=0;for(const u of l){const d=r.get(u)||0;c=Math.max(c,d)}r.set(o,c+1)}}return r}function tN(e,t,n,r,i){if(i.has(e))return i.get(e);if(r.has(e))return i.set(e,!0),!0;const l=(n.get(e)||[]).some(c=>tN(c,t,n,r,i)&&!t.has(c));return i.set(e,l),l}function h7(e,t,n){const r=new Set;for(const o of e)o.parentIds.length===0&&r.add(o.id);const i=new Map;return e.filter(o=>tN(o.id,t,n,r,i))}function m7(e,t,n){const r=new Map;for(const o of e)r.set(o.id,o);const i=[];for(const o of t){const l=r.get(o.sourceId),c=r.get(o.targetId);!l||!c||n.has(o.sourceId)||i.push({sourceId:o.sourceId,targetId:o.targetId,sourceNode:l,targetNode:c,label:o.label,labelStyle:o.labelStyle,isDummyEdge:l.isDummy||c.isDummy})}return i}function g7(e,t,n={},r=new Set){const i={...Rs,...n};if(Object.keys(e.nodes).length===0)return[];const l=d7(e.nodes,e.edges),c=p7(e.nodes,l),{allNodes:u,allEdges:d,dummyIds:h}=v7(e.nodes,l,c),{children:m,parents:v}=nN(d),x=new Map(c);for(const[R,k]of Object.entries(u))k.isDummy&&x.get(R)===void 0&&console.warn(`Dummy node ${R} missing layer assignment`);const w=y7(u,x),b=x7(w,d,4),S=_7(b,u,t,i,h,m,v).filter(R=>!R.isDummy);for(const R of S)R.isCollapsed=r.has(R.id);return S}function nN(e){const t=new Map,n=new Map;for(const r of e)t.has(r.sourceId)||t.set(r.sourceId,[]),t.get(r.sourceId).push(r.targetId),n.has(r.targetId)||n.set(r.targetId,[]),n.get(r.targetId).push(r.sourceId);return{children:t,parents:n}}function y7(e,t){const n=new Map;for(const r of Object.keys(e)){const i=t.get(r)??0;n.has(i)||n.set(i,[]),n.get(i).push(r)}return n}function v7(e,t,n,r,i){const o={...e},l=[],c=new Set;let u=0;for(const d of t){const h=n.get(d.sourceId)??0,m=n.get(d.targetId)??0;if(m-h<=1)l.push(d);else{let x=d.sourceId;for(let w=h+1;w<m;w++){const b=`__dummy_${u++}`;c.add(b);const T={displayElement:null,isDummy:!0,originalEdge:{sourceId:d.sourceId,targetId:d.targetId}};o[b]=T,n.set(b,w),l.push({sourceId:x,targetId:b}),x=b}l.push({sourceId:x,targetId:d.targetId,label:d.label,labelStyle:d.labelStyle})}}return{allNodes:o,allEdges:l,dummyIds:c}}function x7(e,t,n=4){const{children:r,parents:i}=nN(t),o=Array.from(e.keys()).sort((u,d)=>u-d);if(o.length<=1)return e;const l=new Map;for(const[u,d]of e)l.set(u,[...d]);function c(u,d,h){if(d.length===0)return 0;let m=0,v=0;for(const x of d){const w=h.get(x);w!==void 0&&(m+=w,v++)}return v>0?m/v:0}for(let u=0;u<n;u++){for(let d=0;d<o.length-1;d++){const h=o[d],m=o[d+1],v=l.get(h)||[],x=l.get(m)||[],w=new Map;v.forEach((T,S)=>w.set(T,S));const b=new Map;for(const T of x){const S=i.get(T)||[];b.set(T,c(T,S,w))}x.sort((T,S)=>(b.get(T)||0)-(b.get(S)||0)),l.set(m,x)}for(let d=o.length-1;d>0;d--){const h=o[d],m=o[d-1],v=l.get(h)||[],x=l.get(m)||[],w=new Map;v.forEach((T,S)=>w.set(T,S));const b=new Map;for(const T of x){const S=r.get(T)||[];b.set(T,c(T,S,w))}x.sort((T,S)=>(b.get(T)||0)-(b.get(S)||0)),l.set(m,x)}}return l}function _7(e,t,n,r,i,o,l){const c=r.direction==="vertical";function u(k){if(i.has(k))return{width:4,height:4};const A=n.get(k);return{width:Math.max(A?.width??r.minNodeWidth,r.minNodeWidth),height:Math.max(A?.height??r.minNodeHeight,r.minNodeHeight)}}const d=new Map,h=Array.from(e.keys()).sort((k,A)=>k-A);for(const k of h){const A=e.get(k)||[];let I=0;for(const j of A){const O=u(j),B=c?O.height:O.width;I=Math.max(I,B)}d.set(k,I)}const m=new Map;let v=0;for(const k of h){m.set(k,v);const A=d.get(k)||0;v+=A+r.levelSpacing}const x=[];for(const k of h){const A=e.get(k)||[],I=m.get(k)||0;let j=0;for(let B=0;B<A.length;B++){const W=u(A[B]);j+=c?W.width:W.height,B<A.length-1&&(j+=r.siblingSpacing)}let O=-j/2;for(let B=0;B<A.length;B++){const W=A[B],D=u(W),$=t[W],Q=i.has(W);let M,G;c?(M=O,G=I,O+=D.width+r.siblingSpacing):(M=I,G=O,O+=D.height+r.siblingSpacing),x.push({id:W,originalNode:$,x:M,y:G,width:D.width,height:D.height,layer:k,layerPosition:B,parentIds:l.get(W)||[],childIds:o.get(W)||[],isCollapsed:!1,isDummy:Q})}}let w=1/0,b=1/0;for(const k of x)w=Math.min(w,k.x),b=Math.min(b,k.y);const T=20,S=-w+T,R=-b+T;for(const k of x)k.x+=S,k.y+=R;return x}function w7(e){if(e.length===0)return{minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of e)o.isDummy||(t=Math.min(t,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x+o.width),i=Math.max(i,o.y+o.height));return t===1/0?{minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}:{minX:t,minY:n,maxX:r,maxY:i,width:r-t,height:i-n}}function b7(e,t,n,r){const i=y.useMemo(()=>Object.keys(e.nodes).length===0?{isAcyclic:!0}:u7(e.nodes,e.edges),[e.nodes,e.edges]),o=y.useMemo(()=>qu(e.nodes,e.edges),[e.nodes,e.edges]),l=y.useMemo(()=>{if("hasCycle"in i)return[];const x=Object.keys(e.nodes);return t.size===0&&x.length>0?[]:g7(e,t,n,r)},[e,t,n,r,i]),c=y.useMemo(()=>"hasCycle"in i?[]:h7(l,r,o.parents),[l,r,o.parents,i]),u=y.useMemo(()=>"hasCycle"in i?[]:m7(c,e.edges,r),[c,e.edges,r,i]),d=y.useMemo(()=>{const x=w7(c);return{minX:x.minX,minY:x.minY,maxX:x.maxX,maxY:x.maxY,width:x.width,height:x.height}},[c]),h=Object.keys(e.nodes),m=t.size===0&&h.length>0,v="hasCycle"in i?i:null;return{nodes:c,connections:u,bounds:d,isLoading:m,error:v}}const E7=y.memo(function({node:t,nodeClassName:n,nodePadding:r,animationEnabled:i,animationDelay:o,onClick:l,onHover:c,onToggle:u,hasChildren:d}){const h=y.useCallback(b=>{b.stopPropagation(),l?.(t.id,t.originalNode,b)},[l,t.id,t.originalNode]),m=y.useCallback(()=>{c?.(t.id,t.originalNode)},[c,t.id,t.originalNode]),v=y.useCallback(()=>{c?.(null,null)},[c]),x=y.useCallback(b=>{b.stopPropagation(),u?.(t.id)},[u,t.id]),w=f.jsxs("g",{className:Z(ot.nodeGroup,n),transform:`translate(${t.x}, ${t.y})`,onClick:h,onMouseEnter:m,onMouseLeave:v,role:"treeitem","aria-expanded":d?!t.isCollapsed:void 0,tabIndex:0,children:[f.jsx("rect",{className:ot.nodeBackground,width:t.width,height:t.height,rx:6,ry:6}),f.jsx("foreignObject",{width:t.width,height:t.height,className:ot.nodeForeignObject,children:f.jsx("div",{className:ot.nodeContent,style:{padding:r},children:t.originalNode.displayElement})}),d&&f.jsxs("g",{className:ot.toggleButton,transform:`translate(${t.width/2-8}, ${t.height-4})`,onClick:x,children:[f.jsx("circle",{cx:8,cy:8,r:8,className:ot.toggleButtonBg}),f.jsx("text",{x:8,y:12,textAnchor:"middle",className:ot.toggleButtonText,children:t.isCollapsed?"+":"-"})]})]});return i?f.jsx(Vn.g,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:o/1e3,ease:"easeOut"},children:w}):w});function Ku(e,t,n){return n==="vertical"?{startX:e.x+e.width/2,startY:e.y+e.height,endX:t.x+t.width/2,endY:t.y}:{startX:e.x+e.width,startY:e.y+e.height/2,endX:t.x,endY:t.y+t.height/2}}function S7(e,t,n,r,i){const o=n-e,l=r-t,c=Math.sqrt(o*o+l*l);if(c===0)return{x:n,y:r};const u=o/c,d=l/c;return{x:n-u*i,y:r-d*i}}function C7(e,t,n,r=0){const{startX:i,startY:o,endX:l,endY:c}=Ku(e,t,n),u=n==="horizontal"?l-r:l,d=n==="vertical"?c-r:c;if(n==="vertical"){const h=(o+d)/2;return`M ${i} ${o} C ${i} ${h}, ${u} ${h}, ${u} ${d}`}else{const h=(i+u)/2;return`M ${i} ${o} C ${h} ${o}, ${h} ${d}, ${u} ${d}`}}function T7(e,t,n,r=0){const{startX:i,startY:o,endX:l,endY:c}=Ku(e,t,n),u=n==="horizontal"?l-r:l,d=n==="vertical"?c-r:c;if(n==="vertical"){const h=(o+d)/2;return`M ${i} ${o} L ${i} ${h} L ${u} ${h} L ${u} ${d}`}else{const h=(i+u)/2;return`M ${i} ${o} L ${h} ${o} L ${h} ${d} L ${u} ${d}`}}function N7(e,t,n,r=0){const{startX:i,startY:o,endX:l,endY:c}=Ku(e,t,n);if(r>0){const u=S7(i,o,l,c,r);return`M ${i} ${o} L ${u.x} ${u.y}`}return`M ${i} ${o} L ${l} ${c}`}function k7(e,t,n,r,i=0){switch(n){case"step":return T7(e,t,r,i);case"straight":return N7(e,t,r,i);case"bezier":default:return C7(e,t,r,i)}}function R7(e,t,n,r){if(n==="bezier"||n==="step")return r==="vertical"?90:0;const{startX:i,startY:o,endX:l,endY:c}=Ku(e,t,r);return Math.atan2(c-o,l-i)*(180/Math.PI)}function A7(e,t,n){const{endX:r,endY:i}=Ku(e,t,n);return{x:r,y:i}}const j7=y.memo(function({connection:t,style:n,direction:r,animationEnabled:i,animationDelay:o,showArrow:l=!1}){const{stroke:c=Jo.stroke,strokeWidth:u=Jo.strokeWidth,curveType:d=Jo.curveType}=n,h=12,m=k7(t.sourceNode,t.targetNode,d,r,l?h:0),v=y.useMemo(()=>{if(!l)return null;const A=A7(t.sourceNode,t.targetNode,r),I=R7(t.sourceNode,t.targetNode,d,r);return{...A,angle:I}},[l,t.sourceNode,t.targetNode,r,d]),x=y.useMemo(()=>{if(!t.label)return null;const A=t.sourceNode,I=t.targetNode,j=r==="horizontal"?A.x+A.width:A.x+A.width/2,O=r==="horizontal"?A.y+A.height/2:A.y+A.height,B=r==="horizontal"?I.x:I.x+I.width/2,W=r==="horizontal"?I.y+I.height/2:I.y;return{x:(j+B)/2,y:(O+W)/2}},[t.label,t.sourceNode,t.targetNode,r]),w=.5,b=o/1e3,T=`${-h},-${h/2} 0,0 ${-h},${h/2}`,S=t.labelStyle?.fontSize||"0.65rem",R=t.labelStyle?.fill||"var(--text-secondary)",k=t.labelStyle?.background||"var(--surface-base)";return i?f.jsxs("g",{children:[f.jsx(Vn.path,{d:m,stroke:c,strokeWidth:u,fill:"none",className:ot.connector,initial:{pathLength:0},animate:{pathLength:1},transition:{pathLength:{duration:w,delay:b,ease:"easeInOut"}}}),l&&v&&f.jsx("g",{transform:`translate(${v.x}, ${v.y}) rotate(${v.angle})`,children:f.jsx(Vn.polygon,{points:T,fill:c,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.15,delay:b+w,ease:"easeOut"}})}),t.label&&x&&f.jsxs(Vn.g,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,delay:b+w*.5},children:[f.jsx("rect",{x:x.x-2,y:x.y-8,width:t.label.length*5+4,height:14,fill:k,rx:2}),f.jsx("text",{x:x.x,y:x.y,fontSize:S,fill:R,textAnchor:"start",dominantBaseline:"middle",className:ot.connectorLabel,children:t.label})]})]}):f.jsxs("g",{children:[f.jsx("path",{d:m,stroke:c,strokeWidth:u,fill:"none",className:ot.connector}),l&&v&&f.jsx("polygon",{points:T,fill:c,transform:`translate(${v.x}, ${v.y}) rotate(${v.angle})`}),t.label&&x&&f.jsxs("g",{children:[f.jsx("rect",{x:x.x-2,y:x.y-8,width:t.label.length*5+4,height:14,fill:k,rx:2}),f.jsx("text",{x:x.x,y:x.y,fontSize:S,fill:R,textAnchor:"start",dominantBaseline:"middle",className:ot.connectorLabel,children:t.label})]})]})}),I7=y.memo(function({onZoomIn:t,onZoomOut:n,onReset:r}){return f.jsxs("div",{className:ot.controls,children:[f.jsx("button",{type:"button",className:ot.controlButton,onClick:t,"aria-label":"Zoom in",title:"Zoom in",children:"+"}),f.jsx("button",{type:"button",className:ot.controlButton,onClick:n,"aria-label":"Zoom out",title:"Zoom out",children:"-"}),f.jsx("button",{type:"button",className:ot.controlButton,onClick:r,"aria-label":"Reset view",title:"Reset view",children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),f.jsx("path",{d:"M3 3v5h5"})]})})]})}),P7=y.forwardRef(function(t,n){const{data:r,layout:i={},connectorStyle:o={},animation:l={},onNodeClick:c,onNodeHover:u,onNodeToggle:d,onCycleDetected:h,initialScale:m=1,minScale:v=.1,maxScale:x=3,showControls:w=!0,showDirectionArrow:b=!0,defaultCollapsedNodes:T,collapsedNodes:S,onCollapsedNodesChange:R,className:k,style:A,nodeClassName:I,ariaLabel:j="DAG diagram"}=t,O=y.useRef(null),B=y.useRef(null),W=y.useMemo(()=>({...Rs,...i}),[i]),D=y.useMemo(()=>({...Jo,...o}),[o]),$=y.useMemo(()=>({...Yo,...l}),[l]),{collapsedNodes:Q,toggleNode:M}=eN({defaultCollapsedNodes:T,collapsedNodes:S,onCollapsedNodesChange:R,onNodeToggle:d}),{measurements:G,isMeasuring:J,measurementContainer:X}=c7(r,W),{nodes:U,connections:V,bounds:H,error:P}=b7(r,G,W,Q);y.useEffect(()=>{P&&h&&h(P)},[P,h]);const Y=y.useMemo(()=>{const Le=new Map;for(const ae of U)Le.set(ae.id,ae);return Le},[U]);y.useImperativeHandle(n,()=>({resetView:()=>{O.current?.resetTransform()},fitToView:()=>{O.current?.centerView()},focusNode:Le=>{const ae=Y.get(Le);if(ae&&O.current){const xe=ae.x+ae.width/2,de=ae.y+ae.height/2;O.current.setTransform(-xe+window.innerWidth/2,-de+window.innerHeight/2,1)}},exportSvg:()=>B.current?new XMLSerializer().serializeToString(B.current):"",toggleNode:M}),[Y,M]);const{enabled:re=Yo.enabled,staggerDelay:q=Yo.staggerDelay,animateConnectors:oe=Yo.animateConnectors}=$,ie=y.useCallback(Le=>re?Le*q:0,[re,q]),ve=y.useCallback(Le=>!re||!oe?0:U.length*q+Le*(q/2),[re,oe,U.length,q]),be=y.useCallback((Le,ae,xe)=>{c?.({id:Le,...ae},xe)},[c]),ke=y.useCallback((Le,ae)=>{u?.(Le&&ae?{id:Le,...ae}:null)},[u]);if(Object.keys(r.nodes).length===0)return f.jsx("div",{className:Z(ot.canvasContainer,k),style:A,children:f.jsx("div",{className:ot.empty,children:"No data to display"})});if(P)return f.jsx("div",{className:Z(ot.canvasContainer,k),style:A,children:f.jsxs("div",{className:ot.error,children:[f.jsx("strong",{children:"Cycle detected in graph"}),f.jsxs("p",{children:["Path: ",P.cycleNodes.join("  ")]})]})});if(J)return f.jsxs("div",{className:Z(ot.canvasContainer,k),style:A,children:[X,f.jsx("div",{className:ot.loading,children:"Preparing layout..."})]});const Me=40,me=H.width+Me*2,ge=H.height+Me*2;return f.jsx("div",{className:Z(ot.canvasContainer,k),style:A,children:f.jsx(Wv,{ref:O,initialScale:m,minScale:v,maxScale:x,centerOnInit:!0,doubleClick:{disabled:!1,mode:"reset"},wheel:{disabled:!1,step:.1},panning:{velocityDisabled:!1},pinch:{disabled:!1},children:({zoomIn:Le,zoomOut:ae,resetTransform:xe})=>f.jsxs(f.Fragment,{children:[f.jsx(Gv,{wrapperStyle:{width:"100%",height:"100%"},contentStyle:{width:me,height:ge},children:f.jsxs("svg",{ref:B,width:me,height:ge,viewBox:`${-Me} ${-Me} ${me} ${ge}`,className:ot.svg,role:"img","aria-label":j,children:[f.jsx("g",{className:ot.connectorsLayer,children:V.map((de,Ae)=>f.jsx(j7,{connection:de,style:D,direction:W.direction,animationEnabled:re&&oe,animationDelay:ve(Ae),showArrow:b},`${de.sourceId}-${de.targetId}`))}),f.jsx("g",{className:ot.nodesLayer,children:U.map((de,Ae)=>f.jsx(E7,{node:de,nodeClassName:I,nodePadding:W.nodePadding,animationEnabled:re,animationDelay:ie(Ae),onClick:be,onHover:ke,onToggle:M,hasChildren:de.childIds.length>0||de.isCollapsed},de.id))})]})}),w&&f.jsx(I7,{onZoomIn:()=>Le(),onZoomOut:()=>ae(),onReset:()=>xe()})]})})})}),Lp={derived:"var(--status-info)",borrowed:"var(--status-warning)",compound:"var(--status-good)",blend:"var(--color-primary)",calque:"var(--status-neutral, #888)",other:"var(--text-secondary)"};function L7(e,t){const{renderNode:n,currentWordId:r,maxDepth:i=10}=t,o={},l=[],c=new Set,u=`lexicon-${e.entry.id}`;o[u]={displayElement:n(e.entry,!0,null),data:{isCurrentWord:!0,lexiconId:e.entry.id}},c.add(e.entry.id);function d(h,m,v){if(!(v>i))for(const x of h.ancestors??[]){const w=`lexicon-${x.entry.id}`;l.push({sourceId:w,targetId:m,label:x.ancestry_type??void 0,labelStyle:x.ancestry_type?{fill:Lp[x.ancestry_type],fontSize:"0.65rem"}:void 0}),c.has(x.entry.id)||(c.add(x.entry.id),o[w]={displayElement:n(x.entry,x.entry.id===r,x.ancestry_type),data:{lexiconId:x.entry.id,isCurrentWord:x.entry.id===r}},d(x,w,v+1))}}return d(e,u,0),{nodes:o,edges:l}}function O7(e,t,n){const r={},i=[],o=t.id?`lexicon-${t.id}`:"current-word";r[o]={displayElement:n({id:t.id??-1,lemma:t.lemma,pronunciation:null,is_native:!0},!0,null),data:{isCurrentWord:!0,lexiconId:t.id}};for(const{ancestor:l,ancestryType:c}of e){const u=`lexicon-${l.id}`;r[u]||(r[u]={displayElement:n(l,!1,c),data:{lexiconId:l.id,isCurrentWord:!1}}),i.push({sourceId:u,targetId:o,label:c,labelStyle:{fill:Lp[c],fontSize:"0.65rem"}})}return{nodes:r,edges:i}}const M7="_nodeDisplay_1pz7m_1",D7="_currentWord_1pz7m_14",F7="_external_1pz7m_19",$7="_clickable_1pz7m_24",B7="_ancestryBadge_1pz7m_34",V7="_externalBadge_1pz7m_46",U7="_lemma_1pz7m_51",z7="_pronunciation_1pz7m_56",W7="_currentIndicator_1pz7m_62",Js={nodeDisplay:M7,currentWord:D7,external:F7,clickable:$7,ancestryBadge:B7,externalBadge:V7,lemma:U7,pronunciation:z7,currentIndicator:W7},G7=y.memo(function({entry:t,isCurrentWord:n=!1,ancestryType:r,onClick:i}){const o=()=>{i&&t.id>0&&i(t.id)},l=u=>{(u.key==="Enter"||u.key===" ")&&i&&t.id>0&&(u.preventDefault(),i(t.id))},c=!!i&&t.id>0&&!n;return f.jsxs("div",{className:Z(Js.nodeDisplay,{[Js.currentWord]:n,[Js.external]:!t.is_native,[Js.clickable]:c}),onClick:c?o:void 0,onKeyDown:c?l:void 0,role:c?"button":void 0,tabIndex:c?0:void 0,children:[r&&f.jsx("span",{className:Js.ancestryBadge,style:{backgroundColor:Lp[r]},title:`Relationship: ${r}`,children:r.charAt(0).toUpperCase()}),!t.is_native&&t.id>0&&f.jsx("span",{className:Js.externalBadge,title:"External/borrowed word",children:""}),f.jsx("span",{className:Js.lemma,children:t.lemma}),t.pronunciation&&f.jsxs("span",{className:Js.pronunciation,children:["/",t.pronunciation,"/"]}),n&&f.jsx("span",{className:Js.currentIndicator,title:"Current word",children:""})]})}),H7="_previewContainer_15x95_1",Y7="_header_15x95_10",X7="_title_15x95_19",q7="_noAncestorsHint_15x95_25",K7="_legend_15x95_32",Z7="_legendItem_15x95_39",Q7="_legendDot_15x95_45",J7="_chartContainer_15x95_51",eW="_footer_15x95_58",tW="_footerNote_15x95_65",gs={previewContainer:H7,header:Y7,title:X7,noAncestorsHint:q7,legend:K7,legendItem:Z7,legendDot:Q7,chartContainer:J7,footer:eW,footerNote:tW},nW=y.memo(function({ancestryTree:t,selectedAncestors:n,currentWord:r,maxHeight:i=300,onNodeClick:o}){const l=y.useCallback((h,m,v)=>f.jsx(G7,{entry:h,isCurrentWord:m,ancestryType:v,onClick:o}),[o]),c=y.useMemo(()=>({nodes:{[r.id?`lexicon-${r.id}`:"current-word"]:{displayElement:l({id:r.id??-1,lemma:r.lemma,pronunciation:null,is_native:!0},!0,null),data:{isCurrentWord:!0,lexiconId:r.id}}},edges:[]}),[r.id,r.lemma,l]),u=y.useMemo(()=>{let h=null;if(t&&t.ancestors&&t.ancestors.length>0&&(h=L7(t,{renderNode:l,currentWordId:r.id,maxDepth:10})),n&&n.length>0){const m=O7(n.map(v=>({ancestor:v.ancestor,ancestryType:v.ancestryType})),r,l);if(h){const v={...m.nodes},x=[...m.edges],w=new Set(x.map(b=>`${b.sourceId}->${b.targetId}`));for(const b of n){const T=`lexicon-${b.ancestor.id}`;if(h.nodes[T]){const S=[T],R=new Set;for(;S.length>0;){const k=S.pop();if(R.has(k))continue;R.add(k),!v[k]&&h.nodes[k]&&(v[k]=h.nodes[k]);const A=h.edges.filter(I=>I.targetId===k);for(const I of A){const j=`${I.sourceId}->${I.targetId}`;w.has(j)||(x.push(I),w.add(j)),S.push(I.sourceId)}}}}return{nodes:v,edges:x}}return m}return c},[t,n,r,l,c]),d=n?.length??0;return f.jsxs("div",{className:gs.previewContainer,style:{maxHeight:i},children:[f.jsxs("div",{className:gs.header,children:[f.jsxs("span",{className:gs.title,children:["Etymology Tree Preview",d===0&&f.jsx("span",{className:gs.noAncestorsHint,children:" (no ancestors)"})]}),f.jsx("div",{className:gs.legend,children:Object.entries(Lp).slice(0,4).map(([h,m])=>f.jsxs("span",{className:gs.legendItem,children:[f.jsx("span",{className:gs.legendDot,style:{backgroundColor:m}}),h]},h))})]}),f.jsx("div",{className:gs.chartContainer,children:f.jsx(P7,{data:u,layout:{direction:"horizontal",levelSpacing:100,siblingSpacing:30,nodePadding:4,minNodeWidth:60,minNodeHeight:24},connectorStyle:{curveType:"bezier",strokeWidth:2,stroke:"var(--border-primary)",showArrow:!0},animation:{enabled:!0,staggerDelay:50,animateConnectors:!0},showControls:!0,showDirectionArrow:!0,initialScale:.9,minScale:.3,maxScale:2,ariaLabel:"Etymology graph showing word ancestry"})}),f.jsx("div",{className:gs.footer,children:f.jsx("span",{className:gs.footerNote,children:" Root ancestors | Current word "})})]})}),rW=[{value:"derived",label:"Derived"},{value:"borrowed",label:"Borrowed"},{value:"compound",label:"Compound"},{value:"blend",label:"Blend"},{value:"calque",label:"Calque"},{value:"other",label:"Other"}],rN=y.forwardRef(({registerSmartFieldProps:e,fieldState:t,currentLexiconId:n,currentLemma:r="Current Word",availableLexicon:i,excludeIds:o=[],checkCycle:l,ancestryTree:c,showPreview:u=!0,onTreeNodeClick:d,onChange:h,defaultValue:m=[],maxRows:v,className:x},w)=>{const b=y.useId(),T=y.useRef(!0),S=y.useRef(t);S.current=t;const R=y.useRef(!1),[k,A]=y.useState(()=>m.length>0?(R.current=!0,m.map((X,U)=>({id:`${b}-row-${U}`,ancestorId:X.ancestorId,ancestryType:X.ancestryType}))):[]);y.useEffect(()=>{!R.current&&m.length>0&&(R.current=!0,A(m.map((X,U)=>({id:`${b}-row-${U}`,ancestorId:X.ancestorId,ancestryType:X.ancestryType}))))},[m,b]);const[I,j]=y.useState({}),O=new Set([...o,...n?[n]:[],...k.filter(X=>X.ancestorId!==null).map(X=>X.ancestorId)]);y.useImperativeHandle(e.ref,()=>({get value(){return k.filter(X=>X.ancestorId!==null&&!X.error).map(X=>({ancestorId:X.ancestorId,ancestryType:X.ancestryType}))}}),[k]),y.useEffect(()=>{if(T.current){T.current=!1;return}S.current.isTouched.setIsTouched(!0),S.current.isChanged.setIsChanged(!0);const X=k.filter(V=>V.ancestorId!==null&&!V.error);S.current.isEmpty.setIsEmpty(X.length===0);const U=k.some(V=>V.error);S.current.isInputValid.setIsInputValid(!U),h?.(X.map(V=>({ancestorId:V.ancestorId,ancestryType:V.ancestryType})))},[k,h]);const B=y.useCallback(()=>{if(v&&k.length>=v)return;const X={id:`${b}-row-${Date.now()}`,ancestorId:null,ancestryType:"derived"};A(U=>[...U,X])},[k.length,v,b]),W=y.useCallback(X=>{A(U=>U.filter(V=>V.id!==X)),j(U=>{const V={...U};return delete V[X],V})},[]),D=y.useCallback((X,U)=>{if(n&&l&&l(n,U)){A(H=>H.map(P=>P.id===X?{...P,ancestorId:U,error:"This would create a cycle in the etymology tree"}:P));return}A(V=>V.map(H=>H.id===X?{...H,ancestorId:U,error:void 0}:H)),j(V=>({...V,[X]:""}))},[n,l]),$=y.useCallback((X,U)=>{A(V=>V.map(H=>H.id===X?{...H,ancestryType:U}:H))},[]),Q=y.useCallback(X=>{A(U=>U.map(V=>V.id===X?{...V,ancestorId:null,error:void 0}:V))},[]),M=X=>i.find(U=>U.id===X),G=X=>{const U=(I[X]||"").toLowerCase().trim(),V=k.find(H=>H.id===X);return i.filter(H=>V?.ancestorId===H.id?!0:O.has(H.id)?!1:U?H.lemma.toLowerCase().includes(U)||H.pronunciation?.toLowerCase().includes(U)||H.meaning?.toLowerCase().includes(U):!0)},J=y.useMemo(()=>k.filter(X=>X.ancestorId!==null&&!X.error).map(X=>{const U=i.find(V=>V.id===X.ancestorId);return U?{ancestor:U,ancestryType:X.ancestryType}:null}).filter(X=>X!==null),[k,i]);return f.jsxs("div",{className:Z(nn.ancestryInput,x),children:[f.jsxs("div",{className:nn.header,children:[f.jsx("span",{className:nn.label,children:"Etymology / Ancestors"}),f.jsx(Nt,{content:"Add an ancestor word",children:f.jsx($e,{iconName:"plus-circle",onClick:B,disabled:v!==void 0&&k.length>=v,iconColor:"var(--green)",iconSize:"1.25rem",themeType:"basic",children:"Add Ancestor"})})]}),k.length===0?f.jsx("div",{className:nn.emptyState,children:`No ancestors defined. Click "Add Ancestor" to link this word's etymology.`}):f.jsx("div",{className:nn.rowsContainer,children:k.map((X,U)=>{const V=X.ancestorId?M(X.ancestorId):null,H=G(X.id);return f.jsxs("div",{className:Z(nn.row,{[nn.hasError]:X.error}),children:[f.jsxs("span",{className:nn.rowNumber,children:[U+1,"."]}),f.jsx("div",{className:nn.ancestorSelector,children:V?f.jsxs("div",{className:nn.selectedAncestor,children:[f.jsx("span",{className:nn.selectedLemma,children:V.lemma}),V.pronunciation&&f.jsxs("span",{className:nn.selectedPronunciation,children:["/",V.pronunciation,"/"]}),f.jsx($e,{iconName:"x",onClick:()=>Q(X.id),iconColor:"var(--text-secondary)",iconSize:"0.875rem",themeType:"basic"})]}):f.jsxs("div",{className:nn.searchContainer,children:[f.jsx("input",{type:"text",placeholder:"Search for ancestor word...",value:I[X.id]||"",onChange:P=>j(Y=>({...Y,[X.id]:P.target.value})),className:nn.searchInput}),(I[X.id]||H.length<=10)&&f.jsxs("div",{className:nn.dropdown,children:[H.slice(0,10).map(P=>f.jsxs("button",{type:"button",className:nn.dropdownItem,onClick:()=>D(X.id,P.id),children:[f.jsx("span",{className:nn.optionLemma,children:P.lemma}),P.pronunciation&&f.jsxs("span",{className:nn.optionPronunciation,children:["/",P.pronunciation,"/"]})]},P.id)),H.length===0&&f.jsx("div",{className:nn.noOptions,children:"No matching words"}),H.length>10&&f.jsxs("div",{className:nn.moreOptions,children:["Type to filter (",H.length," options)"]})]})]})}),f.jsx("select",{value:X.ancestryType,onChange:P=>$(X.id,P.target.value),className:nn.typeSelect,children:rW.map(P=>f.jsx("option",{value:P.value,children:P.label},P.value))}),f.jsx($e,{iconName:"trash3",onClick:()=>W(X.id),iconColor:"var(--status-bad)",iconSize:"1rem",themeType:"basic"}),X.error&&f.jsx("div",{className:nn.errorMessage,children:X.error})]},X.id)})}),u&&f.jsx("div",{className:nn.previewSection,children:f.jsx(nW,{ancestryTree:c,selectedAncestors:J,currentWord:{id:n,lemma:r},maxHeight:300,onNodeClick:d})})]})});rN.displayName="AncestryInput";const iW="_formFields_1ybof_1",sW="_section_1ybof_7",oW="_sectionHeader_1ybof_13",aW="_checkboxRow_1ybof_22",lW="_checkboxLabel_1ybof_28",cW="_disabled_1ybof_41",uW="_helpIcon_1ybof_49",dW="_externalNote_1ybof_63",qn={formFields:iW,section:sW,sectionHeader:oW,checkboxRow:aW,checkboxLabel:lW,disabled:cW,helpIcon:uW,externalNote:dW};function fW(){return{name:"append",insert(e,t,n){return{selection:[...e,t],cursor:null}},remove(e,t){return e.length===0?{selection:[],cursor:null}:{selection:e.slice(0,-1),cursor:null}},clear(){return{selection:[],cursor:null}}}}const pW=fW(),hW="_canvasContainer_9420v_6",mW="_canvasInner_9420v_21",gW="_empty_9420v_26",yW="_emptyText_9420v_33",vW="_svg_9420v_41",xW="_glyphNode_9420v_46",_W="_virtualGlyph_9420v_52",wW="_glyphBackground_9420v_56",bW="_virtualBackground_9420v_64",EW="_virtualContent_9420v_72",SW="_glyphForeignObject_9420v_76",CW="_glyphContent_9420v_80",ti={canvasContainer:hW,canvasInner:mW,empty:gW,emptyText:yW,svg:vW,glyphNode:xW,virtualGlyph:_W,glyphBackground:wW,virtualBackground:bW,virtualContent:EW,glyphForeignObject:SW,glyphContent:CW},TW=y.forwardRef(function({selectedGlyphIds:t,glyphMap:n,layout:r={},initialScale:i=1,minScale:o=.25,maxScale:l=3,showControls:c=!0,emptyStateContent:u,className:d,style:h,minHeight:m="120px"},v){const x=y.useRef(null),w=y.useMemo(()=>t.map(k=>n.get(k)).filter(k=>k!==void 0),[t,n]),b=y.useMemo(()=>CA(w,r),[w,r]),T=y.useMemo(()=>AA(b,r),[b,r]),S=Math.max(T.width,200),R=Math.max(T.height,80);return y.useImperativeHandle(v,()=>({resetView:()=>{x.current?.resetView()},fitToView:()=>{x.current?.fitToView()}}),[]),t.length===0?f.jsx("div",{className:Z(ti.canvasContainer,ti.empty,d),style:{...h,minHeight:m},children:u??f.jsx("span",{className:ti.emptyText,children:"No glyphs selected. Click the keyboard button to add glyphs."})}):f.jsx("div",{className:Z(ti.canvasContainer,d),style:{...h,minHeight:m},children:f.jsx(Pp,{ref:x,contentDimensions:{width:S,height:R},initialScale:i,minScale:o,maxScale:l,showControls:c,centerOnInit:!0,enableVelocity:!0,className:ti.canvasInner,ariaLabel:`Canvas with ${t.length} glyphs`,children:f.jsx("svg",{width:S,height:R,viewBox:`0 0 ${S} ${R}`,className:ti.svg,role:"img","aria-label":`Canvas with ${t.length} glyphs`,children:b.map(k=>f.jsx(NW,{positionedGlyph:k},`${k.glyph.id}-${k.index}`))})})})});function NW({positionedGlyph:e}){const{glyph:t,x:n,y:r,width:i,height:o}=e,l=bf(t.id),c=y.useMemo(()=>$v.sanitize(t.svg_data,{USE_PROFILES:{svg:!0,svgFilters:!0}}),[t.svg_data]);return f.jsxs("g",{className:Z(ti.glyphNode,{[ti.virtualGlyph]:l}),transform:`translate(${n}, ${r})`,children:[l&&f.jsxs("title",{children:["IPA Fallback: ",t.name]}),f.jsx("rect",{className:Z(ti.glyphBackground,{[ti.virtualBackground]:l}),width:i,height:o,rx:4,ry:4}),f.jsx("foreignObject",{width:i,height:o,className:ti.glyphForeignObject,children:f.jsx("div",{className:Z(ti.glyphContent,{[ti.virtualContent]:l}),dangerouslySetInnerHTML:{__html:c}})})]})}const kW="_overlay_vd05x_6",RW="_header_vd05x_33",AW="_headerLeft_vd05x_42",jW="_title_vd05x_48",IW="_modeToggle_vd05x_55",PW="_modeButton_vd05x_62",LW="_active_vd05x_75",OW="_actions_vd05x_88",MW="_content_vd05x_94",DW="_emptyState_vd05x_100",FW="_switchModeLink_vd05x_113",$W="_glyphSvgContent_vd05x_134",BW="_glyphLabelContent_vd05x_149",VW="_keyboardWrapper_vd05x_161",UW="_keyboardActions_vd05x_169",zW="_backspaceButton_vd05x_177",WW="_backspaceLabel_vd05x_206",Nn={overlay:kW,header:RW,headerLeft:AW,title:jW,modeToggle:IW,modeButton:PW,active:LW,actions:OW,content:MW,emptyState:DW,switchModeLink:FW,glyphSvgContent:$W,glyphLabelContent:BW,keyboardWrapper:VW,keyboardActions:UW,backspaceButton:zW,backspaceLabel:WW};function GW(e){return{id:String(e.id),label:e.name,value:String(e.id),displayType:"svg",displayData:e.svg_data,category:e.category??"Uncategorized",tags:[e.name.toLowerCase()],ariaLabel:`Insert glyph: ${e.name}`,metadata:{description:e.notes??void 0}}}function HW(e){if(e.displayType==="svg"&&e.displayData){const t=$v.sanitize(e.displayData,{USE_PROFILES:{svg:!0,svgFilters:!0}});return f.jsx(Nt,{content:e.label,contentPin:"top",children:f.jsx("span",{className:Nn.glyphSvgContent,dangerouslySetInnerHTML:{__html:t}})})}return f.jsx(Nt,{content:e.label,contentPin:"top",children:f.jsx("span",{className:Nn.glyphLabelContent,children:e.label})})}function YW(){return Yu.map(e=>({...e,category:"IPA"}))}function XW({availableGlyphs:e,onSelect:t,onRemove:n,onClear:r,isOpen:i,onClose:o,searchable:l=!0,height:c="260px",className:u,style:d,enableIpaMode:h=!1,onIpaSelect:m}){const v=y.useRef(null),x=y.useRef(null),[w,b]=y.useState("glyphs"),T=y.useMemo(()=>e.map(GW),[e]),S=y.useMemo(()=>YW(),[]),R=w==="glyphs"?T:S,k=y.useMemo(()=>{const O=new Map;for(const B of e)O.set(B.id,B);return O},[e]),A=y.useCallback(O=>{const B=parseInt(O.id,10),W=k.get(B);W&&t(W)},[k,t]),I=y.useCallback(O=>{const B=O.label,W=O.metadata?.description,D=fu(B,W);m&&m(B,D),t({id:D.id,name:D.name,svg_data:D.svg_data,category:D.category,notes:D.notes})},[t,m]),j=y.useCallback(O=>{w==="glyphs"?A(O):I(O)},[w,A,I]);return y.useEffect(()=>{if(!i)return;const O=B=>{if(B.key==="Escape"&&(B.preventDefault(),o()),B.key==="Backspace"&&n){const W=document.activeElement;W?.tagName==="INPUT"||W?.tagName==="TEXTAREA"||(B.preventDefault(),n())}};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[i,o,n]),y.useEffect(()=>{i?(x.current=document.activeElement,setTimeout(()=>{v.current?.focus()},0)):x.current&&(x.current.focus(),x.current=null)},[i]),i?f.jsxs("div",{ref:v,className:Z(Nn.overlay,u),style:d,role:"dialog","aria-label":"Glyph keyboard","aria-modal":"true",tabIndex:-1,children:[f.jsxs("div",{className:Nn.header,children:[f.jsxs("div",{className:Nn.headerLeft,children:[f.jsx("span",{className:Nn.title,children:w==="glyphs"?"Select Glyph":"Select IPA Character"}),h&&f.jsxs("div",{className:Nn.modeToggle,role:"tablist","aria-label":"Keyboard mode",children:[f.jsx("button",{type:"button",role:"tab","aria-selected":w==="glyphs",className:Z(Nn.modeButton,{[Nn.active]:w==="glyphs"}),onClick:()=>b("glyphs"),children:"Glyphs"}),f.jsx("button",{type:"button",role:"tab","aria-selected":w==="ipa",className:Z(Nn.modeButton,{[Nn.active]:w==="ipa"}),onClick:()=>b("ipa"),children:"IPA"})]})]}),f.jsxs("div",{className:Nn.actions,children:[n&&f.jsx(Nt,{content:"Backspace",contentPin:"top",children:f.jsx($e,{type:"button",iconName:"backspace",onClick:n,"aria-label":"Remove last glyph",themeType:"basic",iconSize:"1rem"})}),r&&f.jsx(Nt,{content:"Clear all glyphs",contentPin:"top",children:f.jsx($e,{type:"button",iconName:"trash",onClick:r,"aria-label":"Clear all glyphs",themeType:"basic",iconSize:"1rem",iconColor:"var(--status-bad)"})}),f.jsx($e,{iconName:"x",onClick:o,"aria-label":"Close keyboard",themeType:"basic",iconSize:"1.25rem"})]})]}),f.jsx("div",{className:Nn.content,children:w==="glyphs"&&e.length===0?f.jsxs("div",{className:Nn.emptyState,children:["No glyphs available. Create some glyphs first.",h&&f.jsx("button",{type:"button",className:Nn.switchModeLink,onClick:()=>b("ipa"),children:"Switch to IPA keyboard"})]}):f.jsxs("div",{className:Nn.keyboardWrapper,children:[f.jsx(GT,{characters:R,onSelect:j,searchable:l,groupBy:"category",height:c,emptyStateText:w==="glyphs"?"No matching glyphs":"No matching IPA characters",renderCharacter:w==="glyphs"?HW:void 0}),n&&f.jsx("div",{className:Nn.keyboardActions,children:f.jsx(Nt,{content:"Backspace - Remove last glyph",contentPin:"top",children:f.jsxs("button",{type:"button",className:Nn.backspaceButton,onClick:n,"aria-label":"Backspace - Remove last glyph",children:[f.jsx("i",{className:"bi-backspace","aria-hidden":"true"}),f.jsx("span",{className:Nn.backspaceLabel,children:"Backspace"})]})})})]})})]}):null}const qW="_glyphCanvasInput_qskl6_1",KW="_header_qskl6_11",ZW="_label_qskl6_17",QW="_actions_qskl6_22",JW="_count_qskl6_28",eG="_virtualIndicator_qskl6_34",tG="_emptyButton_qskl6_40",nG="_autoSpellPreview_qskl6_63",rG="_previewSuccess_qskl6_70",iG="_previewLabel_qskl6_77",sG="_previewGlyphs_qskl6_83",oG="_previewGlyph_qskl6_83",aG="_previewVirtual_qskl6_103",lG="_previewError_qskl6_111",cG="_virtualWarning_qskl6_117",gr={glyphCanvasInput:qW,header:KW,label:ZW,actions:QW,count:JW,virtualIndicator:eG,emptyButton:tG,autoSpellPreview:nG,previewSuccess:rG,previewLabel:iG,previewGlyphs:sG,previewGlyph:oG,previewVirtual:aG,previewError:lG,virtualWarning:cG},iN=y.forwardRef(function({registerSmartFieldProps:t,fieldState:n,availableGlyphs:r=[],defaultValue:i=[],direction:o="ltr",insertionStrategy:l,searchable:c=!0,canvasLayout:u,keyboardHeight:d="260px",label:h="Glyph Sequence",className:m,style:v,onSelectionChange:x,autoSpellPreview:w=null,onRequestAutoSpell:b,enableIpaMode:T=!1,initialVirtualGlyphs:S,initialGlyphOrder:R},k){const A=y.useId(),I=y.useRef(!0),j=y.useRef(n);j.current=n;const O=y.useRef(null),{initialIds:B,initialVirtualsFromGlyphOrder:W}=y.useMemo(()=>{if(!R||R.length===0)return{initialIds:Array.isArray(i)?i:i??[],initialVirtualsFromGlyphOrder:new Map};const ae=[],xe=new Map;for(const de of Ff(R))if(de.type==="grapheme"&&de.graphemeId)ae.push(de.graphemeId);else if(de.type==="ipa"&&de.ipaCharacter){const Ae=fu(de.ipaCharacter);xe.set(Ae.id,Ae),ae.push(Ae.id)}return{initialIds:ae,initialVirtualsFromGlyphOrder:xe}},[R,i]),[D,$]=y.useState(B),[Q,M]=y.useState(()=>{const ae=new Map;for(const[xe,de]of W)ae.set(xe,de);if(S)for(const[xe,de]of S)ae.set(xe,de);return ae}),G=y.useRef(D);G.current=D;const J=y.useRef(x);J.current=x;const[X,U]=y.useState(null),[V,H]=y.useState(!1),P=y.useMemo(()=>l??pW,[l]),Y=y.useMemo(()=>OA(r),[r]),re=y.useMemo(()=>{const ae=new Map(Y);if(S)for(const[xe,de]of S)ae.set(xe,{id:de.id,name:de.name,svg_data:de.svg_data,category:de.category,notes:de.notes});for(const[xe,de]of Q)ae.set(xe,{id:de.id,name:de.name,svg_data:de.svg_data,category:de.category,notes:de.notes});return ae},[Y,Q,S]),q=y.useMemo(()=>D.some(ae=>bf(ae)||Q.has(ae)||S?.has(ae)),[D,Q,S]),oe=y.useMemo(()=>r.map(eE),[r]),ie=y.useMemo(()=>({direction:o,...u}),[o,u]),ve=y.useCallback(()=>D.map(ae=>{const xe=Q.get(ae)||S?.get(ae)||W.get(ae);return xe&&xe.ipaCharacter?xe.ipaCharacter:V1(ae)}),[D,Q,S,W]),be=y.useRef(ve);be.current=ve,y.useImperativeHandle(t.ref,()=>({get value(){return G.current},get glyphOrder(){return be.current()},resetCanvasView:()=>O.current?.resetView(),fitCanvasToView:()=>O.current?.fitToView(),openKeyboard:()=>H(!0),closeKeyboard:()=>H(!1),clear:()=>{const ae=P.clear();$(ae.selection),U(ae.cursor),M(new Map)},setValue:(ae,xe)=>{$(Array.isArray(ae)?ae:[]),xe?.doValidation!==!1&&(j.current.isTouched.setIsTouched(!0),j.current.isChanged.setIsChanged(!0),j.current.isEmpty.setIsEmpty((ae??[]).length===0))},setGlyphOrder:ae=>{const xe=[],de=new Map;for(const Ae of Ff(ae))if(Ae.type==="grapheme"&&Ae.graphemeId)xe.push(Ae.graphemeId);else if(Ae.type==="ipa"&&Ae.ipaCharacter){const Pe=fu(Ae.ipaCharacter);de.set(Pe.id,Pe),xe.push(Pe.id)}$(xe),M(Ae=>{const Pe=new Map(Ae);for(const[kt,Ct]of de)Pe.set(kt,Ct);return Pe})}}),[P]),y.useEffect(()=>{if(I.current){I.current=!1;return}j.current.isTouched.setIsTouched(!0),j.current.isChanged.setIsChanged(!0),j.current.isEmpty.setIsEmpty(D.length===0),j.current.isInputValid.setIsInputValid(!0);const ae=be.current();try{const de=D.some(Ae=>bf(Ae));J.current?.(D.slice(),de,ae)}catch(de){console.error("onSelectionChange threw",de)}const xe=document.querySelector(`input[name="${t.name}"]`);xe&&(xe.value=My(ae))},[D,t.name]);const ke=y.useCallback(ae=>{bf(ae.id)&&ae.svg_data&&M(de=>{const Ae=new Map(de);return Ae.set(ae.id,{id:ae.id,ipaCharacter:ae.name??"",name:ae.name??"",svg_data:ae.svg_data??"",category:ae.category??"IPA Fallback",notes:ae.notes??null,source:"virtual-ipa"}),Ae});const xe=P.insert(D,ae.id,X);$(xe.selection),U(xe.cursor)},[P,D,X]),Ee=y.useCallback(()=>{const ae=P.remove(D,X);$(ae.selection),U(ae.cursor)},[P,D,X]),Me=y.useCallback(()=>{const ae=P.clear();$(ae.selection),U(ae.cursor),M(new Map)},[P]),me=y.useCallback(()=>{if(!w?.success||!w.spelling)return;const ae=w.spelling.map(xe=>xe.grapheme_id);w.hasVirtualGlyphs&&M(xe=>{const de=new Map(xe);for(const Ae of w.spelling)if(Ae.isVirtual&&Ae.ipaCharacter){const Pe=fu(Ae.ipaCharacter);de.set(Ae.grapheme_id,Pe)}return de}),$(ae),U(null)},[w]),ge=y.useCallback(()=>{H(!0)},[]),Le=y.useCallback(()=>{H(!1)},[]);return f.jsxs("div",{className:Z(gr.glyphCanvasInput,m),style:v,id:`${A}-container`,children:[f.jsxs("div",{className:gr.header,children:[f.jsx("label",{className:gr.label,htmlFor:`${A}-canvas`,children:h}),f.jsxs("div",{className:gr.actions,children:[f.jsxs("span",{className:gr.count,children:[D.length," glyph",D.length!==1?"s":"",q&&f.jsx("span",{className:gr.virtualIndicator,children:" (includes IPA)"})]}),D.length>0&&f.jsx($e,{iconName:"trash",onClick:Me,"aria-label":"Clear all glyphs",themeType:"basic",iconSize:"1rem",iconColor:"var(--status-bad)"}),b&&f.jsx($e,{iconName:"bolt",onClick:b,"aria-label":"Request auto-spell preview",themeType:"basic",iconSize:"1.25rem"}),f.jsx($e,{iconName:"keyboard",onClick:ge,"aria-label":"Open glyph keyboard",themeType:"basic",iconSize:"1.25rem"})]})]}),w&&f.jsx("div",{className:gr.autoSpellPreview,role:"status","aria-live":"polite",children:w.success?f.jsxs("div",{className:gr.previewSuccess,children:[f.jsxs("span",{className:gr.previewLabel,children:["Auto-spell ready (",w.spelling.length," glyphs",w.hasVirtualGlyphs&&", includes IPA fallbacks","):"]}),f.jsx("div",{className:gr.previewGlyphs,children:w.spelling.map((ae,xe)=>{const de=Y.get(ae.grapheme_id),Ae=ae.isVirtual?ae.ipaCharacter:de?.name??`#${ae.grapheme_id}`,Pe=ae.isVirtual?`IPA: ${ae.ipaCharacter}`:de?.name??`Grapheme #${ae.grapheme_id}`;return f.jsx("span",{className:Z(gr.previewGlyph,{[gr.previewVirtual]:ae.isVirtual}),title:Pe,children:Ae},`${ae.grapheme_id}-${xe}`)})}),f.jsx($e,{iconName:"check",onClick:me,"aria-label":"Apply auto-spell",themeType:"basic",iconSize:"1rem",iconColor:"var(--status-good, green)",children:"Apply"})]}):f.jsx("div",{className:gr.previewError,children:w.error??"Auto-spell failed"})}),q&&f.jsxs("div",{className:gr.virtualWarning,role:"status",children:[f.jsx("i",{className:"bi-info-circle","aria-hidden":"true"}),f.jsx("span",{children:"IPA characters (dashed borders) will be saved as part of the spelling. You can optionally create graphemes for them later."})]}),f.jsx(TW,{ref:O,selectedGlyphIds:D,glyphMap:re,layout:ie,showControls:D.length>0,minHeight:"120px",emptyStateContent:f.jsx("button",{type:"button",className:gr.emptyButton,onClick:ge,children:"Click here or the keyboard button to add glyphs"})}),f.jsx(XW,{availableGlyphs:oe,onSelect:ke,onRemove:Ee,onClear:Me,isOpen:V,onClose:Le,searchable:c,height:d,enableIpaMode:T}),f.jsx("input",{type:"hidden",name:t.name,value:JSON.stringify(D)})]})});iN.displayName="GlyphCanvasInput";function mf(e,t){const n=e.registerSmartFieldProps.ref?.current;if(!n)return!1;n.value=t;const r=t.trim()==="";if(e.fieldState.isEmpty.setIsEmpty(r),e.fieldState.isTouched.setIsTouched(!0),e.fieldState.isChanged.setIsChanged(!0),e.utils.validatorFunction){const i=e.utils.validatorFunction(t);e.fieldState.warning.setWarning(i),e.fieldState.isInputValid.setIsInputValid(i===null)}return!0}function Jb(e){return e.registerSmartFieldProps.ref?.current?.value??""}function sN({registerField:e,mode:t,initialData:n,className:r,onSpellingChange:i,onGlyphOrderChange:o,onAncestorsChange:l}){const{api:c,data:u}=hn(),d=y.useRef(!1),h=u.graphemesComplete??[],m=u.lexiconComplete??[],[v,x]=y.useState(()=>n?.spelling?.map(oe=>oe.id)??[]),[w,b]=y.useState(()=>n?.glyph_order?z1(n.glyph_order):n?.spelling?.map(oe=>`grapheme-${oe.id}`)??[]),[T,S]=y.useState(()=>n?.ancestors?.map(oe=>({ancestorId:oe.ancestor.id,ancestryType:oe.ancestry_type}))??[]),[R,k]=y.useState(n?.is_native??!0),[A,I]=y.useState(n?.auto_spell??!0),[j,O]=y.useState(null),[B,W]=y.useState(new Map),D=y.useCallback((oe,ie,ve)=>{x(oe),ve&&b(ve)},[]);y.useEffect(()=>{i?.(v)},[v,i]),y.useEffect(()=>{o?.(w)},[w,o]),y.useEffect(()=>{l?.(T)},[T,l]);const $=e("pronunciation",{defaultValue:t==="edit"&&n?.pronunciation?n.pronunciation:void 0}),Q=e("meaning",{defaultValue:t==="edit"&&n?.meaning?n.meaning:void 0}),M=e("partOfSpeech",{defaultValue:t==="edit"&&n?.part_of_speech?n.part_of_speech:void 0}),G=e("notes",{defaultValue:t==="edit"&&n?.notes?n.notes:void 0}),J=e("spelling",{defaultValue:v}),X=e("ancestry",{defaultValue:T});y.useEffect(()=>{t==="edit"&&n&&!d.current&&(d.current=!0,setTimeout(()=>{n.pronunciation&&mf($,n.pronunciation),n.meaning&&mf(Q,n.meaning),n.part_of_speech&&mf(M,n.part_of_speech),n.notes&&mf(G,n.notes)},0))},[t,n,$,Q,M,G]);const U=y.useCallback(()=>{const oe=Jb($);if(!oe.trim()){O({success:!1,spelling:[],segments:[],unmatchedParts:[],error:"Enter a pronunciation first",hasVirtualGlyphs:!1}),W(new Map);return}const ie=c.lexicon.previewAutoSpelling(oe);if(ie.success&&ie.data)if(O(ie.data),ie.data.hasVirtualGlyphs){const ve=WA(ie.data);W(ve)}else W(new Map);else O({success:!1,spelling:[],segments:[],unmatchedParts:[],error:ie.error?.message??"Auto-spell failed",hasVirtualGlyphs:!1}),W(new Map)},[$,c]),V=y.useCallback((oe,ie)=>{const ve=c.lexicon.wouldCreateCycle(oe,ie);return ve.success?ve.data??!1:!1},[c]),[H,P]=y.useState([]),[Y,re]=y.useState(null);y.useEffect(()=>{if(!n?.id)return;const oe=c.lexicon.getAllDescendantIds(n.id);oe.success&&oe.data&&P(oe.data);const ie=c.lexicon.getAncestryTree(n.id);ie.success&&ie.data&&re(ie.data)},[n?.id,c]);const q=y.useMemo(()=>{const oe=T.map(ie=>ie.ancestorId);return n?.id&&(oe.push(n.id),H.length>0&&oe.push(...H)),oe},[T,n?.id,H]);return y.useEffect(()=>{if(!ve())return;const oe=[];let ie=!1;for(const be of T){if(new Set(Y?.ancestors?.map(Me=>Me.entry.id)??[]).has(be.ancestorId))continue;const Ee=c.lexicon.getAncestryTree(be.ancestorId);Ee.success&&Ee.data&&(oe.push({...Ee.data,ancestry_type:be.ancestryType}),ie=!0)}if(!ie)return;re(be=>({entry:be?.entry??{id:n?.id??-1,lemma:Jb($)||"New Word",is_native:!0,auto_spell:!1,meaning:null,part_of_speech:null,notes:null,pronunciation:null,glyph_order:"[]",needs_attention:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},ancestors:[...be?.ancestors??[],...oe]}));function ve(){const be=new Set(Y?.ancestors?.map(ke=>ke.entry.id)??[]);return T.some(ke=>!be.has(ke.ancestorId))}},[T,Y,c,n,$]),f.jsxs("div",{className:Z(qn.formFields,r),children:[f.jsxs("div",{className:qn.section,children:[f.jsxs("div",{className:qn.section,children:[f.jsx("h3",{className:qn.sectionHeader,children:"Spelling"}),f.jsx(iN,{...J,availableGlyphs:h,defaultValue:v,initialGlyphOrder:w,onSelectionChange:D,autoSpellPreview:A?j:null,onRequestAutoSpell:A?U:void 0,enableIpaMode:!0,initialVirtualGlyphs:B}),f.jsx("input",{type:"hidden",name:"isNative",value:R.toString()}),f.jsx("input",{type:"hidden",name:"autoSpell",value:A.toString()})]}),f.jsx("h3",{className:qn.sectionHeader,children:"Basic Information"}),f.jsxs("div",{className:Z(pe.flexCol,pe.flexGapM),children:[f.jsx(Nt,{content:"IPA pronunciation (optional for external words)",children:f.jsx(Kv,{displayName:"Pronunciation",characters:Yu,...$})}),f.jsx(Nt,{content:"Definition or gloss",children:f.jsx(ks,{displayName:"Meaning",asInput:!0,...Q})}),f.jsx(Nt,{content:"Part of speech (e.g., noun, verb, adjective)",children:f.jsx(ks,{displayName:"Part of Speech",asInput:!0,...M})}),f.jsx(Nt,{content:"Additional notes, usage examples, or comments",children:f.jsx(ks,{displayName:"Notes",asInput:!1,...G})})]})]}),f.jsxs("div",{className:qn.section,children:[f.jsx("h3",{className:qn.sectionHeader,children:"Options"}),f.jsxs("div",{className:qn.checkboxRow,children:[f.jsxs("label",{className:qn.checkboxLabel,children:[f.jsx("input",{type:"checkbox",checked:R,onChange:oe=>k(oe.target.checked)}),f.jsx("span",{children:"Native Word"})]}),f.jsx(Nt,{content:"Check if this word is native to the conlang. External/borrowed words may not have pronunciation.",children:f.jsx("span",{className:qn.helpIcon,children:"?"})})]}),f.jsxs("div",{className:qn.checkboxRow,children:[f.jsxs("label",{className:Z(qn.checkboxLabel,{[qn.disabled]:!R}),children:[f.jsx("input",{type:"checkbox",checked:A&&R,onChange:oe=>I(oe.target.checked),disabled:!R}),f.jsx("span",{children:"Auto-Spell"})]}),f.jsx(Nt,{content:"Automatically generate spelling from pronunciation using grapheme mappings.",children:f.jsx("span",{className:qn.helpIcon,children:"?"})})]}),!R&&f.jsx("div",{className:qn.externalNote,children:"External word: pronunciation is optional and auto-spell is disabled."})]}),f.jsxs("div",{className:qn.section,children:[f.jsx("h3",{className:qn.sectionHeader,children:"Etymology"}),f.jsx(rN,{...X,currentLexiconId:n?.id,currentLemma:n?.lemma??"New Word",availableLexicon:m,excludeIds:q,checkCycle:n?.id?V:void 0,ancestryTree:Y,defaultValue:T,onChange:S})]})]})}const uG="_createPage_4ys8k_1",dG="_header_4ys8k_6",fG="_title_4ys8k_13",pG="_formContainer_4ys8k_19",hG="_actions_4ys8k_25",mG="_loading_4ys8k_34",gG="_error_4ys8k_40",Ia={createPage:uG,header:dG,title:fG,formContainer:pG,actions:hG,loading:mG,error:gG};function yG(){const e=Qn(),{api:t,refresh:n,isLoading:r,error:i}=hn(),{registerField:o,registerForm:l,isFormValid:c}=Za({mode:"onChange"}),u=y.useRef(null),[d,h]=y.useState([]),[m,v]=y.useState([]),[x,w]=y.useState(!0),[b,T]=y.useState(!0),S=y.useCallback(async A=>{try{const I=A.pronunciation,j=A.meaning,O=A.partOfSpeech,B=A.notes,W={pronunciation:I?.trim()||void 0,is_native:x,auto_spell:b,meaning:j?.trim()||void 0,part_of_speech:O?.trim()||void 0,notes:B?.trim()||void 0,glyph_order:d,ancestry:m.map(($,Q)=>({ancestor_id:$.ancestorId,position:Q,ancestry_type:$.ancestryType}))},D=t.lexicon.create(W);if(!D.success)throw new Error(D.error?.message||"Failed to create lexicon entry");return n(),e(`/lexicon/db/${D.data?.id}`),{success:!0,data:D.data}}catch(I){return console.error("Failed to create lexicon entry:",I),{success:!1,error:I instanceof Error?I.message:"Creation failed"}}},[t,n,e,d,m,x,b]),R=l("createLexiconForm",{submitFunc:S}),k=y.useCallback(A=>{const{name:I,checked:j}=A.target;I==="isNativeCheckbox"?(w(j),j||T(!1)):I==="autoSpellCheckbox"&&T(j)},[]);return r?f.jsx("div",{className:Ia.loading,children:"Loading..."}):i?f.jsxs("div",{className:Ia.error,children:["Error: ",i.message]}):f.jsxs("div",{className:Z(Ia.createPage,pe.flexColumn,Ot.parentSize),children:[f.jsxs("div",{className:Ia.header,children:[f.jsx($e,{as:jt,to:"/lexicon",iconName:"arrow-left","aria-label":"Back to Lexicon"}),f.jsx("h2",{className:Ia.title,children:"Create New Word"})]}),f.jsxs(da,{ref:u,...R,registerField:o,isFormValid:c,className:Ia.formContainer,children:[f.jsx(sN,{registerField:o,mode:"create",onGlyphOrderChange:h,onAncestorsChange:v}),f.jsxs("div",{style:{display:"none"},children:[f.jsx("input",{type:"checkbox",name:"isNativeCheckbox",checked:x,onChange:k}),f.jsx("input",{type:"checkbox",name:"autoSpellCheckbox",checked:b,onChange:k})]}),f.jsxs("div",{className:Ia.actions,children:[f.jsx(gt,{as:jt,to:"/lexicon",className:ht.secondary,children:"Cancel"}),f.jsx(gt,{type:"submit",className:ht.primary,disabled:!c,children:"Create Word"})]})]})]})}const vG="_treeContainer_1k648_1",xG="_tree_1k648_1",_G="_emptyTree_1k648_14",wG="_nodeContainer_1k648_22",bG="_ancestorsBranch_1k648_29",EG="_ancestorWrapper_1k648_36",SG="_connector_1k648_43",CG="_node_1k648_22",TG="_root_1k648_63",NG="_current_1k648_69",kG="_clickable_1k648_74",RG="_expandButton_1k648_90",AG="_ancestryBadge_1k648_94",jG="_lemma_1k648_103",IG="_pronunciation_1k648_108",PG="_moreIndicator_1k648_114",LG="_legend_1k648_123",OG="_legendTitle_1k648_133",MG="_legendItems_1k648_138",DG="_legendItem_1k648_138",FG="_legendColor_1k648_151",St={treeContainer:vG,tree:xG,emptyTree:_G,nodeContainer:wG,ancestorsBranch:bG,ancestorWrapper:EG,connector:SG,node:CG,root:TG,current:NG,clickable:kG,expandButton:RG,ancestryBadge:AG,lemma:jG,pronunciation:IG,moreIndicator:PG,legend:LG,legendTitle:OG,legendItems:MG,legendItem:DG,legendColor:FG},e1={derived:"var(--status-info)",borrowed:"var(--status-warning)",compound:"var(--status-good)",blend:"var(--color-primary)",calque:"var(--status-neutral, #888)",other:"var(--text-secondary)"};function oN({node:e,depth:t,maxDepth:n,isRoot:r=!1,onNodeClick:i,currentWordId:o}){const[l,c]=y.useState(t<2),u=e.ancestors&&e.ancestors.length>0,d=u&&t<n,h=e.entry.id===o,m=y.useCallback(b=>{b.stopPropagation(),c(T=>!T)},[]),v=y.useCallback(()=>{i&&!h&&i(e.entry.id)},[i,e.entry.id,h]),x=y.useCallback(b=>{(b.key==="Enter"||b.key===" ")&&i&&!h&&(b.preventDefault(),i(e.entry.id))},[i,e.entry.id,h]),w=e.ancestry_type?e1[e.ancestry_type]:"var(--border-primary)";return f.jsxs("div",{className:St.nodeContainer,children:[d&&l&&f.jsx("div",{className:St.ancestorsBranch,children:e.ancestors.map(b=>f.jsxs("div",{className:St.ancestorWrapper,children:[f.jsx(oN,{node:b,depth:t+1,maxDepth:n,onNodeClick:i,currentWordId:o}),f.jsx("div",{className:St.connector,style:{borderColor:b.ancestry_type?e1[b.ancestry_type]:"var(--border-primary)"}})]},b.entry.id))}),f.jsxs("div",{className:Z(St.node,{[St.root]:r,[St.current]:h,[St.clickable]:i&&!h}),onClick:v,onKeyDown:x,role:i&&!h?"button":void 0,tabIndex:i&&!h?0:void 0,children:[d&&f.jsx($e,{iconName:l?"chevron-up":"chevron-down",onClick:m,iconSize:"0.75rem",themeType:"basic",className:St.expandButton,"aria-label":l?"Collapse":"Expand"}),!r&&e.ancestry_type&&f.jsx("span",{className:St.ancestryBadge,style:{backgroundColor:w},children:e.ancestry_type}),f.jsx("span",{className:St.lemma,children:e.entry.pronunciation??e.entry.lemma}),e.entry.pronunciation&&f.jsxs("span",{className:St.pronunciation,children:["/",e.entry.pronunciation,"/"]}),u&&t>=n&&f.jsxs("span",{className:St.moreIndicator,children:["+",e.ancestors.length]})]})]})}function $G({rootNode:e,direction:t="ancestors",maxDepth:n=3,onNodeClick:r,currentWordId:i}){return!(e.ancestors&&e.ancestors.length>0)&&t==="ancestors"?f.jsx("div",{className:St.emptyTree,children:f.jsx("p",{children:"No etymology data available for this word."})}):f.jsxs("div",{className:St.treeContainer,children:[f.jsx("div",{className:St.tree,children:f.jsx(oN,{node:e,depth:0,maxDepth:n,isRoot:!0,onNodeClick:r,currentWordId:i})}),f.jsxs("div",{className:St.legend,children:[f.jsx("span",{className:St.legendTitle,children:"Ancestry Types:"}),f.jsxs("div",{className:St.legendItems,children:[f.jsxs("span",{className:St.legendItem,children:[f.jsx("span",{className:St.legendColor,style:{backgroundColor:"var(--status-info)"}}),"derived"]}),f.jsxs("span",{className:St.legendItem,children:[f.jsx("span",{className:St.legendColor,style:{backgroundColor:"var(--status-warning)"}}),"borrowed"]}),f.jsxs("span",{className:St.legendItem,children:[f.jsx("span",{className:St.legendColor,style:{backgroundColor:"var(--status-good)"}}),"compound"]}),f.jsxs("span",{className:St.legendItem,children:[f.jsx("span",{className:St.legendColor,style:{backgroundColor:"var(--color-primary)"}}),"blend"]}),f.jsxs("span",{className:St.legendItem,children:[f.jsx("span",{className:St.legendColor,style:{backgroundColor:"var(--status-neutral, #888)"}}),"calque"]}),f.jsxs("span",{className:St.legendItem,children:[f.jsx("span",{className:St.legendColor,style:{backgroundColor:"var(--text-secondary)"}}),"other"]})]})]})]})}const BG="_viewPage_gpefp_1",VG="_header_gpefp_6",UG="_title_gpefp_13",zG="_headerActions_gpefp_20",WG="_content_gpefp_25",GG="_formContainer_gpefp_33",HG="_editActions_gpefp_39",YG="_etymologySection_gpefp_48",XG="_descendantsSection_gpefp_49",qG="_sectionTitle_gpefp_56",KG="_descendantsList_gpefp_62",ZG="_descendantItem_gpefp_68",QG="_descendantType_gpefp_83",JG="_descendantLemma_gpefp_90",eH="_loading_gpefp_95",tH="_error_gpefp_101",nH="_notFound_gpefp_102",rH="_deleteModal_gpefp_114",iH="_deleteWarning_gpefp_122",sH="_deleteActions_gpefp_131",rn={viewPage:BG,header:VG,title:UG,headerActions:zG,content:WG,formContainer:GG,editActions:HG,etymologySection:YG,descendantsSection:XG,sectionTitle:qG,descendantsList:KG,descendantItem:ZG,descendantType:QG,descendantLemma:JG,loading:eH,error:tH,notFound:nH,deleteModal:rH,deleteWarning:iH,deleteActions:sH};function oH(){const{id:e}=Ry(),t=Qn(),{api:n,data:r,refresh:i,isLoading:o,error:l}=hn(),[c,u]=y.useState(!1),[d,h]=y.useState(!1),[m,v]=y.useState(!1),[x,w]=y.useState(null),{registerField:b,registerForm:T,isFormValid:S}=Za({mode:"onChange"}),R=y.useRef(null),[k,A]=y.useState([]),[I,j]=y.useState([]),O=e?parseInt(e,10):null,B=y.useMemo(()=>new Map((r.graphemesComplete??[]).map(P=>[P.id,P])),[r.graphemesComplete]),W=O&&!isNaN(O)?n.lexicon.getByIdComplete(O):null,D=W?.success?W.data??null:null,$=O&&!isNaN(O)?n.lexicon.getAncestryTree(O,3):null,Q=$?.success?$.data??null:null,M=y.useCallback(()=>{D&&j(D.ancestors.map(P=>({ancestorId:P.ancestor.id,ancestryType:P.ancestry_type}))),u(!0)},[D]),G=y.useCallback(()=>{u(!1)},[]),J=y.useCallback(async P=>{if(!O)return{success:!1,error:"No lexicon ID"};try{const Y=P.pronunciation,re=P.meaning,q=P.partOfSpeech,oe=P.notes,ie={lemma:(Y?.trim()||D?.lemma||"").trim()||void 0,pronunciation:Y?.trim()||void 0,meaning:re?.trim()||null,part_of_speech:q?.trim()||null,notes:oe?.trim()||null,glyph_order:k},ve=n.lexicon.update(O,ie);if(!ve.success)throw new Error(ve.error?.message||"Failed to update");const be=n.lexicon.updateAncestry(O,{ancestry:I.map((ke,Ee)=>({ancestor_id:ke.ancestorId,position:Ee,ancestry_type:ke.ancestryType}))});return be.success||console.warn("Failed to update ancestry:",be.error?.message),i(),u(!1),{success:!0}}catch(Y){return console.error("Failed to update lexicon:",Y),{success:!1,error:Y instanceof Error?Y.message:"Update failed"}}},[n,O,k,I,i]),X=T("editLexiconForm",{submitFunc:J}),U=y.useCallback(()=>{if(D){const P=D.descendants?.length??0;if(P>0){const Y=D.descendants.slice(0,3).map(q=>q.descendant.pronunciation??q.descendant.lemma).join(", "),re=P>3?` and ${P-3} more`:"";w(`This word has ${P} descendant${P!==1?"s":""}: ${Y}${re}. Deleting it will remove etymology links from those words.`)}else w(null)}h(!0)},[D]),V=y.useCallback(async()=>{if(O){v(!0);try{const P=n.lexicon.delete(O);P.success?(i(),t("/lexicon")):console.error("Delete failed:",P.error?.message)}catch(P){console.error("Delete failed:",P)}finally{v(!1),h(!1)}}},[n,O,i,t]),H=y.useCallback(P=>{t(`/lexicon/db/${P}`)},[t]);return o?f.jsx("div",{className:rn.loading,children:"Loading..."}):l?f.jsxs("div",{className:rn.error,children:["Error: ",l.message]}):!O||isNaN(O)?f.jsxs("div",{className:rn.notFound,children:[f.jsx("p",{children:"Invalid lexicon ID"}),f.jsx(jt,{to:"/lexicon",children:"Back to Lexicon"})]}):D?f.jsxs("div",{className:Z(rn.viewPage,pe.flexColumn,Ot.parentSize),children:[f.jsxs("div",{className:rn.header,children:[f.jsx($e,{as:jt,to:"/lexicon",iconName:"arrow-left","aria-label":"Back to Lexicon"}),f.jsx("h2",{className:rn.title,children:D.pronunciation??D.lemma}),f.jsx("div",{className:rn.headerActions,children:!c&&f.jsxs(f.Fragment,{children:[f.jsx($e,{iconName:"pencil",onClick:M,"aria-label":"Edit",children:"Edit"}),f.jsx($e,{iconName:"trash",iconColor:"var(--status-bad)",onClick:U,"aria-label":"Delete",children:"Delete"})]})})]}),f.jsx("div",{className:rn.content,children:c?f.jsxs(da,{ref:R,...X,registerField:b,isFormValid:S,className:rn.formContainer,children:[f.jsx(sN,{registerField:b,mode:"edit",initialData:D,onGlyphOrderChange:A,onAncestorsChange:j}),f.jsxs("div",{className:rn.editActions,children:[f.jsx(gt,{type:"button",onClick:G,className:ht.secondary,children:"Cancel"}),f.jsx(gt,{type:"submit",className:ht.primary,disabled:!S,children:"Save Changes"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("section",{className:rn.displaySection,children:f.jsx(UT,{lexiconData:D,graphemeMap:B,showAncestry:!1})}),Q&&f.jsxs("section",{className:rn.etymologySection,children:[f.jsx("h3",{className:rn.sectionTitle,children:"Etymology Tree"}),f.jsx($G,{rootNode:Q,direction:"ancestors",maxDepth:3,onNodeClick:H,currentWordId:O})]}),D.descendants&&D.descendants.length>0&&f.jsxs("section",{className:rn.descendantsSection,children:[f.jsxs("h3",{className:rn.sectionTitle,children:["Descendants (",D.descendants.length,")"]}),f.jsx("div",{className:rn.descendantsList,children:D.descendants.map(P=>f.jsxs(jt,{to:`/lexicon/db/${P.descendant.id}`,className:rn.descendantItem,children:[f.jsx("span",{className:rn.descendantType,children:P.ancestry_type}),f.jsx("span",{className:rn.descendantLemma,children:P.descendant.pronunciation??P.descendant.lemma})]},P.descendant.id))})]})]})}),f.jsx(cr,{isOpen:d,setIsOpen:h,onClose:()=>h(!1),allowClose:!m,children:f.jsxs("div",{className:rn.deleteModal,children:[f.jsx("h2",{children:"Delete Word"}),f.jsxs("p",{children:["Are you sure you want to delete ",f.jsx("strong",{children:D.lemma}),"?"]}),x&&f.jsxs("div",{className:rn.deleteWarning,children:[f.jsx("strong",{children:"Warning:"})," ",x]}),f.jsxs("div",{className:rn.deleteActions,children:[f.jsx(gt,{onClick:()=>h(!1),disabled:m,children:"Cancel"}),f.jsx(gt,{onClick:V,disabled:m,style:{background:"var(--danger)",color:"white"},children:m?"Deleting...":"Delete Word"})]})]})})]}):f.jsxs("div",{className:rn.notFound,children:[f.jsx("p",{children:"Lexicon entry not found"}),f.jsx(jt,{to:"/lexicon",children:"Back to Lexicon"})]})}function aH(){return f.jsx("div",{className:Z(pe.flexRow,pe.flexGapM,Ot.paddingM),style:{marginBottom:"1rem"},children:f.jsxs(Pu,{children:[f.jsx(An,{index:!0,element:f.jsx(vU,{})}),f.jsx(An,{path:"create",element:f.jsx(yG,{})}),f.jsx(An,{path:"db/:id",element:f.jsx(oH,{})})]})})}const lH="_modalContent_e07f2_1",cH="_saveGraphemeButton_e07f2_11",uH="_formContainer_e07f2_17",dH="_errorMessage_e07f2_143",Xo={modalContent:lH,saveGraphemeButton:cH,formContainer:uH,errorMessage:dH};function t1(e){return e==null?!0:typeof e=="string"?e.trim()==="":!1}function aN(e){const t={};return e.required&&(t.required=e.required.value),e.minLength&&(t.minLength=e.minLength.value),e.maxLength&&(t.maxLength=e.maxLength.value),e.length&&(t.minLength=e.length.value,t.maxLength=e.length.value),e.pattern&&(t.pattern=e.pattern.value.source),{validator:(r,i="Field")=>{if(e.required?.value&&t1(r))return{message:e.required.message||`${i} is required`,type:"error"};if(t1(r))return null;if(e.minLength&&r.length<e.minLength.value)return{message:e.minLength.message||`${i} must be at least ${e.minLength.value} characters`,type:"error"};if(e.maxLength&&r.length>e.maxLength.value)return{message:e.maxLength.message||`${i} must be no more than ${e.maxLength.value} characters`,type:"error"};if(e.length&&r.length!==e.length.value)return{message:e.length.message||`${i} must be exactly ${e.length.value} characters`,type:"error"};if(e.pattern&&!e.pattern.value.test(r))return{message:e.pattern.message||`${i} format is invalid`,type:"error"};if(e.equals&&r!==e.equals.value)return{message:e.equals.message||`${i} must equal ${e.equals.value}`,type:"error"};if(e.oneOf&&!e.oneOf.value.includes(r))return{message:e.oneOf.message||`${i} must be one of: ${e.oneOf.value.join(", ")}`,type:"error"};if(e.validate)for(const[o,l]of Object.entries(e.validate))try{const c=l.validator(r);if(c instanceof Promise){console.warn(`Skipping async validator '${o}' for field '${i}'. Synchronous validation cannot handle async validators. Please use a synchronous validator or handle async validation separately.`);continue}if(c)return{message:c||`${i} failed custom validation: ${o}`,type:"error"}}catch(c){return console.error("Error in custom validation:",o,"for field:",i,c),{message:`${i} failed custom validation: ${o}`,type:"error"}}return null},htmlAttrs:t,options:e}}const fH="_pronunciationTableInput_j4sz8_2",pH="_tableContainer_j4sz8_11",hH="_pronunciationTable_j4sz8_2",mH="_textInput_j4sz8_65",gH="_checkbox_j4sz8_85",Il={pronunciationTableInput:fH,tableContainer:pH,pronunciationTable:hH,textInput:mH,checkbox:gH},yH={addPronunciation:"Add Pronunciation",removePronunciation:"Remove",pronunciationLabel:"Pronunciation",useInAutoSpellingLabel:"Use in auto-spelling"},lN=y.forwardRef(({registerSmartFieldProps:e,fieldState:t,TranslationMaps:n={},defaultValue:r=[],maxRows:i,requirePronunciation:o=!1,className:l},c)=>{const u=cE(n,yH),d=y.useId(),h=y.useRef(!0),m=y.useRef(t);m.current=t;const[v,x]=y.useState(()=>(r?.length>0?r:[{pronunciation:"",useInAutoSpelling:!0}]).map((b,T)=>({id:`${d}-row-${T}`,pronunciation:b.pronunciation||"",useInAutoSpelling:b.useInAutoSpelling||!1})));return y.useEffect(()=>{if(h.current){h.current=!1;return}m.current.isTouched.setIsTouched(!0),m.current.isChanged.setIsChanged(!0)},[v]),f.jsx(vH,{rows:v,setRows:x,fieldStateRef:m,registerSmartFieldProps:e,t:u,maxRows:i,requirePronunciation:o,className:l,idPrefix:d})}),vH=({rows:e,setRows:t,fieldStateRef:n,registerSmartFieldProps:r,t:i,maxRows:o,requirePronunciation:l,className:c,idPrefix:u})=>{const{registerField:d,registerForm:h,unregisterField:m,isFormValid:v}=Za({}),x=y.useRef(null),w=h("pronunciationTableInput",{});y.useImperativeHandle(r.ref,()=>({get value(){const R=x.current?.value||{};return e.map(k=>({pronunciation:R[`pronunciation-${k.id}`]||"",useInAutoSpelling:k.useInAutoSpelling}))}}),[e]),y.useEffect(()=>{const R=x.current?.value||{},k=e.every(A=>{const I=R[`pronunciation-${A.id}`];return!I||I.trim()===""});if(n.current.isEmpty.setIsEmpty(k),l){const A=e.every(I=>{const j=R[`pronunciation-${I.id}`];return j&&j.trim()!==""});n.current.isInputValid.setIsInputValid(A)}else n.current.isInputValid.setIsInputValid(!0)},[e,l,v,n]);const b=y.useCallback(()=>{if(o&&e.length>=o)return;const R={id:`${u}-row-${Date.now()}`,pronunciation:"",useInAutoSpelling:!0};t(k=>[...k,R])},[e.length,o,u,t]),T=y.useCallback(R=>{e.length<=1||(m(`pronunciation-${R}`),t(k=>k.filter(A=>A.id!==R)))},[e.length,m,t]),S=y.useCallback((R,k)=>{t(A=>A.map(I=>I.id===R?{...I,useInAutoSpelling:k}:I))},[t]);return f.jsx(da,{ref:x,as:"div",...w,registerField:d,unregisterField:m,isFormValid:v,className:Z(Il.pronunciationTableInput,c),children:f.jsx("div",{className:Il.tableContainer,children:f.jsxs("table",{className:Il.pronunciationTable,children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:i("pronunciationLabel")}),f.jsx("th",{children:i("useInAutoSpellingLabel")}),f.jsx("th",{children:f.jsx(Nt,{content:"Add a new pronunciation entry",children:f.jsx($e,{iconName:"plus-circle",onClick:b,title:i("addPronunciation"),className:Il.addButton,iconSize:"1.5em",iconColor:"var(--green)",themeType:"basic"})})})]})}),f.jsx("tbody",{children:e.map(R=>f.jsxs("tr",{children:[f.jsx("td",{children:f.jsx(Kv,{...d(`pronunciation-${R.id}`,{defaultValue:R.pronunciation}),characters:Yu,displayName:i("pronunciationLabel"),className:Il.textInput,showBackspaceButton:!0})}),f.jsx("td",{children:f.jsx("input",{type:"checkbox",checked:R.useInAutoSpelling,onChange:k=>S(R.id,k.target.checked),className:Il.checkbox})}),f.jsx("td",{children:f.jsx(Nt,{content:"Remove this row",children:f.jsx($e,{type:"button",onClick:()=>T(R.id),disabled:e.length===1,iconName:"trash3",iconSize:"1.5em",iconColor:"red"})})})]},R.id))})]})})})};lN.displayName="PronunciationTableInput";function n1(e,t,n,r=i=>i){return e*r(.5-t*(.5-n))}function xH(e){return[-e[0],-e[1]]}function Xi(e,t){return[e[0]+t[0],e[1]+t[1]]}function vi(e,t){return[e[0]-t[0],e[1]-t[1]]}function Yi(e,t){return[e[0]*t,e[1]*t]}function _H(e,t){return[e[0]/t,e[1]/t]}function Xc(e){return[e[1],-e[0]]}function r1(e,t){return e[0]*t[0]+e[1]*t[1]}function wH(e,t){return e[0]===t[0]&&e[1]===t[1]}function bH(e){return Math.hypot(e[0],e[1])}function EH(e){return e[0]*e[0]+e[1]*e[1]}function i1(e,t){return EH(vi(e,t))}function cN(e){return _H(e,bH(e))}function SH(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function qc(e,t,n){let r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],l=e[1]-t[1],c=o*i-l*r,u=o*r+l*i;return[c+t[0],u+t[1]]}function _y(e,t,n){return Xi(e,Yi(vi(t,e),n))}function s1(e,t,n){return Xi(e,Yi(t,n))}var{min:Pl,PI:CH}=Math,o1=.275,Kc=CH+1e-4;function TH(e,t={}){let{size:n=16,smoothing:r=.5,thinning:i=.5,simulatePressure:o=!0,easing:l=U=>U,start:c={},end:u={},last:d=!1}=t,{cap:h=!0,easing:m=U=>U*(2-U)}=c,{cap:v=!0,easing:x=U=>--U*U*U+1}=u;if(e.length===0||n<=0)return[];let w=e[e.length-1].runningLength,b=c.taper===!1?0:c.taper===!0?Math.max(n,w):c.taper,T=u.taper===!1?0:u.taper===!0?Math.max(n,w):u.taper,S=Math.pow(n*r,2),R=[],k=[],A=e.slice(0,10).reduce((U,V)=>{let H=V.pressure;if(o){let P=Pl(1,V.distance/n),Y=Pl(1,1-P);H=Pl(1,U+(Y-U)*(P*o1))}return(U+H)/2},e[0].pressure),I=n1(n,i,e[e.length-1].pressure,l),j,O=e[0].vector,B=e[0].point,W=B,D=B,$=W,Q=!1;for(let U=0;U<e.length;U++){let{pressure:V}=e[U],{point:H,vector:P,distance:Y,runningLength:re}=e[U];if(U<e.length-1&&w-re<3)continue;if(i){if(o){let Me=Pl(1,Y/n),me=Pl(1,1-Me);V=Pl(1,A+(me-A)*(Me*o1))}I=n1(n,i,V,l)}else I=n/2;j===void 0&&(j=I);let q=re<b?m(re/b):1,oe=w-re<T?x((w-re)/T):1;I=Math.max(.01,I*Math.min(q,oe));let ie=(U<e.length-1?e[U+1]:e[U]).vector,ve=U<e.length-1?r1(P,ie):1,be=r1(P,O)<0&&!Q,ke=ve!==null&&ve<0;if(be||ke){let Me=Yi(Xc(O),I);for(let me=1/13,ge=0;ge<=1;ge+=me)D=qc(vi(H,Me),H,Kc*ge),R.push(D),$=qc(Xi(H,Me),H,Kc*-ge),k.push($);B=D,W=$,ke&&(Q=!0);continue}if(Q=!1,U===e.length-1){let Me=Yi(Xc(P),I);R.push(vi(H,Me)),k.push(Xi(H,Me));continue}let Ee=Yi(Xc(_y(ie,P,ve)),I);D=vi(H,Ee),(U<=1||i1(B,D)>S)&&(R.push(D),B=D),$=Xi(H,Ee),(U<=1||i1(W,$)>S)&&(k.push($),W=$),A=V,O=P}let M=e[0].point.slice(0,2),G=e.length>1?e[e.length-1].point.slice(0,2):Xi(e[0].point,[1,1]),J=[],X=[];if(e.length===1){if(!(b||T)||d){let U=s1(M,cN(Xc(vi(M,G))),-(j||I)),V=[];for(let H=1/13,P=H;P<=1;P+=H)V.push(qc(U,M,Kc*2*P));return V}}else{if(!(b||T&&e.length===1))if(h)for(let V=1/13,H=V;H<=1;H+=V){let P=qc(k[0],M,Kc*H);J.push(P)}else{let V=vi(R[0],k[0]),H=Yi(V,.5),P=Yi(V,.51);J.push(vi(M,H),vi(M,P),Xi(M,P),Xi(M,H))}let U=Xc(xH(e[e.length-1].vector));if(T||b&&e.length===1)X.push(G);else if(v){let V=s1(G,U,I);for(let H=1/29,P=H;P<1;P+=H)X.push(qc(V,G,Kc*3*P))}else X.push(Xi(G,Yi(U,I)),Xi(G,Yi(U,I*.99)),vi(G,Yi(U,I*.99)),vi(G,Yi(U,I)))}return R.concat(X,k.reverse(),J)}function NH(e,t={}){var n;let{streamline:r=.5,size:i=16,last:o=!1}=t;if(e.length===0)return[];let l=.15+(1-r)*.85,c=Array.isArray(e[0])?e:e.map(({x,y:w,pressure:b=.5})=>[x,w,b]);if(c.length===2){let x=c[1];c=c.slice(0,-1);for(let w=1;w<5;w++)c.push(_y(c[0],x,w/4))}c.length===1&&(c=[...c,[...Xi(c[0],[1,1]),...c[0].slice(2)]]);let u=[{point:[c[0][0],c[0][1]],pressure:c[0][2]>=0?c[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],d=!1,h=0,m=u[0],v=c.length-1;for(let x=1;x<c.length;x++){let w=o&&x===v?c[x].slice(0,2):_y(m.point,c[x],l);if(wH(m.point,w))continue;let b=SH(w,m.point);if(h+=b,x<v&&!d){if(h<i)continue;d=!0}m={point:w,pressure:c[x][2]>=0?c[x][2]:.5,vector:cN(vi(m.point,w)),distance:b,runningLength:h},u.push(m)}return u[0].vector=((n=u[1])==null?void 0:n.vector)||[0,0],u}function kH(e,t={}){return TH(NH(e,t),t)}var gf=kH;function RH(e=[]){const[t,n]=y.useState({past:[],present:e,future:[]}),r=t.past.length>0,i=t.future.length>0,o=y.useCallback((h,m=!0)=>{n(v=>m?{past:[...v.past,v.present],present:h,future:[]}:{...v,present:h})},[]),l=y.useCallback(()=>{n(h=>{if(h.past.length===0)return h;const m=[...h.past],v=m.pop();return{past:m,present:v,future:[h.present,...h.future]}})},[]),c=y.useCallback(()=>{n(h=>{if(h.future.length===0)return h;const m=[...h.future],v=m.shift();return{past:[...h.past,h.present],present:v,future:m}})},[]),u=y.useCallback(()=>{n(h=>({past:[...h.past,h.present],present:[],future:[]}))},[]),d=y.useCallback(h=>{n({past:[],present:h,future:[]})},[]);return{elements:t.present,set:o,undo:l,redo:c,clear:u,reset:d,canUndo:r,canRedo:i}}function Ua(){return Math.random().toString(36).substring(2,11)}function yf(e){if(!e.length)return"";const t=e.reduce((n,[r,i],o,l)=>{const[c,u]=l[(o+1)%l.length];return n.push(r,i,(r+c)/2,(i+u)/2),n},["M",...e[0],"Q"]);return t.push("Z"),t.join(" ")}const uN=2,AH=1,jH=20,vf=e=>({size:e,thinning:.5,smoothing:.5,streamline:.5,easing:t=>t,start:{taper:0,cap:!0},end:{taper:0,cap:!0}});function a1(e){if(!e)return null;const t=e.match(/-?\d+\.?\d*/g);if(!t||t.length<2)return null;const n=[];for(let c=0;c<t.length-1;c+=2){const u=parseFloat(t[c]),d=parseFloat(t[c+1]);!isNaN(u)&&!isNaN(d)&&n.push({x:u,y:d})}if(n.length===0)return null;let r=1/0,i=1/0,o=-1/0,l=-1/0;for(const c of n)c.x<r&&(r=c.x),c.x>o&&(o=c.x),c.y<i&&(i=c.y),c.y>l&&(l=c.y);return{minX:r,minY:i,maxX:o,maxY:l}}function l1(e){if(!e)return[];const t=[],i=new DOMParser().parseFromString(e,"image/svg+xml").querySelector("svg");return i?(i.childNodes.forEach(o=>{if(o.nodeType!==Node.ELEMENT_NODE)return;const l=o;switch(l.tagName.toLowerCase()){case"path":{const c=l.getAttribute("d")||"",u=l.getAttribute("fill")||"var(--black)",d={id:Ua(),type:"pen",color:u,selected:!1,points:[],pathData:c,strokeWidth:uN};t.push(d);break}case"circle":{const c=parseFloat(l.getAttribute("cx")||"0"),u=parseFloat(l.getAttribute("cy")||"0"),d=parseFloat(l.getAttribute("r")||"4"),h=l.getAttribute("fill")||"var(--black)",m={id:Ua(),type:"dot",color:h,selected:!1,x:c,y:u,radius:d};t.push(m);break}case"rect":{const c=parseFloat(l.getAttribute("x")||"0"),u=parseFloat(l.getAttribute("y")||"0"),d=parseFloat(l.getAttribute("width")||"0"),h=parseFloat(l.getAttribute("height")||"0"),m=l.getAttribute("fill"),v=!!(m&&m!=="none"),x=v?m:l.getAttribute("stroke")||"var(--black)",w=parseFloat(l.getAttribute("stroke-width")||"2"),b={id:Ua(),type:"square",color:x,selected:!1,x:c,y:u,width:d,height:h,strokeWidth:w,fill:v};t.push(b);break}case"ellipse":{const c=parseFloat(l.getAttribute("cx")||"0"),u=parseFloat(l.getAttribute("cy")||"0"),d=parseFloat(l.getAttribute("rx")||"0"),h=parseFloat(l.getAttribute("ry")||"0"),m=l.getAttribute("fill"),v=!!(m&&m!=="none"),x=v?m:l.getAttribute("stroke")||"var(--black)",w=parseFloat(l.getAttribute("stroke-width")||"2"),b={id:Ua(),type:"circle",color:x,selected:!1,cx:c,cy:u,rx:d,ry:h,strokeWidth:w,fill:v};t.push(b);break}}}),t):[]}function IH(e={}){const{value:t,onChange:n}=e,r=RH(),[i,o]=y.useState("pen"),[l,c]=y.useState("var(--black)"),[u,d]=y.useState(!1),[h,m]=y.useState([]),[v,x]=y.useState(null),[w,b]=y.useState(null),[T,S]=y.useState(null),[R,k]=y.useState(null),[A,I]=y.useState(null),[j,O]=y.useState(uN),[B,W]=y.useState(!1),[D,$]=y.useState(null),[Q,M]=y.useState(!1),G=y.useRef(null),J=y.useRef(!1);y.useEffect(()=>{if(!J.current&&t){const me=l1(t);r.reset(me),J.current=!0}},[t,r]);const X=y.useCallback(()=>`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="300" height="300">
  ${r.elements.map(ge=>{switch(ge.type){case"pen":return`<path d="${ge.pathData}" fill="${ge.color}" />`;case"dot":return`<circle cx="${ge.x}" cy="${ge.y}" r="${ge.radius}" fill="${ge.color}" />`;case"square":return ge.fill?`<rect x="${ge.x}" y="${ge.y}" width="${ge.width}" height="${ge.height}" fill="${ge.color}" />`:`<rect x="${ge.x}" y="${ge.y}" width="${ge.width}" height="${ge.height}" fill="none" stroke="${ge.color}" stroke-width="${ge.strokeWidth}" />`;case"circle":return ge.fill?`<ellipse cx="${ge.cx}" cy="${ge.cy}" rx="${ge.rx}" ry="${ge.ry}" fill="${ge.color}" />`:`<ellipse cx="${ge.cx}" cy="${ge.cy}" rx="${ge.rx}" ry="${ge.ry}" fill="none" stroke="${ge.color}" stroke-width="${ge.strokeWidth}" />`}}).join(`
  `)}
</svg>`,[r.elements]),U=y.useRef("");y.useEffect(()=>{if(n&&J.current){const me=X();me!==U.current&&(U.current=me,n(me))}},[r.elements,n,X]);const V=y.useCallback(me=>{const Le=me.currentTarget.getBoundingClientRect();let ae,xe;if("touches"in me)if(me.touches.length===0){const de=me.changedTouches[0];ae=de.clientX,xe=de.clientY}else{const de=me.touches[0];ae=de.clientX,xe=de.clientY}else ae=me.clientX,xe=me.clientY;return{x:ae-Le.left,y:xe-Le.top,pressure:.5}},[]),H=y.useCallback((me,ge,Le)=>{const ae=Le??8;for(let xe=ge.length-1;xe>=0;xe--){const de=ge[xe];switch(de.type){case"dot":if(Math.sqrt((me.x-de.x)**2+(me.y-de.y)**2)<=de.radius+ae)return de;break;case"square":if(de.fill){if(me.x>=de.x-ae&&me.x<=de.x+de.width+ae&&me.y>=de.y-ae&&me.y<=de.y+de.height+ae)return de}else{const Rt=Math.abs(me.x-de.x)<=ae,cn=Math.abs(me.x-(de.x+de.width))<=ae,Wt=Math.abs(me.y-de.y)<=ae,_n=Math.abs(me.y-(de.y+de.height))<=ae,At=me.x>=de.x-ae&&me.x<=de.x+de.width+ae,wn=me.y>=de.y-ae&&me.y<=de.y+de.height+ae;if(At&&(Wt||_n)||wn&&(Rt||cn))return de}break;case"circle":const Pe=de.rx+ae,kt=de.ry+ae,Ct=(me.x-de.cx)/Pe,dt=(me.y-de.cy)/kt,$t=Math.sqrt(Ct*Ct+dt*dt);if(de.fill){if($t<=1)return de}else{const Rt=(me.x-de.cx)/Math.max(1,de.rx-ae),cn=(me.y-de.cy)/Math.max(1,de.ry-ae);if(Math.sqrt(Rt*Rt+cn*cn)>=1&&$t<=1)return de}break;case"pen":if(de.points.length>0){for(const Rt of de.points)if(Math.sqrt((me.x-Rt.x)**2+(me.y-Rt.y)**2)<=ae+2)return de}else{const Rt=a1(de.pathData);if(Rt&&me.x>=Rt.minX-ae&&me.x<=Rt.maxX+ae&&me.y>=Rt.minY-ae&&me.y<=Rt.maxY+ae)return de}break}}return null},[]),P=y.useCallback(me=>{switch(me.type){case"dot":return{x:me.x-me.radius,y:me.y-me.radius,width:me.radius*2,height:me.radius*2};case"square":return{x:me.x,y:me.y,width:me.width,height:me.height};case"circle":return{x:me.cx-me.rx,y:me.cy-me.ry,width:me.rx*2,height:me.ry*2};case"pen":if(me.points.length>0){const ge=me.points.map(Pe=>Pe.x),Le=me.points.map(Pe=>Pe.y),ae=Math.min(...ge),xe=Math.max(...ge),de=Math.min(...Le),Ae=Math.max(...Le);return{x:ae,y:de,width:xe-ae,height:Ae-de}}else{const ge=a1(me.pathData);return ge?{x:ge.minX,y:ge.minY,width:ge.maxX-ge.minX,height:ge.maxY-ge.minY}:{x:0,y:0,width:0,height:0}}}},[]),Y=y.useCallback((me,ge)=>{const Le=P(ge),ae=8,xe={nw:{x:Le.x,y:Le.y},ne:{x:Le.x+Le.width,y:Le.y},sw:{x:Le.x,y:Le.y+Le.height},se:{x:Le.x+Le.width,y:Le.y+Le.height}};for(const[de,Ae]of Object.entries(xe))if(Math.sqrt((me.x-Ae.x)**2+(me.y-Ae.y)**2)<=ae)return de;return null},[P]),re=y.useCallback(me=>{const ge=V(me);switch(d(!0),i){case"pen":m([ge]),$(null);break;case"square":case"circle":x(ge);break;case"eraser":const Le=H(ge,r.elements,j/2);if(Le){const de=r.elements.filter(Ae=>Ae.id!==Le.id);r.set(de)}break;case"select":const ae=r.elements.find(de=>de.selected);if(ae){const de=Y(ge,ae);if(de){k(de),I(P(ae)),x(ge);return}}const xe=H(ge,r.elements);if(xe){G.current=xe.id;let de=0,Ae=0;switch(xe.type){case"dot":de=ge.x-xe.x,Ae=ge.y-xe.y;break;case"square":de=ge.x-xe.x,Ae=ge.y-xe.y;break;case"circle":de=ge.x-xe.cx,Ae=ge.y-xe.cy;break;case"pen":xe.points.length>0&&(de=ge.x-xe.points[0].x,Ae=ge.y-xe.points[0].y);break}S({x:de,y:Ae});const Pe=r.elements.map(kt=>({...kt,selected:kt.id===xe.id}));r.set(Pe,!1)}else{G.current=null;const de=r.elements.map(Ae=>({...Ae,selected:!1}));r.set(de,!1)}break}},[i,l,r,V,H,Y,P,j]),q=y.useCallback(me=>{const ge=V(me);if($(ge),!!u)switch(i){case"pen":m(ae=>[...ae,ge]);break;case"square":if(v){let ae=ge.x-v.x,xe=ge.y-v.y;if(Q){const Ae=Math.max(Math.abs(ae),Math.abs(xe));ae=ae>=0?Ae:-Ae,xe=xe>=0?Ae:-Ae}const de={id:"preview",type:"square",color:l,selected:!1,x:ae>=0?v.x:v.x+ae,y:xe>=0?v.y:v.y+xe,width:Math.abs(ae),height:Math.abs(xe),strokeWidth:j,fill:B};b(de)}break;case"circle":if(v){let ae=Math.abs(ge.x-v.x),xe=Math.abs(ge.y-v.y);Q&&(ae=xe=Math.max(ae,xe));const de={id:"preview",type:"circle",color:l,selected:!1,cx:v.x,cy:v.y,rx:ae,ry:xe,strokeWidth:j,fill:B};b(de)}break;case"eraser":const Le=H(ge,r.elements,j/2);if(Le){const ae=r.elements.filter(xe=>xe.id!==Le.id);r.set(ae,!1)}break;case"select":if(R&&v&&A){let ae=ge.x-v.x,xe=ge.y-v.y;if(Q&&A.width>0&&A.height>0){const Ae=A.width/A.height,Pe=Math.abs(ae),kt=Math.abs(xe);Pe>kt*Ae?xe=Pe/Ae*Math.sign(xe||1):ae=kt*Ae*Math.sign(ae||1)}const de=r.elements.map(Ae=>{if(!Ae.selected)return Ae;let Pe={...A};switch(R){case"nw":Pe.x=A.x+ae,Pe.y=A.y+xe,Pe.width=A.width-ae,Pe.height=A.height-xe;break;case"ne":Pe.y=A.y+xe,Pe.width=A.width+ae,Pe.height=A.height-xe;break;case"sw":Pe.x=A.x+ae,Pe.width=A.width-ae,Pe.height=A.height+xe;break;case"se":Pe.width=A.width+ae,Pe.height=A.height+xe;break}switch(Pe.width<10&&(Pe.width=10),Pe.height<10&&(Pe.height=10),Ae.type){case"square":return{...Ae,x:Pe.x,y:Pe.y,width:Pe.width,height:Pe.height};case"circle":return{...Ae,cx:Pe.x+Pe.width/2,cy:Pe.y+Pe.height/2,rx:Pe.width/2,ry:Pe.height/2};case"dot":const kt=Math.min(Pe.width,Pe.height)/2;return{...Ae,x:Pe.x+Pe.width/2,y:Pe.y+Pe.height/2,radius:Math.max(2,kt)};case"pen":const Ct=P(Ae);if(Ct.width===0||Ct.height===0)return Ae;const dt=Pe.width/Ct.width,$t=Pe.height/Ct.height,Rt=Ae.points.map(Wt=>({...Wt,x:Pe.x+(Wt.x-Ct.x)*dt,y:Pe.y+(Wt.y-Ct.y)*$t})),cn=gf(Rt.map(Wt=>[Wt.x,Wt.y,Wt.pressure??.5]),vf(Ae.strokeWidth));return{...Ae,points:Rt,pathData:yf(cn)};default:return Ae}});r.set(de,!1);return}if(G.current&&T){const ae=r.elements.map(xe=>{if(xe.id!==G.current)return xe;const de=ge.x-T.x,Ae=ge.y-T.y;switch(xe.type){case"dot":return{...xe,x:de,y:Ae};case"square":return{...xe,x:de,y:Ae};case"circle":return{...xe,cx:de,cy:Ae};case"pen":const Pe=de-xe.points[0].x,kt=Ae-xe.points[0].y,Ct=xe.points.map($t=>({...$t,x:$t.x+Pe,y:$t.y+kt})),dt=gf(Ct.map($t=>[$t.x,$t.y,$t.pressure??.5]),vf(xe.strokeWidth));return{...xe,points:Ct,pathData:yf(dt)};default:return xe}});r.set(ae,!1)}break}},[u,i,v,l,V,r,T,R,A,H,P,Q,j,B]),oe=y.useCallback(()=>{if(!(!u&&!R)){switch(i){case"pen":if(h.length>1){const me=gf(h.map(ae=>[ae.x,ae.y,ae.pressure??.5]),vf(j)),ge=yf(me),Le={id:Ua(),type:"pen",color:l,selected:!1,points:h,pathData:ge,strokeWidth:j};r.set([...r.elements,Le])}m([]);break;case"square":if(w&&w.type==="square"){const me={...w,id:Ua()};r.set([...r.elements,me])}b(null),x(null);break;case"circle":if(w&&w.type==="circle"){const me={...w,id:Ua()};r.set([...r.elements,me])}b(null),x(null);break;case"eraser":r.set([...r.elements],!0);break;case"select":R?(r.set([...r.elements],!0),k(null),I(null),x(null)):G.current&&T&&r.set([...r.elements],!0),S(null);break}d(!1)}},[u,i,h,w,l,r,T,R,j]),ie=y.useCallback(()=>{$(null),(u||R)&&oe()},[u,R,oe]),ve=y.useCallback(me=>{if(!me){r.reset([]);return}const ge=l1(me);r.reset(ge)},[r]),be=y.useCallback(()=>X(),[X]),ke=y.useCallback(()=>{if(r.elements.find(ge=>ge.selected)){const ge=r.elements.filter(Le=>!Le.selected);r.set(ge),G.current=null}},[r]),Ee=y.useCallback(()=>{if(r.elements.some(ge=>ge.selected)){const ge=r.elements.map(Le=>({...Le,selected:!1}));r.set(ge,!1),G.current=null}},[r]),Me=y.useCallback(()=>{if(h.length<2)return"";const me=gf(h.map(ge=>[ge.x,ge.y,ge.pressure??.5]),vf(j));return yf(me)},[h,j]);return{elements:r.elements,activeTool:i,activeColor:l,isDrawing:u,currentStroke:h,previewElement:w,activeResizeHandle:R,strokeWidth:j,doFill:B,cursorPosition:D,shiftPressed:Q,MIN_STROKE_WIDTH:AH,MAX_STROKE_WIDTH:jH,setActiveTool:o,setActiveColor:c,setStrokeWidth:O,setDoFill:W,setShiftPressed:M,handlePointerDown:re,handlePointerMove:q,handlePointerUp:oe,handlePointerLeave:ie,deleteSelected:ke,deselectAll:Ee,getCurrentStrokePath:Me,exportToSVG:X,getElementBounds:P,getSvgContent:be,setSvgContent:ve,undo:r.undo,redo:r.redo,clear:r.clear,canUndo:r.canUndo,canRedo:r.canRedo}}const PH="_container_1440j_1",LH="_canvasWrapper_1440j_13",OH="_canvas_1440j_13",MH="_canvasSelect_1440j_29",DH="_canvasEraser_1440j_33",FH="_toolbar_1440j_37",$H="_toolButton_1440j_42",BH="_toolButtonActive_1440j_57",VH="_actionBar_1440j_63",UH="_actionButton_1440j_68",zH="_actionButtonDanger_1440j_87",WH="_colorPicker_1440j_93",GH="_colorSwatch_1440j_99",HH="_colorSwatchActive_1440j_111",YH="_label_1440j_116",XH="_selectionBox_1440j_122",qH="_element_1440j_130",KH="_elementSelected_1440j_134",ZH="_resizeHandle_1440j_138",QH="_deleteButtonWrapper_1440j_148",JH="_deleteButton_1440j_148",eY="_toolOptionsBar_1440j_167",tY="_optionGroup_1440j_174",nY="_sizeSlider_1440j_180",rY="_sizeValue_1440j_185",iY="_checkboxLabel_1440j_191",sY="_cursorPreview_1440j_200",oY="_gridGroup_1440j_210",aY="_gridLine_1440j_214",lY="_gridLineBold_1440j_219",pt={container:PH,canvasWrapper:LH,canvas:OH,canvasSelect:MH,canvasEraser:DH,toolbar:FH,toolButton:$H,toolButtonActive:BH,actionBar:VH,actionButton:UH,actionButtonDanger:zH,colorPicker:WH,colorSwatch:GH,colorSwatchActive:HH,label:YH,selectionBox:XH,element:qH,elementSelected:KH,resizeHandle:ZH,deleteButtonWrapper:QH,deleteButton:JH,toolOptionsBar:eY,optionGroup:tY,sizeSlider:nY,sizeValue:rY,checkboxLabel:iY,cursorPreview:sY,gridGroup:oY,gridLine:aY,gridLineBold:lY},cY=[{id:"pen",label:"Pen"},{id:"square",label:"Square"},{id:"circle",label:"Circle"},{id:"select",label:"Select"},{id:"eraser",label:"Eraser"}];function uY({activeTool:e,onToolChange:t,disabled:n}){return f.jsx("div",{className:pt.toolbar,children:cY.map(r=>f.jsx("button",{type:"button",className:Z(pt.toolButton,e===r.id&&pt.toolButtonActive),onClick:()=>t(r.id),disabled:n,children:r.label},r.id))})}function dY({strokeWidth:e,minStrokeWidth:t,maxStrokeWidth:n,doFill:r,activeTool:i,onStrokeWidthChange:o,onFillChange:l,disabled:c}){const u=["pen","square","circle","eraser"].includes(i),d=["square","circle"].includes(i);return!u&&!d?null:f.jsxs("div",{className:pt.toolOptionsBar,children:[u&&f.jsxs("div",{className:pt.optionGroup,children:[f.jsx("span",{className:pt.label,children:"Size:"}),f.jsx("input",{type:"range",min:t,max:n,value:e,onChange:h=>o(Number(h.target.value)),disabled:c,className:pt.sizeSlider}),f.jsxs("span",{className:pt.sizeValue,children:[e,"px"]})]}),d&&f.jsxs("label",{className:pt.checkboxLabel,children:[f.jsx("input",{type:"checkbox",checked:r,onChange:h=>l(h.target.checked),disabled:c}),"Fill"]})]})}const fY=[{name:"black",value:"var(--black)"},{name:"white",value:"var(--white)"},{name:"red",value:"var(--red)"},{name:"blue",value:"var(--blue)"},{name:"green",value:"var(--green)"},{name:"yellow",value:"var(--yellow)"},{name:"purple",value:"var(--purple)"},{name:"orange",value:"var(--orange)"},{name:"pink",value:"var(--pink)"},{name:"teal",value:"var(--teal)"},{name:"cyan",value:"var(--cyan)"}];function pY({activeColor:e,onColorChange:t,disabled:n}){return f.jsxs("div",{className:pt.colorPicker,children:[f.jsx("span",{className:pt.label,children:"Color:"}),fY.map(r=>f.jsx("button",{type:"button",className:Z(pt.colorSwatch,e===r.value&&pt.colorSwatchActive),style:{backgroundColor:r.value},onClick:()=>t(r.value),title:r.name,disabled:n},r.name))]})}const xf=300,Zc=20,c1=3;function hY(){const e=[],t=Math.floor(xf/Zc)-1,n=new Set([c1*Zc,xf-c1*Zc]);for(let r=1;r<=t;r++){const i=r*Zc,o=n.has(i);e.push(f.jsx("line",{x1:i,y1:0,x2:i,y2:xf,className:o?pt.gridLineBold:pt.gridLine},`v-${r}`))}for(let r=1;r<=t;r++){const i=r*Zc,o=n.has(i);e.push(f.jsx("line",{x1:0,y1:i,x2:xf,y2:i,className:o?pt.gridLineBold:pt.gridLine},`h-${r}`))}return f.jsx("g",{className:pt.gridGroup,children:e})}function u1(e,t=!1){const n=Z(pt.element,e.selected&&pt.elementSelected),r=t?`preview-${e.id}`:e.id;switch(e.type){case"pen":return f.jsx("path",{d:e.pathData,fill:e.color,className:n},r);case"dot":return f.jsx("circle",{cx:e.x,cy:e.y,r:e.radius,fill:e.color,className:n},r);case"square":return f.jsx("rect",{x:e.x,y:e.y,width:e.width,height:e.height,fill:e.fill?e.color:"none",stroke:e.fill?"none":e.color,strokeWidth:e.fill?void 0:e.strokeWidth,className:n},r);case"circle":return f.jsx("ellipse",{cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry,fill:e.fill?e.color:"none",stroke:e.fill?"none":e.color,strokeWidth:e.fill?void 0:e.strokeWidth,className:n},r)}}function mY(e,t){if(!e.selected)return null;const n=t(e),r=4;return f.jsx("rect",{x:n.x-r,y:n.y-r,width:n.width+r*2,height:n.height+r*2,className:pt.selectionBox},`selection-${e.id}`)}function gY(e,t){if(!e.selected)return null;const n=t(e),r=6;return[{handle:"nw",x:n.x,y:n.y,cursor:"nwse-resize"},{handle:"ne",x:n.x+n.width,y:n.y,cursor:"nesw-resize"},{handle:"sw",x:n.x,y:n.y+n.height,cursor:"nesw-resize"},{handle:"se",x:n.x+n.width,y:n.y+n.height,cursor:"nwse-resize"}].map(({handle:o,x:l,y:c,cursor:u})=>f.jsx("circle",{cx:l,cy:c,r,className:pt.resizeHandle,style:{cursor:u}},`handle-${e.id}-${o}`))}function yY({elements:e,activeTool:t,activeColor:n,currentStrokePath:r,previewElement:i,cursorPosition:o,strokeWidth:l,onPointerDown:c,onPointerMove:u,onPointerUp:d,onPointerLeave:h,onDeleteSelected:m,getElementBounds:v,disabled:x}){const w=o&&["pen","square","circle","eraser"].includes(t),b=O=>{x||(O.preventDefault(),c(O))},T=O=>{x||(O.preventDefault(),u(O))},S=O=>{x||(O.preventDefault(),d())},R=O=>{x||c(O)},k=O=>{x||u(O)},A=e.find(O=>O.selected),I=t==="select"&&A;let j=null;if(I&&A){const O=v(A);j={x:O.x+O.width,y:O.y-24}}return f.jsxs("div",{className:pt.canvasWrapper,children:[f.jsxs("svg",{className:Z(pt.canvas,t==="select"&&pt.canvasSelect,t==="eraser"&&pt.canvasEraser),width:300,height:300,viewBox:"0 0 300 300",onMouseDown:R,onMouseMove:k,onMouseUp:d,onMouseLeave:h,onTouchStart:b,onTouchMove:T,onTouchEnd:S,style:x?{opacity:.6,pointerEvents:"none"}:void 0,children:[hY(),e.map(O=>u1(O)),I&&e.map(O=>mY(O,v)),I&&e.map(O=>gY(O,v)),r&&f.jsx("path",{d:r,fill:n,opacity:.8}),i&&u1({...i,selected:!1},!0),w&&f.jsx("circle",{cx:o.x,cy:o.y,r:l/2,className:pt.cursorPreview})]}),I&&j&&!x&&f.jsx("div",{className:pt.deleteButtonWrapper,style:{left:j.x,top:j.y},children:f.jsx($e,{iconName:"trash",iconSize:14,onClick:m,className:pt.deleteButton,title:"Delete (Del)"})})]})}function vY({canUndo:e,canRedo:t,hasSelection:n,onUndo:r,onRedo:i,onClear:o,onDelete:l,disabled:c}){return f.jsxs("div",{className:pt.actionBar,children:[f.jsx("button",{type:"button",className:pt.actionButton,onClick:r,disabled:c||!e,children:"Undo"}),f.jsx("button",{type:"button",className:pt.actionButton,onClick:i,disabled:c||!t,children:"Redo"}),f.jsx("button",{type:"button",className:Z(pt.actionButton,pt.actionButtonDanger),onClick:l,disabled:c||!n,children:"Delete"}),f.jsx("button",{type:"button",className:Z(pt.actionButton,pt.actionButtonDanger),onClick:o,disabled:c,children:"Clear"})]})}const xY=y.forwardRef(function({value:t,onChange:n,disabled:r,readOnly:i},o){const l=r||i,{elements:c,activeTool:u,activeColor:d,previewElement:h,strokeWidth:m,doFill:v,cursorPosition:x,MIN_STROKE_WIDTH:w,MAX_STROKE_WIDTH:b,setActiveTool:T,setActiveColor:S,setStrokeWidth:R,setDoFill:k,setShiftPressed:A,handlePointerDown:I,handlePointerMove:j,handlePointerUp:O,handlePointerLeave:B,deleteSelected:W,deselectAll:D,getCurrentStrokePath:$,getElementBounds:Q,getSvgContent:M,setSvgContent:G,undo:J,redo:X,clear:U,canUndo:V,canRedo:H}=IH({value:t,onChange:n});y.useImperativeHandle(o,()=>({getSvg:M,setSvg:G,clear:U}),[M,G,U]);const P=c.some(re=>re.selected),Y=y.useCallback(re=>{u==="select"&&re!=="select"&&D(),T(re)},[u,T,D]);return y.useEffect(()=>{if(l)return;const re=oe=>{if(oe.key==="Shift"&&A(!0),oe.key==="Delete"||oe.key==="Backspace"){if(oe.target instanceof HTMLInputElement||oe.target instanceof HTMLTextAreaElement)return;oe.preventDefault(),W()}},q=oe=>{oe.key==="Shift"&&A(!1)};return window.addEventListener("keydown",re),window.addEventListener("keyup",q),()=>{window.removeEventListener("keydown",re),window.removeEventListener("keyup",q)}},[W,l,A]),f.jsxs("div",{className:pt.container,children:[f.jsx(uY,{activeTool:u,onToolChange:Y,disabled:l}),f.jsx(dY,{strokeWidth:m,minStrokeWidth:w,maxStrokeWidth:b,doFill:v,activeTool:u,onStrokeWidthChange:R,onFillChange:k,disabled:l}),f.jsx(pY,{activeColor:d,onColorChange:S,disabled:l}),f.jsx(yY,{elements:c,activeTool:u,activeColor:d,currentStrokePath:$(),previewElement:h,cursorPosition:x,strokeWidth:m,onPointerDown:I,onPointerMove:j,onPointerUp:O,onPointerLeave:B,onDeleteSelected:W,getElementBounds:Q,disabled:l}),f.jsx(vY,{canUndo:V,canRedo:H,hasSelection:P,onUndo:J,onRedo:X,onClear:U,onDelete:W,disabled:l})]})}),_Y="_container_18rh6_1",wY="_label_18rh6_7",bY="_requiredAsterisk_18rh6_13",EY="_warning_18rh6_18",_f={container:_Y,label:wY,requiredAsterisk:bY,warning:EY};function Qc(e){if(!e)return!0;const t=e.match(/<svg[^>]*>([\s\S]*?)<\/svg>/);return t?t[1].trim()==="":!0}const dN=y.forwardRef((e,t)=>{const{registerSmartFieldProps:n,fieldState:r,utils:i,displayName:o,disabled:l,readOnly:c,className:u,style:d,renderWarning:h,onSvgChange:m}=e,[v,x]=y.useState(n.defaultValue||null),w=y.useRef(null),b=y.useRef(null),T=y.useRef(n.defaultValue||null),S=!!(l||n.disabled),R=!!(c||n.readOnly),k=y.useCallback(D=>{if(w.current){w.current.value=D||"";const $={target:w.current,currentTarget:w.current,type:"change",preventDefault:()=>{},stopPropagation:()=>{},nativeEvent:new Event("change")};n.onChange?.($)}},[n]),A=y.useCallback(D=>{x(D);const $=Qc(D);if(i?.validatorFunction){const M=i.validatorFunction($?null:D);r.warning.setWarning(M),r.isInputValid.setIsInputValid(!M)}r.isEmpty.setIsEmpty($),r.isTouched.setIsTouched(!0);const Q=D!==T.current;r.isChanged.setIsChanged(Q),k($?null:D),m?.($?null:D)},[i,r,k,m]),I=y.useCallback(D=>{b.current&&b.current.setSvg(D),x(D);const $=Qc(D);if(i?.validatorFunction){const M=i.validatorFunction($?null:D);r.warning.setWarning(M),r.isInputValid.setIsInputValid(!M)}r.isEmpty.setIsEmpty($),r.isTouched.setIsTouched(!0);const Q=D!==T.current;r.isChanged.setIsChanged(Q),k($?null:D),m?.($?null:D)},[i,r,k,m]),j=y.useCallback(()=>{if(b.current&&b.current.clear(),x(null),i?.validatorFunction){const $=i.validatorFunction(null);r.warning.setWarning($),r.isInputValid.setIsInputValid(!$)}r.isEmpty.setIsEmpty(!0),r.isTouched.setIsTouched(!0);const D=T.current!==null;r.isChanged.setIsChanged(D),k(null),m?.(null)},[i,r,k,m]),O=y.useCallback(()=>{const D=T.current;if(b.current&&b.current.setSvg(D),x(D),i?.validatorFunction){const $=i.validatorFunction(D);r.warning.setWarning($),r.isInputValid.setIsInputValid(!$)}r.isEmpty.setIsEmpty(Qc(D)),r.isTouched.setIsTouched(!1),r.isChanged.setIsChanged(!1),k(D),m?.(D)},[i,r,k,m]);y.useImperativeHandle(n.ref,()=>({get value(){if(b.current){const D=b.current.getSvg();return Qc(D)?null:D}return v},reset:O,setSvg:I,clear:j}),[v,O,I,j]),y.useImperativeHandle(t,()=>({get value(){if(b.current){const D=b.current.getSvg();return Qc(D)?null:D}return v},reset:O,setSvg:I,clear:j}),[v,O,I,j]);const B=y.useCallback(D=>D.warning?f.jsx("p",{className:D.className,children:D.warning.message}):null,[]),W={warning:r.warning.value,className:_f.warning};return f.jsxs("div",{className:Z(u,_f.container),style:d,children:[o&&f.jsxs("label",{className:_f.label,children:[o,n.required&&f.jsx("span",{className:_f.requiredAsterisk,children:"*"})]}),f.jsx("input",{type:"hidden",ref:w,name:n.name,value:v||"",disabled:n.disabled}),f.jsx(xY,{ref:b,value:v,onChange:A,disabled:S,readOnly:R}),h?h(W):B(W)]})});dN.displayName="SvgDrawerInput";function fN({registerField:e,mode:t,initialData:n,className:r}){const i=y.useRef(!1),o=y.useMemo(()=>aN({required:{value:!0,message:"Glyph name is required"}}),[]),l=e("glyphSvg",{defaultValue:t==="edit"&&n?.svg_data?n.svg_data:void 0}),c=e("glyphName",{defaultValue:t==="edit"&&n?.name?n.name:void 0,validation:o}),u=e("category",{defaultValue:t==="edit"&&n?.category?n.category:void 0}),d=e("notes",{defaultValue:t==="edit"&&n?.notes?n.notes:void 0});return y.useEffect(()=>{t==="edit"&&n&&!i.current&&(i.current=!0,setTimeout(()=>{const h=c.registerSmartFieldProps.ref?.current;h&&n.name&&(h.value=n.name,c.fieldState.isEmpty.setIsEmpty(!1));const m=u.registerSmartFieldProps.ref?.current;m&&n.category&&(m.value=n.category,u.fieldState.isEmpty.setIsEmpty(!1));const v=d.registerSmartFieldProps.ref?.current;v&&n.notes&&(v.value=n.notes,d.fieldState.isEmpty.setIsEmpty(!1))},0))},[t,n,c,u,d]),f.jsxs("div",{className:Z(pe.flexCol,pe.flexGapM,r),children:[f.jsx("div",{className:Z(Ot.parentWidth,pe.flex,pe.justifyContentCenter),children:f.jsx(Nt,{className:Z(Ot.fitContent),content:t==="edit"?"Edit your glyph drawing":"Draw your glyph here",children:f.jsx(dN,{...l})})}),f.jsx(Nt,{content:"The name of this glyph",children:f.jsx(ks,{displayName:"Glyph Name",asInput:!0,...c})}),f.jsx(Nt,{content:"Category to organize your glyphs (e.g., Vowels, Consonants, Numbers)",children:f.jsx(ks,{displayName:"Category",asInput:!0,...u})}),f.jsx(Nt,{className:Z(Ot.parentWidth),content:"Additional notes about this glyph",children:f.jsx(ks,{displayName:"Notes",asInput:!1,...d})})]})}const SY="_modalContent_8b73h_2",CY="_errorMessage_8b73h_13",TY="_modalButtons_8b73h_22",NY="_deleteConfirm_8b73h_27",kY="_warningText_8b73h_32",Fa={modalContent:SY,errorMessage:CY,modalButtons:TY,deleteConfirm:NY,warningText:kY};function pN({mode:e,initialData:t,onSuccess:n,onCancel:r,onError:i,onSubmittingChange:o,className:l,extraActions:c}){const{registerField:u,unregisterField:d,registerForm:h,isFormValid:m}=Za({mode:"onChange"}),[v,x]=y.useState(null),[w,b]=y.useState(!1),T=y.useRef(!1),S=aE(),R=h("glyphForm",{submitFunc:async k=>{if(T.current)return{success:!1,error:"Already submitting"};T.current=!0,b(!0),o&&o(!0);try{x(null);const A=k;if(!A.glyphSvg||A.glyphSvg.trim()==="")throw new Error("Please draw a glyph");if(!A.glyphName||A.glyphName.trim()==="")throw new Error("Glyph name is required");let I;if(e==="create")I=S.glyph.create({name:A.glyphName.trim(),svg_data:A.glyphSvg,category:A.category?.trim()||void 0,notes:A.notes?.trim()||void 0});else{if(!t)throw new Error("No glyph to edit");I=S.glyph.update(t.id,{name:A.glyphName.trim(),svg_data:A.glyphSvg,category:A.category?.trim()||void 0,notes:A.notes?.trim()||void 0})}if(!I.success)throw new Error(I.error?.message||(e==="create"?"Failed to create glyph":"Failed to update glyph"));const j=I.data;return x(null),T.current=!1,b(!1),o&&o(!1),n&&n(j),{success:!0,data:j}}catch(A){T.current=!1,b(!1),o&&o(!1);const I=A instanceof Error?A.message:e==="create"?"Failed to create glyph":"Failed to update glyph";return x(I),i&&i(I),console.error("[GlyphForm] Error:",A),{success:!1,error:I}}}});return f.jsxs("div",{className:Z(l),children:[v&&f.jsx("div",{className:Fa.errorMessage,children:v}),f.jsxs(da,{...R,registerField:u,unregisterField:d,isFormValid:m,className:Z(pe.flexCol,pe.flexGapM),children:[f.jsx(fN,{registerField:u,mode:e,initialData:t}),f.jsxs("div",{className:Z(pe.flex,pe.flexGapM,Fa.modalButtons),children:[f.jsx($e,{className:Z(ht.primary),type:"submit",disabled:w,children:w?"Saving...":e==="create"?"Save Glyph":"Save Changes"}),f.jsx($e,{className:Z(ht.secondary),onClick:()=>r&&r(),type:"button",disabled:w,children:"Cancel"}),c&&c(w)]})]})]})}function hN({onSuccess:e,onCancel:t,className:n}){const[r,i]=y.useState(null);return f.jsxs("div",{className:Z(n),children:[r&&f.jsx("div",{className:Xo.errorMessage,children:r}),f.jsx(pN,{mode:"create",onSuccess:o=>{i(null),e&&e(o)},onCancel:()=>t&&t(),onError:o=>i(o)})]})}function RY({isOpen:e,setIsOpen:t,onGlyphCreated:n}){const[r,i]=y.useState(null),o=()=>{i(null),t(!1)};return f.jsx(cr,{isOpen:e,setIsOpen:t,onClose:o,allowClose:!0,children:f.jsxs("div",{className:Z(Xo.modalContent),children:[f.jsx("h2",{className:ri.underlineHighlightColorPrimary,children:"Create New Glyph"}),r&&f.jsx("div",{className:Xo.errorMessage,children:r}),f.jsx(hN,{onSuccess:l=>{i(null),t(!1),setTimeout(()=>n(l),20)},onCancel:()=>o()})]})})}function AY({isOpen:e,setIsOpen:t,glyph:n,onGlyphUpdated:r,onGlyphDeleted:i,showDelete:o=!0}){const[l,c]=y.useState(null),[u,d]=y.useState(!1),[h,m]=y.useState(!1),[v,x]=y.useState(!1),w=aE();y.useEffect(()=>{e&&(c(null),m(!1))},[e,n?.id]);const b=()=>{c(null),m(!1),t(!1)},T=async()=>{if(!(!n||v)){x(!0);try{const S=w.glyph.forceDelete(n.id);if(!S.success)throw new Error(S.error?.message||"Failed to delete glyph");m(!1),t(!1),setTimeout(()=>i?.(n.id),20)}catch(S){console.error("[EditGlyphModal] Delete error:",S),c(S instanceof Error?S.message:"Failed to delete glyph")}finally{x(!1)}}};return n?f.jsx(cr,{isOpen:e,setIsOpen:t,onClose:b,allowClose:!u&&!v,children:f.jsxs("div",{className:Z(Fa.modalContent),children:[f.jsxs("h2",{className:ri.underlineHighlightColorPrimary,children:["Edit Glyph: ",n.name]}),l&&f.jsx("div",{className:Fa.errorMessage,children:l}),h?f.jsxs("div",{className:Fa.deleteConfirm,children:[f.jsxs("p",{children:['Are you sure you want to delete "',n.name,'"?']}),f.jsx("p",{className:Fa.warningText,children:" This will remove the glyph from this grapheme."}),f.jsxs("div",{className:Z(pe.flex,pe.flexGapM,Fa.modalButtons),children:[f.jsx(gt,{onClick:()=>m(!1),disabled:v,children:"Cancel"}),f.jsx(gt,{onClick:T,disabled:v,style:{background:"var(--danger)",color:"white"},children:v?"Deleting...":"Delete Glyph"})]})]}):f.jsx(pN,{mode:"edit",initialData:n,onSuccess:S=>{t(!1),setTimeout(()=>r(S),20)},onCancel:b,onError:S=>c(S),onSubmittingChange:S=>d(S),extraActions:S=>o&&f.jsx($e,{className:Z(ht.danger),type:"button",iconName:"trash",onClick:()=>m(!0),disabled:S,children:"Delete"})})]})}):null}const jY="_cardLink_ntfqc_2",IY="_container_ntfqc_8",PY="_cardWrapper_ntfqc_19",LY="_topRight_ntfqc_39",OY="_name_ntfqc_45",MY="_svgWrapper_ntfqc_54",DY="_svgContainer_ntfqc_69",Oo={cardLink:jY,container:IY,cardWrapper:PY,topRight:LY,name:OY,svgWrapper:MY,svgContainer:DY};function mN({glyph:e,onDelete:t,disableLink:n=!1,interactionMode:r,onClick:i,hideDelete:o=!1}){const l=e.usageCount??0,c=l===0?"Not used":`Used by ${l} grapheme${l===1?"":"s"}`,u=r??(n?"none":"route"),d=f.jsxs("div",{className:Z(pe.flexColumn,Oo.container),children:[!o&&t&&f.jsx("div",{className:Oo.topRight,children:f.jsx($e,{iconName:"trash",iconColor:"var(--status-bad)",onClick:h=>{h.preventDefault(),h.stopPropagation(),t(e.id)},"aria-label":`Delete glyph ${e.name}`})}),f.jsx("div",{className:Oo.name,children:e.name}),f.jsx("div",{className:Oo.svgWrapper,children:f.jsx("div",{className:Oo.svgContainer,dangerouslySetInnerHTML:{__html:e.svg_data}})})]});return u==="modal"?f.jsx(Nt,{content:c,className:Ot.fitContent,children:f.jsx("div",{className:Oo.cardWrapper,onClick:()=>i?.(e),role:"button",tabIndex:0,onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),i?.(e))},children:d})}):u==="none"?f.jsx(Nt,{content:c,className:Ot.fitContent,children:f.jsx("div",{className:Oo.cardWrapper,children:d})}):f.jsx(Nt,{content:c,className:Ot.fitContent,children:f.jsx(jt,{to:`/script-maker/glyphs/db/${e.id}`,className:Oo.cardLink,children:d})})}const FY="_glyphSelectionContainer_1r5qr_3",$Y="_glyphSelectionBox_1r5qr_12",BY="_emptyState_1r5qr_23",VY="_selectedGlyphs_1r5qr_31",UY="_glyphButtons_1r5qr_111",Jc={glyphSelectionContainer:FY,glyphSelectionBox:$Y,emptyState:BY,selectedGlyphs:VY,glyphButtons:UY};function eu(e,t){const n=e.registerSmartFieldProps.ref?.current;if(!n)return!1;n.value=t;const r=t.trim()==="";if(e.fieldState.isEmpty.setIsEmpty(r),e.fieldState.isTouched.setIsTouched(!0),e.fieldState.isChanged.setIsChanged(!0),e.utils.validatorFunction){const i=e.utils.validatorFunction(t);e.fieldState.warning.setWarning(i),e.fieldState.isInputValid.setIsInputValid(i===null)}return!0}function d1(e){return e.registerSmartFieldProps.ref?.current?.value??""}function zY(e){return{...e,usageCount:0}}function gN({registerField:e,mode:t,initialData:n,className:r,onSelectedGlyphsChange:i,selectedGlyphs:o,defaultPronunciations:l}){const c=y.useRef(!1),[u,d]=y.useState(()=>t==="edit"&&n?.glyphs?n.glyphs:[]),h=o??u,m=y.useCallback(M=>{if(o!==void 0){const G=typeof M=="function"?M(o):M;i?.(G)}else d(M)},[o,i]);y.useEffect(()=>{o===void 0&&i&&i(u)},[u,o,i]);const[v,x]=y.useState(!1),[w,b]=y.useState(null),[T,S]=y.useState(!1),R=y.useMemo(()=>l&&l.length>0?l:t==="edit"&&n?.phonemes&&n.phonemes.length>0?n.phonemes.map(M=>({pronunciation:M.phoneme,useInAutoSpelling:M.use_in_auto_spelling})):[{pronunciation:"",useInAutoSpelling:!0}],[t,n?.phonemes,l]),k=y.useMemo(()=>aN({required:{value:!0,message:"Grapheme name is required"}}),[]),A=e("graphemeName",{defaultValue:t==="edit"&&n?.name?n.name:void 0,validation:k}),I=e("category",{defaultValue:t==="edit"&&n?.category?n.category:void 0}),j=e("notes",{defaultValue:t==="edit"&&n?.notes?n.notes:void 0}),O=e("pronunciations",{defaultValue:R});y.useEffect(()=>{t==="edit"&&n&&!c.current&&(c.current=!0,setTimeout(()=>{n.name&&eu(A,n.name),n.category&&eu(I,n.category),n.notes&&eu(j,n.notes)},0))},[t,n,A,I,j]);const B=y.useCallback(M=>{m(G=>{if(G.some(U=>U.id===M.id))return G;const J=G.length===0,X=[...G,M];return J&&setTimeout(()=>{try{const U=d1(A),V=d1(I);U.trim()===""&&M.name&&eu(A,M.name),V.trim()===""&&M.category&&eu(I,M.category)}catch(U){console.warn("[GraphemeFormFields] Failed to auto-fill form fields:",U)}},0),X})},[m,A,I]),W=y.useCallback(M=>{m(G=>G.filter(J=>J.id!==M))},[m]),D=y.useCallback(M=>{const G={id:M.id,name:M.name,svg_data:M.svg_data,category:M.category,notes:M.notes,created_at:M.created_at,updated_at:M.updated_at};b(G),S(!0)},[]),$=y.useCallback(M=>{m(G=>G.map(J=>J.id===M.id?M:J)),b(null)},[m]),Q=y.useCallback(M=>{m(G=>G.filter(J=>J.id!==M)),b(null)},[m]);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Z(r),children:[f.jsxs("div",{className:Z(Jc.glyphSelectionContainer),children:[f.jsx("h3",{children:"Glyphs"}),f.jsxs("div",{className:Z(Jc.glyphSelectionBox),children:[h.length===0?f.jsx("p",{className:Jc.emptyState,children:"No glyphs selected"}):f.jsx("div",{className:Z(Jc.selectedGlyphs),children:h.map(M=>f.jsx(mN,{glyph:zY(M),onDelete:W,interactionMode:"modal",onClick:D},M.id))}),f.jsxs("div",{className:Z(Jc.glyphButtons),children:[f.jsx($e,{type:"button",onClick:()=>x(!0),className:Z(ht.primary),children:"Add New Glyph"}),f.jsx($e,{type:"button",disabled:!0,className:Z(ht.secondary),title:"Select from existing glyphs (coming soon)",children:"Select Existing Glyph"})]})]})]}),f.jsxs("div",{className:Z(pe.flexCol,pe.flexGapM),children:[f.jsx(Nt,{content:"The name of the grapheme",children:f.jsx(ks,{displayName:"Grapheme Name",asInput:!0,...A})}),f.jsx(Nt,{content:"Category to organize your graphemes (e.g., Vowels, Consonants, Numbers). Inherited from first glyph but can be changed.",children:f.jsx(ks,{displayName:"Category",asInput:!0,...I})}),f.jsx(Nt,{className:Z(Ot.parentWidth),content:"Additional notes, usage examples, or etymology information",children:f.jsx(ks,{displayName:"Notes",asInput:!1,...j})})]}),f.jsx("h2",{className:ri.underlineHighlightColorPrimary,children:"Pronunciation"}),f.jsx("div",{children:f.jsx(lN,{...O,defaultValue:R,maxRows:10,requirePronunciation:!0})})]}),f.jsx(RY,{isOpen:v,setIsOpen:x,onGlyphCreated:B}),f.jsx(AY,{isOpen:T,setIsOpen:S,glyph:w,onGlyphUpdated:$,onGlyphDeleted:Q,showDelete:!0})]})}function WY(){const{registerField:e,unregisterField:t,registerForm:n,isFormValid:r}=Za({mode:"onChange"}),i=Qn(),[o]=D2(),l=o.get("phoneme")||void 0,{api:c,isLoading:u,error:d}=hn(),[h,m]=y.useState([]),v=y.useCallback(b=>{m(b)},[]),x=y.useMemo(()=>{if(l)return[{pronunciation:l,useInAutoSpelling:!0}]},[l]),w=n("graphemeForm",{submitFunc:async b=>{try{const T=b;if(h.length===0)throw new Error("Please add at least one glyph");if(!T.graphemeName||T.graphemeName.trim()==="")throw new Error("Grapheme name is required");const S={name:T.graphemeName.trim(),category:T.category?.trim()||void 0,notes:T.notes?.trim()||void 0,glyphs:h.map((k,A)=>({glyph_id:k.id,position:A})),phonemes:T.pronunciations?.filter(k=>k.pronunciation&&k.pronunciation.trim()!=="").map(k=>({phoneme:k.pronunciation.trim(),use_in_auto_spelling:k.useInAutoSpelling}))||[]},R=c.grapheme.create(S);if(!R.success)throw new Error(R.error?.message||"Failed to save grapheme");return console.log("[NewGraphemeForm] Saved grapheme:",R.data),m([]),R.data&&R.data.id?i(`/script-maker/grapheme/db/${R.data.id}`):i("/script-maker"),{success:!0,data:R.data}}catch(T){return console.error("[NewGraphemeForm] Failed to save:",T),{success:!1,error:T instanceof Error?T.message:"Failed to save grapheme"}}}});return u?f.jsx("div",{className:Z(Xo.formContainer),children:"Loading database..."}):d?f.jsxs("div",{className:Z(Xo.formContainer),children:["Database error: ",d.message]}):f.jsxs(da,{...w,registerField:e,unregisterField:t,isFormValid:r,className:Z(Xo.formContainer),children:[f.jsx("h2",{className:ri.underlineHighlightColorPrimary,children:l?`New Grapheme for "${l}"`:"New Grapheme"}),f.jsx(gN,{registerField:e,mode:"create",selectedGlyphs:h,onSelectedGlyphsChange:v,defaultPronunciations:x}),f.jsx($e,{className:Z(Xo.saveGraphemeButton,ht.primary),type:"submit",children:"Save Grapheme"})]})}function GY({graphemeData:e}){return f.jsxs("div",{className:"detailed-grapheme-display",children:[f.jsxs("div",{className:"detailed-grapheme-left",children:[f.jsx("div",{className:"detailed-grapheme-svg",children:f.jsx(Ms,{glyphs:e.glyphs,strategy:"ltr",config:{glyphWidth:96,glyphHeight:96,spacing:4,padding:8},emptyContent:f.jsx("span",{children:"No glyphs"})})}),f.jsx("h2",{className:"detailed-grapheme-name",children:e.name}),e.glyphs.length>1&&f.jsxs("span",{className:"glyph-count",children:[e.glyphs.length," glyphs"]})]}),f.jsxs("div",{className:"detailed-grapheme-right",children:[f.jsx("h3",{className:"pronunciation-header",children:"Pronunciations"}),f.jsx("div",{className:"pronunciation-container",children:e.phonemes.length>0?e.phonemes.map(t=>f.jsxs("div",{className:"pronunciation-item",children:[f.jsxs("span",{className:"phoneme-symbol",children:["/",t.phoneme,"/"]}),t.context&&f.jsx("span",{className:"phoneme-context",children:t.context}),t.use_in_auto_spelling&&f.jsx("span",{className:"auto-spelling-badge",children:"Auto"})]},t.id)):f.jsx("p",{className:"no-phonemes",children:"No pronunciations defined"})})]})]})}const HY="_compactCard_1lmct_1",YY="_clickable_1lmct_13",XY="_name_1lmct_23",qY="_svgContainer_1lmct_35",KY="_pronunciation_1lmct_50",tu={compactCard:HY,clickable:YY,name:XY,svgContainer:qY,pronunciation:KY};function Qv({graphemeData:e,onClick:t}){const n=e.phonemes.find(r=>r.use_in_auto_spelling)||e.phonemes[0];return f.jsxs("div",{className:Z(tu.compactCard,{[tu.clickable]:!!t}),onClick:t,children:[f.jsx("h3",{className:tu.name,children:e.name}),f.jsx("div",{className:tu.svgContainer,children:f.jsx(Ms,{glyphs:e.glyphs,strategy:"ltr",config:{glyphWidth:56,glyphHeight:56,spacing:2,padding:4},emptyContent:f.jsx("span",{children:""})})}),f.jsx("span",{className:tu.pronunciation,children:n?`/${n.phoneme}/`:""})]})}const ZY=[{value:"name-asc",displayComponent:f.jsx("span",{children:"Name (A-Z)"})},{value:"name-desc",displayComponent:f.jsx("span",{children:"Name (Z-A)"})},{value:"glyphs-desc",displayComponent:f.jsx("span",{children:"Most Glyphs"})},{value:"glyphs-asc",displayComponent:f.jsx("span",{children:"Fewest Glyphs"})}],QY=[12,24,48,96];function yN({graphemes:e,isLoading:t,error:n,defaultViewMode:r="expanded",onGraphemeClick:i,selectionMode:o=!1,onSelect:l}){const c=hn(),{api:u,refresh:d,data:h,isLoading:m,error:v}=c||{},x=e??h?.graphemesComplete??[],w=t??!!m,b=n??v??null,[T,S]=y.useState(null),[R,k]=y.useState(!1),A=Ee=>Ee==="expanded"?"detailed":"compact",[I,j]=y.useState(A(r)),[O,B]=y.useState(""),[W,D]=y.useState("name-asc"),[$,Q]=y.useState(1),[M,G]=y.useState(24),J=Qn(),X=y.useCallback(Ee=>{if(o&&l){l(Ee);return}J(`/script-maker/grapheme/db/${Ee.id}`)},[J,o,l]),U=i??X,V=y.useMemo(()=>{let Ee=x;if(O.trim()){const Me=O.toLowerCase().trim();Ee=Ee.filter(me=>!!(me.name.toLowerCase().includes(Me)||me.phonemes.some(ge=>ge.phoneme.toLowerCase().includes(Me))||me.glyphs.some(ge=>ge.name.toLowerCase().includes(Me))))}return Ee=[...Ee].sort((Me,me)=>{switch(W){case"name-asc":return Me.name.localeCompare(me.name);case"name-desc":return me.name.localeCompare(Me.name);case"glyphs-desc":return me.glyphs.length-Me.glyphs.length;case"glyphs-asc":return Me.glyphs.length-me.glyphs.length;default:return 0}}),Ee},[x,O,W]),H=Math.max(1,Math.ceil(V.length/M)),P=Math.min($,H);P!==$&&Q(P);const Y=y.useMemo(()=>{const Ee=(P-1)*M;return V.slice(Ee,Ee+M)},[V,P,M]),re=y.useCallback(Ee=>{B(Ee),Q(1)},[]),q=y.useCallback(Ee=>{U&&U(Ee)},[U]),oe=y.useCallback((Ee,Me)=>{Me?.stopPropagation(),S(Ee)},[]),ie=y.useCallback(async Ee=>{if(Ee!==null){k(!0);try{const Me=u.grapheme.delete(Ee);if(!Me.success)console.error("Failed to delete grapheme:",Me.error?.message);else try{d?.()}catch{}S(null)}catch(Me){console.error("Failed to delete grapheme",Me)}finally{k(!1)}}},[u,d]),ve=y.useCallback(Ee=>f.jsxs("div",{onClick:()=>U?.(Ee),style:{cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease",borderRadius:"8px",position:"relative"},className:"grapheme-clickable",role:"button",tabIndex:0,onKeyDown:Me=>{(Me.key==="Enter"||Me.key===" ")&&(Me.preventDefault(),U(Ee))},onMouseEnter:Me=>{Me.currentTarget.style.transform="translateY(-2px)",Me.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:Me=>{Me.currentTarget.style.transform="translateY(0)",Me.currentTarget.style.boxShadow="none"},children:[!o&&f.jsx("div",{style:{position:"absolute",top:8,right:8,zIndex:10},children:f.jsx($e,{iconName:"trash",iconColor:"var(--status-bad)",onClick:Me=>oe(Ee.id,Me),"aria-label":`Delete grapheme ${Ee.name}`})}),f.jsx(GY,{graphemeData:Ee})]}),[U,oe,o]),be=y.useCallback(Ee=>f.jsxs("div",{style:{position:"relative"},children:[!o&&f.jsx("div",{style:{position:"absolute",top:6,right:6,zIndex:10},children:f.jsx($e,{iconName:"trash",iconColor:"var(--status-bad)",onClick:Me=>oe(Ee.id,Me),"aria-label":`Delete grapheme ${Ee.name}`})}),f.jsx(Qv,{graphemeData:Ee,onClick:()=>U(Ee)})]}),[U,oe,o]),ke=y.useCallback(({searchQuery:Ee,hasActiveFilters:Me})=>Ee||Me?f.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[f.jsxs("p",{children:['No graphemes match your search "',Ee,'"']}),f.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Try adjusting your search terms"})]}):o?f.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[f.jsx("p",{children:"No graphemes available for selection."}),f.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Create some graphemes first in the Script Maker."})]}):f.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[f.jsx("p",{children:"No graphemes found. Create one to get started!"}),f.jsx($e,{as:jt,to:"/script-maker/create",iconName:"plus-lg",className:ht.primary,style:{marginTop:"1rem"},children:"Add Your First Glyph"})]}),[o]);return f.jsxs(f.Fragment,{children:[f.jsx(Hv,{data:Y,keyExtractor:Ee=>Ee.id,renderDetailed:ve,renderCompact:be,minItemWidth:"200px",itemGap:"1rem",searchFn:re,searchQuery:O,onSearchQueryChange:B,searchPlaceholder:"Search by name, pronunciation...",sortOptions:ZY,sortBy:W,setSortBy:D,viewMode:I,setViewMode:j,showDisplaySwitch:!0,curPage:P,setCurPage:Q,maxPage:H,maxResultPerPage:M,setMaxResultPerPage:G,maxResultOptions:QY,totalCount:V.length,isLoading:w,error:b,emptySlot:ke,onItemActivate:q,keyboardNavigation:{enabled:!0,mode:"roving",wrapAround:!0},virtualization:{autoEnableThreshold:100,estimatedItemHeight:I==="detailed"?150:200},ariaLabel:"Grapheme gallery",styling:{content:{style:{padding:"1rem 0.2rem"}}}}),f.jsx(cr,{isOpen:T!==null,setIsOpen:Ee=>{Ee||S(null)},onClose:()=>S(null),allowClose:!0,children:f.jsxs("div",{style:{padding:"1rem",minWidth:320},children:[f.jsx("h2",{style:{marginTop:0},children:"Delete grapheme"}),f.jsx("p",{children:"Are you sure you would like to delete this grapheme?"}),f.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end",marginTop:"1rem"},children:[f.jsx(gt,{onClick:()=>S(null),disabled:R,children:"Cancel"}),f.jsx(gt,{onClick:()=>ie(T),disabled:R,style:{background:"var(--danger)",color:"white"},children:R?"Deleting...":"Delete grapheme"})]})]})})]})}const JY="_switchBackground_5s6sw_5",eX="_switchKnob_5s6sw_20",f1={switchBackground:JY,switchKnob:eX},tX={nekotech:{switchKnob:{getAnimateProps:({currentState:e,knobTranslation:t})=>({animate:{x:e?t:"0em"},whileTap:{scale:.7},transition:{x:{type:"spring",damping:8,stiffness:300,mass:.5},scale:{duration:.08,ease:"easeOut"}}})}},basic:{switchKnob:{getAnimateProps:({currentState:e,knobTranslation:t})=>({animate:{x:e?t:"0em"},whileTap:{scale:.9},transition:{x:{duration:.3,ease:"easeInOut"},scale:{duration:.15,ease:"easeOut"}}})}}};function nX({value:e,onChange:t,defaultValue:n=!1,offColor:r="var(--status-disabled-bg, lightgray)",offKnobColor:i="var(--status-disabled, gray)",offBorderColor:o="var(--status-disabled, gray)",onColor:l="var(--status-good-bg, deepskyblue)",onKnobColor:c="var(--status-good, dodgerblue)",onBorderColor:u="var(--status-good, dodgerblue)",themeType:d="nekotech",width:h="4em"}){const[m,v]=y.useState(n),x=e!==void 0,w=x?e:m,b=`calc(${h} * 0.45)`,T=ac(tX,d,{currentState:w,knobTranslation:b}),S=()=>{const A=!w;x||v(A),t?.(A)},R={backgroundColor:w?l:r,borderColor:w?u:o,"--switch-width":h},k={backgroundColor:w?c:i};return f.jsx("div",{children:f.jsx("div",{className:Z(f1.switchBackground),style:R,onClick:S,children:f.jsx(Vn.div,{className:Z(f1.switchKnob),style:k,...T.switchKnob})})})}function rX(){const{api:e,data:t,settings:n,isLoading:r,error:i}=hn(),{glyphsWithUsage:o,graphemesComplete:l}=t,[c,u]=y.useState(""),[d,h]=y.useState("name-asc"),[m,v]=y.useState(1),[x,w]=y.useState(24),[b,T]=y.useState(null),[S,R]=y.useState(!1),k=y.useMemo(()=>{const M=new Map;if(!l)return M;for(const G of l)for(const J of G.glyphs){const X=J.id,U=M.get(X)||[];U.push(G),M.set(X,U)}return M},[l]),A=y.useMemo(()=>{if(!o)return[];let M=o;if(c.trim()){const G=c.toLowerCase().trim();M=M.filter(J=>J.name.toLowerCase().includes(G))}return M=[...M].sort((G,J)=>{switch(d){case"name-asc":return G.name.localeCompare(J.name);case"name-desc":return J.name.localeCompare(G.name);case"usage-desc":return(J.usageCount??0)-(G.usageCount??0);case"usage-asc":return(G.usageCount??0)-(J.usageCount??0);default:return 0}}),M},[o,c,d]),I=Math.max(1,Math.ceil(A.length/x)),j=Math.min(m,I);j!==m&&v(j);const O=y.useMemo(()=>{const M=(j-1)*x;return A.slice(M,M+x)},[A,j,x]),B=y.useCallback(M=>{u(M),v(1)},[]),W=y.useCallback(M=>{T(M)},[]),D=y.useCallback(M=>{e.settings.update({autoManageGlyphs:M})},[e]),$=y.useCallback(async M=>{R(!0);try{const G=e.glyph.cascadeDelete(M);G.success||console.error("Failed to delete glyph:",G.error?.message),T(null)}catch(G){console.error("Failed to delete glyph",G)}finally{R(!1)}},[e]),Q=y.useCallback(M=>f.jsx(mN,{glyph:M,onDelete:W}),[W]);return f.jsxs(f.Fragment,{children:[f.jsx(Hv,{data:O,keyExtractor:M=>M.id,renderDetailed:Q,renderCompact:Q,viewMode:"compact",minItemWidth:"160px",maxItemWidth:"1fr",itemGap:"1rem",searchFn:B,searchQuery:c,onSearchQueryChange:u,searchPlaceholder:"Search glyphs...",sortOptions:iX,sortBy:d,setSortBy:h,curPage:j,setCurPage:v,maxPage:I,maxResultPerPage:x,setMaxResultPerPage:w,maxResultOptions:sX,totalCount:A.length,isLoading:r,error:i,emptyMessage:"No glyphs found. Create one to get started.",noResultsMessage:"No glyphs match your search",keyboardNavigation:{enabled:!0,mode:"roving",wrapAround:!0},virtualization:{autoEnableThreshold:100,estimatedItemHeight:180},ariaLabel:"Glyph gallery",toolbarEndSlot:f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginLeft:"0.5rem"},children:[f.jsx("label",{htmlFor:"auto-manage-glyphs",style:{fontSize:"0.875rem",whiteSpace:"nowrap",cursor:"pointer"},title:"When enabled, automatically manages orphaned glyphs that are not used by any grapheme",children:"Auto-manage"}),f.jsx(nX,{value:n.autoManageGlyphs,onChange:D,width:"2.5em"})]}),styling:{content:{style:{padding:"0.2rem"}}}}),f.jsx(cr,{isOpen:b!==null,setIsOpen:M=>{M||T(null)},onClose:()=>T(null),allowClose:!0,children:f.jsxs("div",{style:{padding:"1rem",minWidth:360},children:[f.jsx("h2",{style:{marginTop:0},children:"Delete glyph"}),f.jsxs("p",{children:["Are you sure you would like to delete this glyph?",k.get(b??-1)?.length?f.jsxs(f.Fragment,{children:[" ","The following grapheme(s) reference this glyph and will also be deleted unless you unlink the glyph from those graphemes first:"]}):null]}),k.get(b??-1)?.length?f.jsx("div",{style:{display:"grid",gap:"0.5rem",marginTop:"0.5rem",maxHeight:"200px",overflowY:"auto"},children:k.get(b??-1)?.map(M=>f.jsx(Qv,{graphemeData:M},M.id))}):null,f.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end",marginTop:"1rem"},children:[f.jsx(gt,{onClick:()=>T(null),disabled:S,children:"Cancel"}),f.jsx(gt,{onClick:()=>b!==null&&$(b),disabled:S,style:{background:"var(--danger)",color:"white"},children:S?"Deleting...":"Delete glyph"})]})]})})]})}const iX=[{value:"name-asc",displayComponent:f.jsx("span",{children:"Name (A-Z)"})},{value:"name-desc",displayComponent:f.jsx("span",{children:"Name (Z-A)"})},{value:"usage-desc",displayComponent:f.jsx("span",{children:"Most Used"})},{value:"usage-asc",displayComponent:f.jsx("span",{children:"Least Used"})}],sX=[12,24,48,96],oX="_modalContent_1tzq9_2",aX="_pageContainer_1tzq9_7",lX="_nav_1tzq9_13",cX="_errorMessage_1tzq9_17",uX="_buttonRow_1tzq9_26",dX="_deleteButton_1tzq9_31",fX="_warningText_1tzq9_41",pX="_graphemeList_1tzq9_46",hX="_modalButtons_1tzq9_57",Lr={modalContent:oX,pageContainer:aX,nav:lX,errorMessage:cX,buttonRow:uX,deleteButton:dX,warningText:fX,graphemeList:pX,modalButtons:hX};function mX(){const{id:e}=Ry(),t=Qn(),{api:n,data:r,isLoading:i,error:o}=hn(),{registerField:l,unregisterField:c,registerForm:u,isFormValid:d}=Za({mode:"onChange"}),[h,m]=y.useState(null),[v,x]=y.useState(!1),w=y.useRef(!1),[b,T]=y.useState(!1),[S,R]=y.useState(!1),k=e?parseInt(e,10):null,A=k?n.glyph.getById(k):null,I=A?.success?A.data:null,j=r.graphemesComplete?.filter(W=>W.glyphs.some(D=>D.id===k))||[],O=u("editGlyphForm",{submitFunc:async W=>{if(w.current||!k)return{success:!1,error:"Invalid state"};w.current=!0,x(!0);try{m(null);const D=W;if(!D.glyphSvg||D.glyphSvg.trim()==="")throw new Error("Please draw a glyph");if(!D.glyphName||D.glyphName.trim()==="")throw new Error("Glyph name is required");const $=n.glyph.update(k,{name:D.glyphName.trim(),svg_data:D.glyphSvg,category:D.category?.trim()||void 0,notes:D.notes?.trim()||void 0});if(!$.success)throw new Error($.error?.message||"Failed to update glyph");return console.log("[GlyphEditPage] Updated glyph:",$.data),t("/script-maker/glyphs"),{success:!0,data:$.data}}catch(D){const $=D instanceof Error?D.message:"Failed to update glyph";return m($),console.error("[GlyphEditPage] Error:",D),{success:!1,error:$}}finally{w.current=!1,x(!1)}}}),B=y.useCallback(async()=>{if(!(!k||S)){R(!0);try{const W=n.glyph.cascadeDelete(k);if(!W.success)throw new Error(W.error?.message||"Failed to delete glyph");T(!1),t("/script-maker/glyphs")}catch(W){console.error("[GlyphEditPage] Delete error:",W),m(W instanceof Error?W.message:"Failed to delete glyph")}finally{R(!1)}}},[k,n.glyph,t,S]);return i?f.jsx("div",{className:Lr.pageContainer,children:f.jsx("p",{children:"Loading..."})}):o?f.jsxs("div",{className:Lr.pageContainer,children:[f.jsxs("p",{className:Lr.errorMessage,children:["Error: ",o.message]}),f.jsx($e,{as:jt,to:"/script-maker/glyphs",iconName:"arrow-left",children:"Back to Gallery"})]}):I?f.jsxs("div",{className:Lr.pageContainer,children:[f.jsx("nav",{className:Z(pe.flexRow,pe.flexGapM,Lr.nav),children:f.jsx($e,{as:jt,to:"/script-maker/glyphs",iconName:"arrow-left",children:"Back to Gallery"})}),f.jsxs("h2",{className:ri.underlineHighlightColorPrimary,children:["Edit Glyph: ",I.name]}),h&&f.jsx("div",{className:Lr.errorMessage,children:h}),f.jsxs(da,{...O,registerField:l,unregisterField:c,isFormValid:d,className:Z(pe.flexCol,pe.flexGapM),children:[f.jsx(fN,{registerField:l,mode:"edit",initialData:I}),f.jsxs("div",{className:Z(pe.flex,pe.flexGapM,Lr.buttonRow),children:[f.jsx($e,{className:Z(ht.primary),type:"submit",disabled:v,children:v?"Saving...":"Save Changes"}),f.jsx($e,{className:Z(ht.secondary),type:"button",onClick:()=>t("/script-maker/glyphs"),children:"Cancel"}),f.jsx($e,{className:Z(ht.danger,Lr.deleteButton),type:"button",iconName:"trash",onClick:()=>T(!0),children:"Delete"})]})]}),f.jsx(cr,{isOpen:b,setIsOpen:T,onClose:()=>T(!1),allowClose:!S,children:f.jsxs("div",{className:Lr.modalContent,children:[f.jsx("h2",{style:{marginTop:0},children:"Delete Glyph"}),f.jsxs("p",{children:['Are you sure you want to delete "',I.name,'"?']}),j.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("p",{className:Lr.warningText,children:" The following grapheme(s) use this glyph and will also be deleted:"}),f.jsx("div",{className:Lr.graphemeList,children:j.map(W=>f.jsx(Qv,{graphemeData:W},W.id))})]}),f.jsxs("div",{className:Z(pe.flex,pe.flexGapM,Lr.modalButtons),children:[f.jsx(gt,{onClick:()=>T(!1),disabled:S,children:"Cancel"}),f.jsx(gt,{onClick:B,disabled:S,style:{background:"var(--danger)",color:"white"},children:S?"Deleting...":"Delete Glyph"})]})]})})]}):f.jsxs("div",{className:Lr.pageContainer,children:[f.jsx("p",{className:Lr.errorMessage,children:"Glyph not found"}),f.jsx($e,{as:jt,to:"/script-maker/glyphs",iconName:"arrow-left",children:"Back to Gallery"})]})}const gX="_tooltipWrapper_1i3f7_5",yX="_cell_1i3f7_11",vX="_small_1i3f7_20",xX="_medium_1i3f7_25",_X="_large_1i3f7_30",wX="_vowel_1i3f7_35",bX="_glyphDisplay_1i3f7_41",EX="_clickable_1i3f7_49",SX="_assigned_1i3f7_62",CX="_unassigned_1i3f7_70",TX="_ipaText_1i3f7_80",NX="_loading_1i3f7_83",kX="_glyphContainer_1i3f7_93",RX="_loadingIndicator_1i3f7_117",AX="_pulse_1i3f7_1",Ui={tooltipWrapper:gX,cell:yX,small:vX,medium:xX,large:_X,vowel:wX,glyphDisplay:bX,clickable:EX,assigned:SX,unassigned:CX,ipaText:TX,loading:NX,glyphContainer:kX,loadingIndicator:RX,pulse:AX};function wy({ipa:e,grapheme:t,onClick:n,isLoading:r=!1,className:i,size:o="medium",description:l}){const c=!!(t&&t.glyphs.length>0),u=()=>{n&&!r&&n(e,t)},d=v=>{(v.key==="Enter"||v.key===" ")&&n&&!r&&(v.preventDefault(),n(e,t))},h=y.useMemo(()=>{const v=[];return l&&v.push(l),c?v.push(`Grapheme: ${t.name}`):v.push("Click to create grapheme"),v.join(`
`)},[l,c,t]),m=f.jsx("div",{className:Z(Ui.cell,Ui[o],{[Ui.assigned]:c,[Ui.unassigned]:!c,[Ui.loading]:r,[Ui.clickable]:!!n},i),onClick:u,onKeyDown:d,role:"button",tabIndex:n?0:-1,"aria-label":`${e}${l?`: ${l}`:""}`,children:r?f.jsx("div",{className:Ui.loadingIndicator,children:"..."}):c?f.jsx("div",{className:Ui.glyphContainer,children:f.jsx(Ms,{glyphs:t.glyphs,strategy:"ltr",config:{glyphWidth:40,glyphHeight:40,spacing:0,padding:0},showVirtualGlyphStyling:!1,className:Ui.glyphDisplay})}):f.jsx("span",{className:Ui.ipaText,children:e})});return h?f.jsx(Nt,{content:h,className:Ui.tooltipWrapper,children:m}):m}const dg=[{key:"bilabial",label:"Bilabial",abbr:"Bilab."},{key:"labiodental",label:"Labio-dental",abbr:"Lab-dent."},{key:"dental",label:"Dental",abbr:"Dent."},{key:"alveolar",label:"Alveolar",abbr:"Alv."},{key:"postalveolar",label:"Post-alveolar",abbr:"Post-alv."},{key:"retroflex",label:"Retroflex",abbr:"Retrofl."},{key:"palatal",label:"Palatal",abbr:"Pal."},{key:"velar",label:"Velar",abbr:"Vel."},{key:"uvular",label:"Uvular",abbr:"Uvu."},{key:"pharyngeal",label:"Pharyngeal",abbr:"Phar."},{key:"glottal",label:"Glottal",abbr:"Glot."}],p1=[{key:"plosive",label:"Plosive"},{key:"nasal",label:"Nasal"},{key:"trill",label:"Trill"},{key:"tap",label:"Tap or Flap"},{key:"fricative",label:"Fricative"},{key:"lateral_fricative",label:"Lateral fricative"},{key:"approximant",label:"Approximant"},{key:"lateral_approximant",label:"Lateral approximant"}],Jv={plosive:{bilabial:{voiceless:"p",voiced:"b"},labiodental:{voiceless:null,voiced:null},dental:{voiceless:null,voiced:null},alveolar:{voiceless:"t",voiced:"d"},postalveolar:{voiceless:null,voiced:null},retroflex:{voiceless:"",voiced:""},palatal:{voiceless:"c",voiced:""},velar:{voiceless:"k",voiced:"g"},uvular:{voiceless:"q",voiced:""},pharyngeal:{voiceless:null,voiced:null},glottal:{voiceless:"",voiced:null}},nasal:{bilabial:{voiceless:null,voiced:"m"},labiodental:{voiceless:null,voiced:""},dental:{voiceless:null,voiced:null},alveolar:{voiceless:null,voiced:"n"},postalveolar:{voiceless:null,voiced:null},retroflex:{voiceless:null,voiced:""},palatal:{voiceless:null,voiced:""},velar:{voiceless:null,voiced:""},uvular:{voiceless:null,voiced:""},pharyngeal:{voiceless:null,voiced:null},glottal:{voiceless:null,voiced:null}},trill:{bilabial:{voiceless:null,voiced:""},labiodental:{voiceless:null,voiced:null},dental:{voiceless:null,voiced:null},alveolar:{voiceless:null,voiced:"r"},postalveolar:{voiceless:null,voiced:null},retroflex:{voiceless:null,voiced:null},palatal:{voiceless:null,voiced:null},velar:{voiceless:null,voiced:null},uvular:{voiceless:null,voiced:""},pharyngeal:{voiceless:null,voiced:null},glottal:{voiceless:null,voiced:null}},tap:{bilabial:{voiceless:null,voiced:null},labiodental:{voiceless:null,voiced:""},dental:{voiceless:null,voiced:null},alveolar:{voiceless:null,voiced:""},postalveolar:{voiceless:null,voiced:null},retroflex:{voiceless:null,voiced:""},palatal:{voiceless:null,voiced:null},velar:{voiceless:null,voiced:null},uvular:{voiceless:null,voiced:null},pharyngeal:{voiceless:null,voiced:null},glottal:{voiceless:null,voiced:null}},fricative:{bilabial:{voiceless:"",voiced:""},labiodental:{voiceless:"f",voiced:"v"},dental:{voiceless:"",voiced:""},alveolar:{voiceless:"s",voiced:"z"},postalveolar:{voiceless:"",voiced:""},retroflex:{voiceless:"",voiced:""},palatal:{voiceless:"",voiced:""},velar:{voiceless:"x",voiced:""},uvular:{voiceless:"",voiced:""},pharyngeal:{voiceless:"",voiced:""},glottal:{voiceless:"h",voiced:""}},lateral_fricative:{bilabial:{voiceless:null,voiced:null},labiodental:{voiceless:null,voiced:null},dental:{voiceless:null,voiced:null},alveolar:{voiceless:"",voiced:""},postalveolar:{voiceless:null,voiced:null},retroflex:{voiceless:null,voiced:null},palatal:{voiceless:null,voiced:null},velar:{voiceless:null,voiced:null},uvular:{voiceless:null,voiced:null},pharyngeal:{voiceless:null,voiced:null},glottal:{voiceless:null,voiced:null}},approximant:{bilabial:{voiceless:null,voiced:null},labiodental:{voiceless:null,voiced:""},dental:{voiceless:null,voiced:null},alveolar:{voiceless:null,voiced:""},postalveolar:{voiceless:null,voiced:null},retroflex:{voiceless:null,voiced:""},palatal:{voiceless:null,voiced:"j"},velar:{voiceless:null,voiced:""},uvular:{voiceless:null,voiced:null},pharyngeal:{voiceless:null,voiced:null},glottal:{voiceless:null,voiced:null}},lateral_approximant:{bilabial:{voiceless:null,voiced:null},labiodental:{voiceless:null,voiced:null},dental:{voiceless:null,voiced:null},alveolar:{voiceless:null,voiced:"l"},postalveolar:{voiceless:null,voiced:null},retroflex:{voiceless:null,voiced:""},palatal:{voiceless:null,voiced:""},velar:{voiceless:null,voiced:""},uvular:{voiceless:null,voiced:null},pharyngeal:{voiceless:null,voiced:null},glottal:{voiceless:null,voiced:null}}},jX={front:{close:{x:10,y:5},"near-close":{x:15,y:18},"close-mid":{x:20,y:31},mid:{x:25,y:44},"open-mid":{x:30,y:57},"near-open":{x:35,y:70},open:{x:40,y:95}},central:{close:{x:50,y:5},"near-close":{x:50,y:18},"close-mid":{x:50,y:31},mid:{x:50,y:44},"open-mid":{x:50,y:57},"near-open":{x:50,y:70},open:{x:50,y:95}},back:{close:{x:90,y:5},"near-close":{x:85,y:18},"close-mid":{x:80,y:31},mid:{x:75,y:44},"open-mid":{x:70,y:57},"near-open":{x:65,y:70},open:{x:60,y:95}}},vN=[{ipa:"i",height:"close",backness:"front",rounded:!1,name:"Close front unrounded"},{ipa:"y",height:"close",backness:"front",rounded:!0,name:"Close front rounded"},{ipa:"",height:"close",backness:"central",rounded:!1,name:"Close central unrounded"},{ipa:"",height:"close",backness:"central",rounded:!0,name:"Close central rounded"},{ipa:"",height:"close",backness:"back",rounded:!1,name:"Close back unrounded"},{ipa:"u",height:"close",backness:"back",rounded:!0,name:"Close back rounded"},{ipa:"",height:"near-close",backness:"front",rounded:!1,name:"Near-close front unrounded"},{ipa:"",height:"near-close",backness:"front",rounded:!0,name:"Near-close front rounded"},{ipa:"",height:"near-close",backness:"back",rounded:!0,name:"Near-close back rounded"},{ipa:"e",height:"close-mid",backness:"front",rounded:!1,name:"Close-mid front unrounded"},{ipa:"",height:"close-mid",backness:"front",rounded:!0,name:"Close-mid front rounded"},{ipa:"",height:"close-mid",backness:"central",rounded:!1,name:"Close-mid central unrounded"},{ipa:"",height:"close-mid",backness:"central",rounded:!0,name:"Close-mid central rounded"},{ipa:"",height:"close-mid",backness:"back",rounded:!1,name:"Close-mid back unrounded"},{ipa:"o",height:"close-mid",backness:"back",rounded:!0,name:"Close-mid back rounded"},{ipa:"",height:"mid",backness:"central",rounded:!1,name:"Mid central (schwa)"},{ipa:"",height:"open-mid",backness:"front",rounded:!1,name:"Open-mid front unrounded"},{ipa:"",height:"open-mid",backness:"front",rounded:!0,name:"Open-mid front rounded"},{ipa:"",height:"open-mid",backness:"central",rounded:!1,name:"Open-mid central unrounded"},{ipa:"",height:"open-mid",backness:"central",rounded:!0,name:"Open-mid central rounded"},{ipa:"",height:"open-mid",backness:"back",rounded:!1,name:"Open-mid back unrounded"},{ipa:"",height:"open-mid",backness:"back",rounded:!0,name:"Open-mid back rounded"},{ipa:"",height:"near-open",backness:"front",rounded:!1,name:"Near-open front unrounded"},{ipa:"",height:"near-open",backness:"central",rounded:!1,name:"Near-open central"},{ipa:"a",height:"open",backness:"front",rounded:!1,name:"Open front unrounded"},{ipa:"",height:"open",backness:"front",rounded:!0,name:"Open front rounded"},{ipa:"",height:"open",backness:"back",rounded:!1,name:"Open back unrounded"},{ipa:"",height:"open",backness:"back",rounded:!0,name:"Open back rounded"}];function IX(e){return jX[e.backness][e.height]}const Pa=[{key:"close",label:"Close"},{key:"near-close",label:"Near-close"},{key:"close-mid",label:"Close-mid"},{key:"mid",label:"Mid"},{key:"open-mid",label:"Open-mid"},{key:"near-open",label:"Near-open"},{key:"open",label:"Open"}],PX=[{key:"front",label:"Front"},{key:"central",label:"Central"},{key:"back",label:"Back"}],LX=[{ipa:"ts",voiceless:!0,description:"Voiceless alveolar affricate"},{ipa:"dz",voiceless:!1,description:"Voiced alveolar affricate"},{ipa:"t",voiceless:!0,description:"Voiceless postalveolar affricate"},{ipa:"d",voiceless:!1,description:"Voiced postalveolar affricate"},{ipa:"",voiceless:!0,description:"Voiceless retroflex affricate"},{ipa:"",voiceless:!1,description:"Voiced retroflex affricate"},{ipa:"t",voiceless:!0,description:"Voiceless alveolo-palatal affricate"},{ipa:"d",voiceless:!1,description:"Voiced alveolo-palatal affricate"},{ipa:"t",voiceless:!0,description:"Voiceless alveolar lateral affricate"},{ipa:"d",voiceless:!1,description:"Voiced alveolar lateral affricate"}],OX=[{ipa:"",description:"Bilabial click"},{ipa:"",description:"Dental click"},{ipa:"",description:"Alveolar click"},{ipa:"",description:"Palatoalveolar click"},{ipa:"",description:"Alveolar lateral click"}],MX=[{ipa:"",description:"Voiced bilabial implosive"},{ipa:"",description:"Voiced alveolar implosive"},{ipa:"",description:"Voiced palatal implosive"},{ipa:"",description:"Voiced velar implosive"},{ipa:"",description:"Voiced uvular implosive"}];function DX(e,t){const n=Jv[e][t];return n.voiceless===null&&n.voiced===null?[["plosive","labiodental"],["plosive","pharyngeal"],["nasal","pharyngeal"],["nasal","glottal"],["trill","glottal"],["tap","glottal"],["lateral_fricative","bilabial"],["lateral_fricative","labiodental"],["lateral_fricative","pharyngeal"],["lateral_fricative","glottal"],["lateral_approximant","bilabial"],["lateral_approximant","labiodental"],["lateral_approximant","pharyngeal"],["lateral_approximant","glottal"]].some(([i,o])=>i===e&&o===t):!1}const FX="_consonantChart_9hw1x_5",$X="_chartTitle_9hw1x_11",BX="_tableWrapper_9hw1x_18",VX="_table_9hw1x_18",UX="_cornerCell_9hw1x_34",zX="_columnHeader_9hw1x_40",WX="_rowHeader_9hw1x_58",GX="_consonantCell_9hw1x_68",HX="_cellPair_9hw1x_73",YX="_cellHalf_9hw1x_81",XX="_emptyHalf_9hw1x_88",qX="_emptySound_9hw1x_93",KX="_emptyCell_9hw1x_99",ZX="_impossibleCell_9hw1x_103",QX="_shadedArea_9hw1x_107",JX="_legend_9hw1x_114",eq="_legendItem_9hw1x_123",tq="_legendVoiceless_9hw1x_129",nq="_legendVoiced_9hw1x_134",rq="_legendShaded_9hw1x_139",Vt={consonantChart:FX,chartTitle:$X,tableWrapper:BX,table:VX,cornerCell:UX,columnHeader:zX,rowHeader:WX,consonantCell:GX,cellPair:HX,cellHalf:YX,emptyHalf:XX,emptySound:qX,emptyCell:KX,impossibleCell:ZX,shadedArea:QX,legend:JX,legendItem:eq,legendVoiceless:tq,legendVoiced:nq,legendShaded:rq};function iq({phonemeMap:e,onCellClick:t,isLoading:n=!1,className:r,compact:i=!1}){const o=y.useCallback(d=>d?e.get(d)??null:null,[e]),l=y.useCallback((d,h,m)=>{const v=m?"Voiced":"Voiceless",x=p1.find(b=>b.key===d)?.label||d,w=dg.find(b=>b.key===h)?.label||h;return`${v} ${w.toLowerCase()} ${x.toLowerCase()}`},[]),c=y.useCallback((d,h)=>{const m=Jv[d][h];return DX(d,h)?f.jsx("td",{className:Vt.impossibleCell,children:f.jsx("div",{className:Vt.shadedArea})},`${d}-${h}`):!m.voiceless&&!m.voiced?f.jsx("td",{className:Vt.emptyCell,children:f.jsxs("div",{className:Vt.cellPair,children:[f.jsx("div",{className:Vt.emptyHalf}),f.jsx("div",{className:Vt.emptyHalf})]})},`${d}-${h}`):f.jsx("td",{className:Vt.consonantCell,children:f.jsxs("div",{className:Vt.cellPair,children:[f.jsx("div",{className:Vt.cellHalf,children:m.voiceless?f.jsx(wy,{ipa:m.voiceless,grapheme:o(m.voiceless),onClick:t,isLoading:n,size:"small",description:l(d,h,!1)}):f.jsx("span",{className:Vt.emptySound})}),f.jsx("div",{className:Vt.cellHalf,children:m.voiced?f.jsx(wy,{ipa:m.voiced,grapheme:o(m.voiced),onClick:t,isLoading:n,size:"small",description:l(d,h,!0)}):f.jsx("span",{className:Vt.emptySound})})]})},`${d}-${h}`)},[o,t,n,l]),u=y.useMemo(()=>p1.map(d=>f.jsxs("tr",{children:[f.jsx("th",{className:Vt.rowHeader,scope:"row",children:d.label}),dg.map(h=>c(d.key,h.key))]},d.key)),[c]);return f.jsxs("div",{className:Z(Vt.consonantChart,r),children:[f.jsx("h3",{className:Vt.chartTitle,children:"Consonants (Pulmonic)"}),f.jsx("div",{className:Vt.tableWrapper,children:f.jsxs("table",{className:Vt.table,children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:Vt.cornerCell}),dg.map(d=>f.jsx("th",{className:Vt.columnHeader,scope:"col",title:d.label,children:i&&d.abbr||d.label},d.key))]})}),f.jsx("tbody",{children:u})]})}),f.jsxs("div",{className:Vt.legend,children:[f.jsxs("span",{className:Vt.legendItem,children:[f.jsx("span",{className:Vt.legendVoiceless,children:""})," Voiceless"]}),f.jsxs("span",{className:Vt.legendItem,children:[f.jsx("span",{className:Vt.legendVoiced,children:""})," Voiced"]}),f.jsxs("span",{className:Vt.legendItem,children:[f.jsx("span",{className:Vt.legendShaded})," Impossible"]})]})]})}const sq="_vowelChart_qckgp_5",oq="_chartTitle_qckgp_11",aq="_chartContainer_qckgp_18",lq="_vowelSvg_qckgp_26",cq="_trapezoidOutline_qckgp_31",uq="_guideLine_qckgp_37",dq="_axisLabel_qckgp_43",fq="_heightLabel_qckgp_49",pq="_vowelGroup_qckgp_55",hq="_vowelForeignObject_qckgp_59",mq="_pairLine_qckgp_63",gq="_legend_qckgp_68",yq="_legendItem_qckgp_74",Or={vowelChart:sq,chartTitle:oq,chartContainer:aq,vowelSvg:lq,trapezoidOutline:cq,guideLine:uq,axisLabel:dq,heightLabel:fq,vowelGroup:pq,vowelForeignObject:hq,pairLine:mq,legend:gq,legendItem:yq};function vq({phonemeMap:e,onCellClick:t,isLoading:n=!1,className:r}){const i=y.useCallback(c=>e.get(c)??null,[e]),o=y.useMemo(()=>{const c=new Map;for(const u of vN){const d=`${u.height}-${u.backness}`;c.has(d)||c.set(d,[]),c.get(d).push(u)}for(const[u,d]of c)d.sort((h,m)=>h.rounded===m.rounded?0:h.rounded?1:-1);return c},[]),l=y.useMemo(()=>{const c=[];for(const[d,h]of o){const m=IX(h[0]),v={x:m.x*6,y:m.y*6},x=h.length===2,w=x?26:0;h.forEach((b,T)=>{const S=x?T===0?-w:w:0;c.push(f.jsx("g",{transform:`translate(${v.x+S}, ${v.y})`,className:Or.vowelGroup,children:f.jsx("foreignObject",{x:-48/2,y:-48/2,width:48,height:48,className:Or.vowelForeignObject,children:f.jsx(wy,{ipa:b.ipa,grapheme:i(b.ipa),onClick:t,isLoading:n,size:"vowel",description:b.name})})},b.ipa))}),x&&c.push(f.jsx("line",{x1:v.x-w+48/2+2,y1:v.y,x2:v.x+w-48/2-2,y2:v.y,className:Or.pairLine},`${d}-line`))}return c},[o,i,t,n]);return f.jsxs("div",{className:Z(Or.vowelChart,r),children:[f.jsx("h3",{className:Or.chartTitle,children:"Vowels"}),f.jsx("div",{className:Or.chartContainer,children:f.jsxs("svg",{viewBox:"0 0 600 600",className:Or.vowelSvg,preserveAspectRatio:"xMidYMid meet",children:[f.jsx("defs",{children:f.jsx("marker",{id:"arrowhead",markerWidth:"5",markerHeight:"3.5",refX:"0",refY:"1.75",orient:"auto",children:f.jsx("polygon",{points:"0 0, 5 1.75, 0 3.5",fill:"var(--text-muted, #666)"})})}),f.jsx("path",{d:`
                            M 60 30
                            L 540 30
                            L 360 570
                            L 240 570
                            Z
                        `,className:Or.trapezoidOutline}),Pa.map((c,u)=>{const d=30+u*540/(Pa.length-1),h=60+u*180/(Pa.length-1),m=540-u*180/(Pa.length-1);return f.jsx("g",{children:f.jsx("line",{x1:h,y1:d,x2:m,y2:d,className:Or.guideLine})},c.key)}),f.jsx("line",{x1:300,y1:30,x2:300,y2:570,className:Or.guideLine}),PX.map((c,u)=>{const d=[90,300,510];return f.jsx("text",{x:d[u],y:18,className:Or.axisLabel,textAnchor:"middle",children:c.label},c.key)}),Pa.map((c,u)=>{const d=30+u*540/(Pa.length-1),h=60+u*180/(Pa.length-1);return f.jsx("text",{x:h-8,y:d+4,className:Or.heightLabel,textAnchor:"end",children:c.label},c.key)}),l]})}),f.jsx("div",{className:Or.legend,children:f.jsx("span",{className:Or.legendItem,children:"Unrounded  Rounded pairs connected by line"})})]})}const xq="_container_ogk3k_4",_q="_canvas_ogk3k_20",wq="_chartsLayout_ogk3k_25",bq="_consonantChart_ogk3k_36",Eq="_vowelChart_ogk3k_41",nu={container:xq,canvas:_q,chartsLayout:wq,consonantChart:bq,vowelChart:Eq};function Sq({phonemeMap:e,onCellClick:t,isLoading:n=!1,className:r}){const i=y.useRef(null);return f.jsx("div",{className:Z(nu.container,r),children:f.jsx(Pp,{ref:i,minScale:.3,maxScale:2,showControls:!0,contentDimensions:{initialPosition:"top",autoFit:{enabled:!0,axis:"width",padding:16,refitOnResize:!0}},doubleClickMode:"disabled",controlsPosition:"bottom-right",ariaLabel:"IPA Chart - International Phonetic Alphabet",className:nu.canvas,children:f.jsxs("div",{className:nu.chartsLayout,children:[f.jsx(iq,{phonemeMap:e,onCellClick:t,isLoading:n,className:nu.consonantChart}),f.jsx(vq,{phonemeMap:e,onCellClick:t,isLoading:n,className:nu.vowelChart})]})})})}const Cq=["close","near-close","close-mid","mid","open-mid","near-open","open"];function fg(e){return Cq.flatMap(t=>vN.filter(n=>n.backness===e&&n.height===t).map(n=>n.ipa))}const xN=[{backness:"front",label:"Front",vowels:fg("front")},{backness:"central",label:"Central",vowels:fg("central")},{backness:"back",label:"Back",vowels:fg("back")}],wf=xN.flatMap(e=>e.vowels);function Mo(e){const t=["bilabial","labiodental","dental","alveolar","postalveolar","retroflex","palatal","velar","uvular","pharyngeal","glottal"],n=[];for(const r of t){const i=Jv[e][r];i.voiceless&&n.push(i.voiceless),i.voiced&&n.push(i.voiced)}return n}const Tq=[{label:"Plosives",consonants:Mo("plosive")},{label:"Nasals",consonants:Mo("nasal")},{label:"Trills",consonants:Mo("trill")},{label:"Taps",consonants:Mo("tap")},{label:"Fricatives",consonants:Mo("fricative")},{label:"Lateral Fricatives",consonants:Mo("lateral_fricative")},{label:"Approximants",consonants:Mo("approximant")},{label:"Lateral Approximants",consonants:Mo("lateral_approximant")},{label:"Affricates",consonants:LX.map(e=>e.ipa)},{label:"Clicks",consonants:OX.map(e=>e.ipa)},{label:"Implosives",consonants:MX.map(e=>e.ipa)}];function Nq(e,t){return e+t}const kq="_syllabaryChart_3o2a6_8",Rq="_chartTitle_3o2a6_14",Aq="_table_3o2a6_21",jq="_cornerCell_3o2a6_32",Iq="_backnessHeader_3o2a6_38",Pq="_columnHeader_3o2a6_49",Lq="_rowHeader_3o2a6_60",Oq="_groupSeparator_3o2a6_71",Mq="_syllableCell_3o2a6_83",Dq="_assigned_3o2a6_97",Fq="_cellIpa_3o2a6_102",$q="_cellAssigned_3o2a6_113",Bq="_glyphDisplay_3o2a6_121",Vq="_vowelRow_3o2a6_137",Bn={syllabaryChart:kq,chartTitle:Rq,table:Aq,cornerCell:jq,backnessHeader:Iq,columnHeader:Pq,rowHeader:Lq,groupSeparator:Oq,syllableCell:Mq,assigned:Dq,cellIpa:Fq,cellAssigned:$q,glyphDisplay:Bq,vowelRow:Vq};function h1({ipa:e,grapheme:t}){return t&&t.glyphs.length>0?f.jsx("div",{className:Bn.cellAssigned,children:f.jsx(Ms,{glyphs:t.glyphs,strategy:"ltr",config:{glyphWidth:32,glyphHeight:32,spacing:0,padding:0},showVirtualGlyphStyling:!1,className:Bn.glyphDisplay})}):f.jsx("span",{className:Bn.cellIpa,children:e})}function Uq({phonemeMap:e,onCellClick:t,isLoading:n=!1,className:r}){const i=y.useCallback(c=>{if(!t||n)return;let u=c.target;for(;u&&u.tagName!=="TBODY";){if(u.tagName==="TD"&&u.dataset.ipa){const d=u.dataset.ipa,h=e.get(d)??null;t(d,h);return}u=u.parentElement}},[t,n,e]),o=y.useMemo(()=>{const c=[];c.push(f.jsxs("tr",{className:Bn.vowelRow,children:[f.jsx("th",{className:Bn.rowHeader,scope:"row",title:"Vowels only (no consonant)",children:""}),wf.map(u=>{const d=e.get(u)??null;return f.jsx("td",{"data-ipa":u,className:Z(Bn.syllableCell,d&&Bn.assigned),children:f.jsx(h1,{ipa:u,grapheme:d})},u)})]},"vowel-only"));for(const u of Tq)if(u.consonants.length!==0){c.push(f.jsx("tr",{className:Bn.groupSeparator,children:f.jsx("td",{colSpan:wf.length+1,children:u.label})},`group-${u.label}`));for(const d of u.consonants)c.push(f.jsxs("tr",{children:[f.jsx("th",{className:Bn.rowHeader,scope:"row",title:d,children:d}),wf.map(h=>{const m=Nq(d,h),v=e.get(m)??null;return f.jsx("td",{"data-ipa":m,className:Z(Bn.syllableCell,v&&Bn.assigned),children:f.jsx(h1,{ipa:m,grapheme:v})},h)})]},`row-${d}`))}return c},[e]),l=y.useMemo(()=>xN.map(c=>f.jsx("th",{className:Bn.backnessHeader,colSpan:c.vowels.length,scope:"colgroup",children:c.label},c.backness)),[]);return f.jsxs("div",{className:Z(Bn.syllabaryChart,r),children:[f.jsx("h3",{className:Bn.chartTitle,children:"Syllabary (CV)"}),f.jsxs("table",{className:Bn.table,children:[f.jsxs("thead",{children:[f.jsxs("tr",{children:[f.jsx("th",{className:Bn.cornerCell}),l]}),f.jsxs("tr",{children:[f.jsx("th",{className:Bn.cornerCell}),wf.map(c=>f.jsx("th",{className:Bn.columnHeader,scope:"col",title:c,children:c},c))]})]}),f.jsx("tbody",{onClick:i,children:o})]})]})}const zq="_container_6y9wa_5",Wq="_nav_6y9wa_12",Gq="_pageTitle_6y9wa_16",Hq="_description_6y9wa_21",Yq="_statsBar_6y9wa_29",Xq="_stat_6y9wa_29",qq="_chartCanvas_6y9wa_45",Kq="_infoSection_6y9wa_51",Zq="_loading_6y9wa_79",Qq="_error_6y9wa_80",Jq="_loadingText_6y9wa_87",eK="_errorText_6y9wa_92",Mr={container:zq,nav:Wq,pageTitle:Gq,description:Hq,statsBar:Yq,stat:Xq,chartCanvas:qq,infoSection:Kq,loading:Zq,error:Qq,loadingText:Jq,errorText:eK};function tK(){const e=Qn(),{api:t,isLoading:n,error:r}=hn(),i=y.useMemo(()=>n?null:t.grapheme.getPhonemeMap(),[t,n]),o=y.useMemo(()=>!i?.success||!i.data?new Map:i.data,[i]),l=y.useCallback((c,u)=>{e(u?`/script-maker/grapheme/db/${u.id}`:`/script-maker/create?phoneme=${encodeURIComponent(c)}`)},[e]);return n?f.jsx("div",{className:Z(Mr.container,Mr.loading),children:f.jsx("div",{className:Mr.loadingText,children:"Loading IPA Chart..."})}):r?f.jsx("div",{className:Z(Mr.container,Mr.error),children:f.jsxs("div",{className:Mr.errorText,children:["Failed to load chart: ",r.message]})}):f.jsxs("div",{className:Mr.container,children:[f.jsx("nav",{className:Z(pe.flexRow,pe.flexGapM,Mr.nav),children:f.jsx($e,{as:jt,to:"/script-maker",iconName:"arrow-left",children:"Back to Graphemes"})}),f.jsx("h2",{className:Z(ri.underlineHighlightColorPrimary,Mr.pageTitle),children:"IPA Chart"}),f.jsx("p",{className:Mr.description,children:"Click on an IPA character to create or edit its associated grapheme. Assigned sounds show their grapheme glyphs; unassigned sounds appear grayed out."}),f.jsx("div",{className:Mr.statsBar,children:f.jsxs("span",{className:Mr.stat,children:[f.jsx("strong",{children:o.size})," IPA sounds assigned"]})}),f.jsx(Sq,{phonemeMap:o,onCellClick:l,isLoading:n,className:Mr.chartCanvas}),f.jsxs("div",{className:Mr.infoSection,children:[f.jsx("h4",{children:"Understanding the IPA Chart"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Consonants:"})," Organized by place of articulation (columns) and manner of articulation (rows). Each cell shows voiceless/voiced pairs."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Vowels:"})," Positioned on a trapezoid by height (vertical) and backness (horizontal). Pairs show unrounded and rounded variants."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Shaded cells:"})," Indicate physically impossible sounds."]})]})]})]})}const nK="_container_kamfq_5",rK="_nav_kamfq_12",iK="_pageTitle_kamfq_16",sK="_description_kamfq_21",oK="_statsBar_kamfq_29",aK="_stat_kamfq_29",lK="_chartCanvas_kamfq_45",cK="_chartContent_kamfq_63",uK="_infoSection_kamfq_72",dK="_loading_kamfq_100",fK="_error_kamfq_101",pK="_loadingText_kamfq_108",hK="_errorText_kamfq_113",yr={container:nK,nav:rK,pageTitle:iK,description:sK,statsBar:oK,stat:aK,chartCanvas:lK,chartContent:cK,infoSection:uK,loading:dK,error:fK,loadingText:pK,errorText:hK};function mK(){const e=Qn(),t=y.useRef(null),{api:n,isLoading:r,error:i}=hn(),o=y.useMemo(()=>r?null:n.grapheme.getPhonemeMap(),[n,r]),l=y.useMemo(()=>!o?.success||!o.data?new Map:o.data,[o]),c=y.useCallback((u,d)=>{e(d?`/script-maker/grapheme/db/${d.id}`:`/script-maker/create?phoneme=${encodeURIComponent(u)}`)},[e]);return r?f.jsx("div",{className:Z(yr.container,yr.loading),children:f.jsx("div",{className:yr.loadingText,children:"Loading Syllabary Chart..."})}):i?f.jsx("div",{className:Z(yr.container,yr.error),children:f.jsxs("div",{className:yr.errorText,children:["Failed to load chart: ",i.message]})}):f.jsxs("div",{className:yr.container,children:[f.jsx("nav",{className:Z(pe.flexRow,pe.flexGapM,yr.nav),children:f.jsx($e,{as:jt,to:"/script-maker",iconName:"arrow-left",children:"Back to Graphemes"})}),f.jsx("h2",{className:Z(ri.underlineHighlightColorPrimary,yr.pageTitle),children:"Syllabary Chart"}),f.jsx("p",{className:yr.description,children:"A CV (consonant + vowel) syllabary grid. Rows are consonants grouped by manner of articulation; columns are vowels grouped by backness. Click any cell to create or edit a grapheme for that syllable."}),f.jsx("div",{className:yr.statsBar,children:f.jsxs("span",{className:yr.stat,children:[f.jsx("strong",{children:l.size})," phonemes assigned"]})}),f.jsx("div",{className:yr.chartCanvas,children:f.jsx(Pp,{ref:t,minScale:.2,maxScale:2,showControls:!0,contentDimensions:{initialPosition:"top",autoFit:{enabled:!0,axis:"width",padding:16,refitOnResize:!0}},doubleClickMode:"disabled",controlsPosition:"bottom-right",ariaLabel:"Syllabary Chart - CV syllable grid",children:f.jsx("div",{className:yr.chartContent,children:f.jsx(Uq,{phonemeMap:l,onCellClick:c,isLoading:r})})})}),f.jsxs("div",{className:yr.infoSection,children:[f.jsx("h4",{children:"How to Read This Chart"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Rows:"})," Each row is a consonant, grouped by manner of articulation (plosives, nasals, fricatives, etc.)."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Columns:"})," Each column is a vowel, grouped by backness (front, central, back)."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Cells:"}),' Each cell represents a CV syllable (e.g. row "k" + column "a" = "ka"). Assigned syllables show their grapheme glyphs; unassigned ones appear grayed out.']}),f.jsxs("li",{children:[f.jsx("strong",{children:" row:"})," The top row shows standalone vowels with no consonant prefix."]})]})]})]})}const gK="_cell_1w8oa_1",yK="_hidden_1w8oa_7",vK="_symbolColumn_1w8oa_11",xK="_symbol_1w8oa_11",_K="_labelColumn_1w8oa_28",wK="_labelContent_1w8oa_33",bK="_label_1w8oa_28",EK="_description_1w8oa_45",SK="_displayColumn_1w8oa_50",CK="_glyphDisplay_1w8oa_56",TK="_virtualIndicator_1w8oa_63",NK="_virtualSymbol_1w8oa_74",kK="_virtualText_1w8oa_80",RK="_hiddenIndicator_1w8oa_87",AK="_hiddenIcon_1w8oa_99",jK="_hiddenText_1w8oa_104",IK="_loading_1w8oa_111",PK="_statusColumn_1w8oa_117",LK="_statusBadge_1w8oa_123",OK="_assigned_1w8oa_132",MK="_virtual_1w8oa_63",DK="_actionsColumn_1w8oa_145",FK="_actions_1w8oa_145",$K="_actionButton_1w8oa_157",BK="_activeNoGlyph_1w8oa_162",Ut={cell:gK,hidden:yK,symbolColumn:vK,symbol:xK,labelColumn:_K,labelContent:wK,label:bK,description:EK,displayColumn:SK,glyphDisplay:CK,virtualIndicator:TK,virtualSymbol:NK,virtualText:kK,hiddenIndicator:RK,hiddenIcon:AK,hiddenText:jK,loading:IK,statusColumn:PK,statusBadge:LK,assigned:OK,virtual:MK,actionsColumn:DK,actions:FK,actionButton:$K,activeNoGlyph:BK};function VK({mark:e,config:t,grapheme:n,onAssign:r,onToggleNoGlyph:i,onClear:o,isLoading:l=!1,className:c}){const u=!!(n&&n.glyphs.length>0),d=t.useNoGlyph,h=y.useMemo(()=>d?"hidden":u?"assigned":"virtual",[d,u]),m=()=>{r&&!l&&r(e.key)},v=()=>{i&&!l&&i(e.key,!d)},x=()=>{o&&!l&&o(e.key)},w=d?"Click to show this punctuation mark":"Click to hide this punctuation mark (no glyph)",b=y.useMemo(()=>{switch(h){case"hidden":return"Hidden - will not be rendered";case"assigned":return`Using grapheme: ${n.name}`;case"virtual":return"Using virtual glyph (dashed box)"}},[h,n]);return f.jsxs("tr",{className:Z(Ut.cell,Ut[h],c),children:[f.jsx("td",{className:Ut.symbolColumn,children:f.jsx(Nt,{content:e.englishEquivalent,children:f.jsx("span",{className:Ut.symbol,children:e.symbol})})}),f.jsx("td",{className:Ut.labelColumn,children:f.jsxs("div",{className:Ut.labelContent,children:[f.jsx("span",{className:Ut.label,children:e.label}),f.jsx("span",{className:Ut.description,children:e.description})]})}),f.jsx("td",{className:Ut.displayColumn,children:l?f.jsx("div",{className:Ut.loading,children:"Loading..."}):h==="hidden"?f.jsxs("div",{className:Ut.hiddenIndicator,children:[f.jsx("span",{className:Ut.hiddenIcon,children:""}),f.jsx("span",{className:Ut.hiddenText,children:"Hidden"})]}):u?f.jsx("div",{className:Ut.glyphDisplay,children:f.jsx(Ms,{glyphs:[n],strategy:"ltr",showVirtualGlyphStyling:!1})}):f.jsxs("div",{className:Ut.virtualIndicator,children:[f.jsx("span",{className:Ut.virtualSymbol,children:e.symbol}),f.jsx("span",{className:Ut.virtualText,children:"Virtual"})]})}),f.jsx("td",{className:Ut.statusColumn,children:f.jsx(Nt,{content:b,children:f.jsxs("span",{className:Z(Ut.statusBadge,Ut[h]),children:[h==="hidden"&&"Hidden",h==="assigned"&&"Assigned",h==="virtual"&&"Virtual"]})})}),f.jsx("td",{className:Ut.actionsColumn,children:f.jsxs("div",{className:Ut.actions,children:[f.jsx(Nt,{content:w,children:f.jsx($e,{iconName:d?"eye":"eye-slash",onClick:v,disabled:l,className:Z(Ut.actionButton,d&&Ut.activeNoGlyph),"aria-label":w})}),!d&&f.jsx(Nt,{content:u?"Change grapheme":"Assign grapheme",children:f.jsx($e,{iconName:u?"pencil":"plus-lg",onClick:m,disabled:l,className:Ut.actionButton,"aria-label":u?"Change grapheme":"Assign grapheme"})}),u&&!d&&f.jsx(Nt,{content:"Clear assignment",children:f.jsx($e,{iconName:"x-lg",onClick:x,disabled:l,className:Ut.actionButton,"aria-label":"Clear assignment"})})]})})]})}const m1=[{key:"separator",label:"Word Separators",description:"Marks that separate words or phrases"},{key:"terminal",label:"Sentence Endings",description:"Marks that end sentences"},{key:"pause",label:"Pause Marks",description:"Marks indicating pauses or breaks"},{key:"quotation",label:"Quotation Marks",description:"Marks for quoted speech or text"}],UK=[{key:"wordSeparator",symbol:"",label:"Word Separator",description:"Separates individual words in a phrase",category:"separator",englishEquivalent:"Space",priority:1},{key:"sentenceSeparator",symbol:".",label:"Sentence Separator",description:"Marks the end of a declarative sentence",category:"terminal",englishEquivalent:"Period / Full Stop",priority:2},{key:"questionMark",symbol:"?",label:"Question Mark",description:"Marks the end of an interrogative sentence",category:"terminal",englishEquivalent:"Question Mark",priority:3},{key:"exclamationMark",symbol:"!",label:"Exclamation Mark",description:"Marks the end of an exclamatory sentence",category:"terminal",englishEquivalent:"Exclamation Mark",priority:4},{key:"comma",symbol:",",label:"Comma",description:"Indicates a short pause or separates list items",category:"pause",englishEquivalent:"Comma",priority:5},{key:"semicolon",symbol:";",label:"Semicolon",description:"Indicates a longer pause, connects related clauses",category:"pause",englishEquivalent:"Semicolon",priority:6},{key:"colon",symbol:":",label:"Colon",description:"Introduces a list, explanation, or elaboration",category:"pause",englishEquivalent:"Colon",priority:7},{key:"ellipsis",symbol:"",label:"Ellipsis",description:"Indicates omission, trailing off, or suspense",category:"pause",englishEquivalent:"Ellipsis (...)",priority:8},{key:"quotationOpen",symbol:'"',label:"Opening Quote",description:"Opens quoted speech or text",category:"quotation",englishEquivalent:"Opening Quotation Mark",priority:9},{key:"quotationClose",symbol:'"',label:"Closing Quote",description:"Closes quoted speech or text",category:"quotation",englishEquivalent:"Closing Quotation Mark",priority:10}];function zK(e){return UK.filter(t=>t.category===e).sort((t,n)=>t.priority-n.priority)}const WK="_container_1fj5p_1",GK="_table_1fj5p_5",HK="_headerRow_1fj5p_15",YK="_headerSymbol_1fj5p_29",XK="_headerLabel_1fj5p_34",qK="_headerDisplay_1fj5p_38",KK="_headerStatus_1fj5p_43",ZK="_headerActions_1fj5p_48",QK="_categoryGroup_1fj5p_53",JK="_categoryHeader_1fj5p_57",eZ="_categoryLabel_1fj5p_65",zi={container:WK,table:GK,headerRow:HK,headerSymbol:YK,headerLabel:XK,headerDisplay:qK,headerStatus:KK,headerActions:ZK,categoryGroup:QK,categoryHeader:JK,categoryLabel:eZ};function tZ({graphemeMap:e,settings:t,onAssign:n,onToggleNoGlyph:r,onClear:i,isLoading:o=!1,category:l,className:c}){const u=y.useMemo(()=>l?m1.filter(m=>m.key===l):m1,[l]),d=m=>t[m]??Wi,h=(m,v)=>{const x=zK(m);return x.length===0?null:f.jsxs("tbody",{className:zi.categoryGroup,children:[f.jsx("tr",{className:zi.categoryHeader,children:f.jsx("td",{colSpan:5,children:f.jsx("span",{className:zi.categoryLabel,children:v})})}),x.map(w=>f.jsx(VK,{mark:w,config:d(w.key),grapheme:e.get(w.key),onAssign:n,onToggleNoGlyph:r,onClear:i,isLoading:o},w.key))]},m)};return f.jsx("div",{className:Z(zi.container,c),children:f.jsxs("table",{className:zi.table,children:[f.jsx("thead",{children:f.jsxs("tr",{className:zi.headerRow,children:[f.jsx("th",{className:zi.headerSymbol,children:"Symbol"}),f.jsx("th",{className:zi.headerLabel,children:"Name"}),f.jsx("th",{className:zi.headerDisplay,children:"Display"}),f.jsx("th",{className:zi.headerStatus,children:"Status"}),f.jsx("th",{className:zi.headerActions,children:"Actions"})]})}),u.map(m=>h(m.key,m.label))]})})}const nZ="_container_ccb7z_1",rZ="_loading_ccb7z_9",iZ="_error_ccb7z_9",sZ="_loadingText_ccb7z_16",oZ="_errorText_ccb7z_21",aZ="_nav_ccb7z_25",lZ="_pageTitle_ccb7z_29",cZ="_description_ccb7z_34",uZ="_infoBox_ccb7z_40",dZ="_statsBar_ccb7z_58",fZ="_stat_ccb7z_58",pZ="_table_ccb7z_72",hZ="_infoSection_ccb7z_76",mZ="_modal_ccb7z_103",gZ="_modalContent_ccb7z_108",yZ="_modalTitle_ccb7z_115",vZ="_modalDescription_ccb7z_121",xZ="_galleryContainer_ccb7z_127",fn={container:nZ,loading:rZ,error:iZ,loadingText:sZ,errorText:oZ,nav:aZ,pageTitle:lZ,description:cZ,infoBox:uZ,statsBar:dZ,stat:fZ,table:pZ,infoSection:hZ,modal:mZ,modalContent:gZ,modalTitle:yZ,modalDescription:vZ,galleryContainer:xZ};function _Z(){const{api:e,settings:t,isLoading:n,error:r,data:i}=hn(),[o,l]=y.useState(!1),[c,u]=y.useState(null),d=y.useMemo(()=>{const b=new Map;if(!t?.punctuation)return b;const T=new Map;for(const S of i.graphemesComplete)T.set(S.id,S);for(const[S,R]of Object.entries(t.punctuation))if(R.graphemeId!==null){const k=T.get(R.graphemeId);k&&b.set(S,k)}return b},[t?.punctuation,i.graphemesComplete]),h=y.useCallback(b=>{u(b),l(!0)},[]),m=y.useCallback(b=>{if(!c)return;const T={...t.punctuation};T[c]={...T[c],graphemeId:b.id,useNoGlyph:!1},e.settings.update({punctuation:T}),l(!1),u(null)},[e,t.punctuation,c]),v=y.useCallback((b,T)=>{const S={...t.punctuation};S[b]={...S[b],useNoGlyph:T},e.settings.update({punctuation:S})},[e,t.punctuation]),x=y.useCallback(b=>{const T={...t.punctuation};T[b]={graphemeId:null,useNoGlyph:!1},e.settings.update({punctuation:T})},[e,t.punctuation]),w=y.useCallback(()=>{l(!1),u(null)},[]);return n?f.jsx("div",{className:Z(fn.container,fn.loading),children:f.jsx("div",{className:fn.loadingText,children:"Loading Punctuation Settings..."})}):r?f.jsx("div",{className:Z(fn.container,fn.error),children:f.jsxs("div",{className:fn.errorText,children:["Failed to load settings: ",r.message]})}):f.jsxs("div",{className:fn.container,children:[f.jsx("nav",{className:Z(pe.flexRow,pe.flexGapM,fn.nav),children:f.jsx($e,{as:jt,to:"/script-maker",iconName:"arrow-left",children:"Back to Graphemes"})}),f.jsx("h2",{className:Z(ri.underlineHighlightColorPrimary,fn.pageTitle),children:"Punctuation & Separators"}),f.jsx("p",{className:fn.description,children:"Configure how punctuation marks and word separators are rendered in your script. You can assign a custom grapheme, use a virtual glyph (dashed box), or hide marks entirely."}),f.jsxs("div",{className:fn.infoBox,children:[f.jsx("h4",{children:"Important: Word & Sentence Separators"}),f.jsxs("p",{children:["The ",f.jsx("strong",{children:"Word Separator"})," and ",f.jsx("strong",{children:"Sentence Separator"})," at the top are particularly important as they control how words and sentences are visually distinguished in your script. Click the eye icon to hide them if your script doesn't use visual separation."]})]}),f.jsxs("div",{className:fn.statsBar,children:[f.jsxs("span",{className:fn.stat,children:[f.jsx("strong",{children:d.size})," punctuation marks assigned"]}),f.jsxs("span",{className:fn.stat,children:[f.jsx("strong",{children:Object.values(t.punctuation).filter(b=>b.useNoGlyph).length})," hidden"]})]}),f.jsx(tZ,{graphemeMap:d,settings:t.punctuation,onAssign:h,onToggleNoGlyph:v,onClear:x,isLoading:n,className:fn.table}),f.jsxs("div",{className:fn.infoSection,children:[f.jsx("h4",{children:"Understanding Punctuation Settings"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Assigned:"})," Uses a custom grapheme you've created for this punctuation."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Virtual:"})," Shows the original punctuation character in a dashed box (default behavior for new languages)."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Hidden:"})," The punctuation mark is not rendered at all. Use this for scripts that don't separate words or sentences visually."]})]})]}),f.jsx(cr,{isOpen:o,setIsOpen:l,onClose:w,allowClose:!0,className:fn.modal,children:f.jsxs("div",{className:fn.modalContent,children:[f.jsx("h3",{className:fn.modalTitle,children:"Select Grapheme for Punctuation"}),f.jsx("p",{className:fn.modalDescription,children:"Select a grapheme to use for this punctuation mark. The grapheme will be displayed in place of the original character."}),f.jsx("div",{className:fn.galleryContainer,children:f.jsx(yN,{onGraphemeClick:m,selectionMode:!0})})]})})]})}const wZ="_basicChart_1vxk5_1",bZ="_table_1vxk5_7",EZ="_ipaRow_1vxk5_18",SZ="_cellIpaLabel_1vxk5_27",CZ="_syllableCell_1vxk5_34",TZ="_assigned_1vxk5_48",NZ="_cellIpa_1vxk5_27",kZ="_cellAssigned_1vxk5_64",RZ="_glyphDisplay_1vxk5_72",xi={basicChart:wZ,table:bZ,ipaRow:EZ,cellIpaLabel:SZ,syllableCell:CZ,assigned:TZ,cellIpa:NZ,cellAssigned:kZ,glyphDisplay:RZ},g1=15;function AZ({ipa:e,grapheme:t}){return t&&t.glyphs.length>0?f.jsx("div",{className:xi.cellAssigned,children:f.jsx(Ms,{glyphs:t.glyphs,strategy:"ltr",config:{glyphWidth:32,glyphHeight:32,spacing:0,padding:0},showVirtualGlyphStyling:!1,className:xi.glyphDisplay})}):f.jsx("span",{className:xi.cellIpa,children:e})}function jZ({chart:e,phonemeMap:t,onCellClick:n,className:r}){const i=y.useCallback(l=>{if(!n)return;let c=l.target;for(;c&&c.tagName!=="TBODY";){if(c.tagName==="TD"&&c.dataset.ipa){const u=c.dataset.ipa,d=t.get(u)??null;n(u,d);return}c=c.parentElement}},[n,t]),o=y.useMemo(()=>{const l=[];for(let c=0;c<e.ipaCharacters.length;c+=g1)l.push(e.ipaCharacters.slice(c,c+g1));return l},[e.ipaCharacters]);return f.jsx("div",{className:Z(xi.basicChart,r),children:f.jsx("table",{className:xi.table,children:f.jsx("tbody",{onClick:i,children:o.map((l,c)=>f.jsxs(Oe.Fragment,{children:[f.jsx("tr",{className:xi.ipaRow,children:l.map(u=>f.jsx("td",{"data-ipa":u,className:Z(xi.syllableCell,t.has(u)&&xi.assigned),children:f.jsx("span",{className:xi.cellIpaLabel,children:u})},u))}),f.jsx("tr",{className:xi.graphemeRow,children:l.map(u=>{const d=t.get(u)??null;return f.jsx("td",{"data-ipa":u,className:Z(xi.syllableCell,d&&xi.assigned),children:f.jsx(AZ,{ipa:u,grapheme:d})},u)})})]},c))})})})}const IZ="_syllabaryChart_1viqe_1",PZ="_table_1viqe_7",LZ="_cornerCell_1viqe_18",OZ="_columnHeader_1viqe_24",MZ="_rowHeader_1viqe_35",DZ="_syllableCell_1viqe_46",FZ="_assigned_1viqe_60",$Z="_cellIpa_1viqe_65",BZ="_cellAssigned_1viqe_76",VZ="_glyphDisplay_1viqe_84",xs={syllabaryChart:IZ,table:PZ,cornerCell:LZ,columnHeader:OZ,rowHeader:MZ,syllableCell:DZ,assigned:FZ,cellIpa:$Z,cellAssigned:BZ,glyphDisplay:VZ};function UZ({ipa:e,grapheme:t}){return t&&t.glyphs.length>0?f.jsx("div",{className:xs.cellAssigned,children:f.jsx(Ms,{glyphs:t.glyphs,strategy:"ltr",config:{glyphWidth:32,glyphHeight:32,spacing:0,padding:0},showVirtualGlyphStyling:!1,className:xs.glyphDisplay})}):f.jsx("span",{className:xs.cellIpa,children:e})}function zZ({chart:e,phonemeMap:t,onCellClick:n,className:r}){const i=y.useCallback(l=>{if(!n)return;let c=l.target;for(;c&&c.tagName!=="TBODY";){if(c.tagName==="TD"&&c.dataset.ipa){const u=c.dataset.ipa,d=t.get(u)??null;n(u,d);return}c=c.parentElement}},[n,t]),o=y.useMemo(()=>e.yAxis.map(l=>f.jsxs("tr",{children:[f.jsx("th",{className:xs.rowHeader,scope:"row",title:l,children:l}),e.xAxis.map(c=>{const u=l+c,d=t.get(u)??null;return f.jsx("td",{"data-ipa":u,className:Z(xs.syllableCell,d&&xs.assigned),children:f.jsx(UZ,{ipa:u,grapheme:d})},c)})]},l)),[e.xAxis,e.yAxis,t]);return f.jsx("div",{className:Z(xs.syllabaryChart,r),children:f.jsxs("table",{className:xs.table,children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:xs.cornerCell}),e.xAxis.map(l=>f.jsx("th",{className:xs.columnHeader,scope:"col",title:l,children:l},l))]})}),f.jsx("tbody",{onClick:i,children:o})]})})}const WZ="_card_36fv1_1",GZ="_header_36fv1_8",HZ="_chartName_36fv1_17",YZ="_actions_36fv1_24",XZ="_chartContent_36fv1_29",ru={card:WZ,header:GZ,chartName:HZ,actions:YZ,chartContent:XZ};function qZ({chart:e,phonemeMap:t,onCellClick:n,onEdit:r,onDelete:i}){return f.jsxs("div",{className:ru.card,children:[f.jsxs("div",{className:ru.header,children:[f.jsx("h3",{className:ru.chartName,children:e.name}),f.jsxs("div",{className:ru.actions,children:[f.jsx($e,{iconName:"pencil",onClick:()=>r(e),"aria-label":`Edit ${e.name}`}),f.jsx($e,{iconName:"trash",onClick:()=>i(e),"aria-label":`Delete ${e.name}`})]})]}),f.jsx("div",{className:ru.chartContent,children:e.type==="basic"?f.jsx(jZ,{chart:e,phonemeMap:t,onCellClick:n}):f.jsx(zZ,{chart:e,phonemeMap:t,onCellClick:n})})]})}const KZ="_modalContent_1afon_1",ZZ="_stepDescription_1afon_12",QZ="_typeButton_1afon_18",JZ="_fieldLabel_1afon_44",Do={modalContent:KZ,stepDescription:ZZ,typeButton:QZ,fieldLabel:JZ};function eQ({isOpen:e,setIsOpen:t,editingChart:n,onSubmit:r}){const[i,o]=y.useState(1),[l,c]=y.useState("basic"),[u,d]=y.useState(""),[h,m]=y.useState(""),[v,x]=y.useState(""),[w,b]=y.useState(""),T=n!==null;y.useEffect(()=>{e&&(n?(o(2),c(n.type),d(n.name),n.type==="basic"?m(n.ipaCharacters.join(" ")):(x(n.xAxis.join(" ")),b(n.yAxis.join(" ")))):(o(1),c("basic"),d(""),m(""),x(""),b("")))},[e,n]);const S=I=>{c(I),o(2)},R=I=>{I.preventDefault();const j=u.trim();if(!j)return;let O;if(l==="basic"){const B=[...new Set(h.trim().split(/\s+/).filter(Boolean))];if(B.length===0)return;O={id:n?.id??crypto.randomUUID(),name:j,createdAt:n?.createdAt??new Date().toISOString(),type:"basic",ipaCharacters:B}}else{const B=[...new Set(v.trim().split(/\s+/).filter(Boolean))],W=[...new Set(w.trim().split(/\s+/).filter(Boolean))];if(B.length===0||W.length===0)return;O={id:n?.id??crypto.randomUUID(),name:j,createdAt:n?.createdAt??new Date().toISOString(),type:"syllabary",xAxis:B,yAxis:W}}r(O),t(!1)},k=u.trim()?l==="basic"?h.trim().split(/\s+/).filter(Boolean).length>0:v.trim().split(/\s+/).filter(Boolean).length>0&&w.trim().split(/\s+/).filter(Boolean).length>0:!1,A={padding:"0.5em",fontSize:"1rem",background:"var(--surface-raised)",color:"var(--text-primary)",border:"1px solid var(--border-primary)",borderRadius:"4px",outline:"none"};return f.jsx(cr,{isOpen:e,setIsOpen:t,children:f.jsx("div",{className:Do.modalContent,children:i===1&&!T?f.jsxs("div",{className:Z(pe.flexColumn,pe.flexGapM),children:[f.jsx("h2",{className:ri.underlineHighlightColorPrimary,children:"Create Custom Chart"}),f.jsx("p",{className:Do.stepDescription,children:"Choose a chart type:"}),f.jsxs("div",{className:Z(pe.flexRow,pe.flexGapM),children:[f.jsxs("button",{type:"button",className:Do.typeButton,onClick:()=>S("basic"),children:[f.jsx("strong",{children:"Basic Chart"}),f.jsx("span",{children:"A flat list of IPA characters with pronunciation and grapheme rows"})]}),f.jsxs("button",{type:"button",className:Do.typeButton,onClick:()=>S("syllabary"),children:[f.jsx("strong",{children:"Syllabary Chart"}),f.jsx("span",{children:"A 2D grid with custom X/Y axes"})]})]})]}):f.jsxs("form",{onSubmit:R,className:Z(pe.flexColumn,pe.flexGapM),children:[f.jsx("h2",{className:ri.underlineHighlightColorPrimary,children:T?"Edit Chart":`New ${l==="basic"?"Basic":"Syllabary"} Chart`}),f.jsxs("label",{className:Do.fieldLabel,children:["Chart Name",f.jsx("input",{type:"text",value:u,onChange:I=>d(I.target.value),placeholder:"Enter chart name...",autoFocus:!0,style:A})]}),l==="basic"?f.jsxs("label",{className:Do.fieldLabel,children:["IPA Characters (space-separated)",f.jsx("input",{type:"text",value:h,onChange:I=>m(I.target.value),placeholder:"e.g. p t k m n ",style:A})]}):f.jsxs(f.Fragment,{children:[f.jsxs("label",{className:Do.fieldLabel,children:["X-Axis / Columns (space-separated)",f.jsx("input",{type:"text",value:v,onChange:I=>x(I.target.value),placeholder:"e.g. a e i o u",style:A})]}),f.jsxs("label",{className:Do.fieldLabel,children:["Y-Axis / Rows (space-separated)",f.jsx("input",{type:"text",value:w,onChange:I=>b(I.target.value),placeholder:"e.g. p t k s m n",style:A})]})]}),f.jsxs("div",{className:Z(pe.flexRow,pe.justifyContentEnd,pe.flexGapS),children:[!T&&f.jsx(gt,{type:"button",className:ht.secondary,onClick:()=>o(1),children:"Back"}),f.jsx(gt,{type:"button",className:ht.secondary,onClick:()=>t(!1),children:"Cancel"}),f.jsx(gt,{type:"submit",className:ht.primary,disabled:!k,children:T?"Save":"Create"})]})]})})})}const tQ="_container_52r6e_1",nQ="_nav_52r6e_8",rQ="_pageTitle_52r6e_12",iQ="_description_52r6e_17",sQ="_statsBar_52r6e_25",oQ="_stat_52r6e_25",aQ="_chartsList_52r6e_41",lQ="_emptyState_52r6e_47",cQ="_loading_52r6e_59",uQ="_error_52r6e_60",dQ="_loadingText_52r6e_67",fQ="_errorText_52r6e_72",Dr={container:tQ,nav:nQ,pageTitle:rQ,description:iQ,statsBar:sQ,stat:oQ,chartsList:aQ,emptyState:lQ,loading:cQ,error:uQ,loadingText:dQ,errorText:fQ};function pQ(){const e=Qn(),{api:t,isLoading:n,error:r,settings:i}=hn(),[o,l]=y.useState(!1),[c,u]=y.useState(null),d=i?.customCharts??[],h=y.useMemo(()=>n?null:t.grapheme.getPhonemeMap(),[t,n]),m=y.useMemo(()=>!h?.success||!h.data?new Map:h.data,[h]),v=y.useCallback((S,R)=>{e(R?`/script-maker/grapheme/db/${R.id}`:`/script-maker/create?phoneme=${encodeURIComponent(S)}`)},[e]),x=()=>{u(null),l(!0)},w=S=>{u(S),l(!0)},b=S=>{if(!window.confirm(`Delete chart "${S.name}"?`))return;const R=d.filter(k=>k.id!==S.id);t.settings.update({customCharts:R})},T=S=>{const R=d.findIndex(A=>A.id===S.id);let k;R>=0?(k=[...d],k[R]=S):k=[...d,S],t.settings.update({customCharts:k})};return n?f.jsx("div",{className:Z(Dr.container,Dr.loading),children:f.jsx("div",{className:Dr.loadingText,children:"Loading Custom Charts..."})}):r?f.jsx("div",{className:Z(Dr.container,Dr.error),children:f.jsxs("div",{className:Dr.errorText,children:["Failed to load: ",r.message]})}):f.jsxs("div",{className:Dr.container,children:[f.jsx("nav",{className:Z(pe.flexRow,pe.flexGapM,Dr.nav),children:f.jsx($e,{as:jt,to:"/script-maker",iconName:"arrow-left",children:"Back to Graphemes"})}),f.jsx("h2",{className:Z(ri.underlineHighlightColorPrimary,Dr.pageTitle),children:"Custom Charts"}),f.jsx("p",{className:Dr.description,children:"Create custom charts to organize your conlang's script in ways that don't fit the standard IPA or syllabary layouts. Click on any cell to create or edit its associated grapheme."}),f.jsx("div",{className:Dr.statsBar,children:f.jsxs("span",{className:Dr.stat,children:[f.jsx("strong",{children:d.length})," custom chart",d.length!==1?"s":""]})}),f.jsx($e,{iconName:"plus-lg",className:ht.primary,onClick:x,children:"Create Chart"}),d.length===0?f.jsx("div",{className:Dr.emptyState,children:f.jsx("p",{children:'No custom charts yet. Click "Create Chart" to get started.'})}):f.jsx("div",{className:Dr.chartsList,children:d.map(S=>f.jsx(qZ,{chart:S,phonemeMap:m,onCellClick:v,onEdit:w,onDelete:b},S.id))}),f.jsx(eQ,{isOpen:o,setIsOpen:l,editingChart:c,onSubmit:T})]})}const hQ="_modalContent_17bi3_2",mQ="_pageContainer_17bi3_7",gQ="_nav_17bi3_13",yQ="_formContainer_17bi3_17",vQ="_errorMessage_17bi3_21",xQ="_buttonRow_17bi3_30",_Q="_deleteButton_17bi3_35",wQ="_warningText_17bi3_45",bQ="_modalButtons_17bi3_50",Fr={modalContent:hQ,pageContainer:mQ,nav:gQ,formContainer:yQ,errorMessage:vQ,buttonRow:xQ,deleteButton:_Q,warningText:wQ,modalButtons:bQ};function EQ(){const{id:e}=Ry(),t=Qn(),{api:n,isLoading:r,error:i}=hn(),{registerField:o,unregisterField:l,registerForm:c,isFormValid:u}=Za({mode:"onChange"}),[d,h]=y.useState(null),[m,v]=y.useState(!1),x=y.useRef(!1),[w,b]=y.useState([]),T=y.useRef(!1),[S,R]=y.useState(!1),[k,A]=y.useState(!1),I=e?parseInt(e,10):null,j=I?n.grapheme.getByIdComplete(I):null,O=j?.success?j.data:null;y.useEffect(()=>{O&&!T.current&&(T.current=!0,b(O.glyphs))},[O]);const B=c("editGraphemeForm",{submitFunc:async D=>{if(x.current||!I)return{success:!1,error:"Invalid state"};x.current=!0,v(!0);try{h(null);const $=D;if(w.length===0)throw new Error("Please add at least one glyph");if(!$.graphemeName?.trim())throw new Error("Grapheme name is required");const Q=n.grapheme.update(I,{name:$.graphemeName.trim(),category:$.category?.trim()||void 0,notes:$.notes?.trim()||void 0});if(!Q.success)throw new Error(Q.error?.message||"Failed to update");n.grapheme.updateGlyphs(I,{glyphs:w.map((G,J)=>({glyph_id:G.id,position:J}))}),n.phoneme.deleteAllForGrapheme(I);const M=$.pronunciations?.filter(G=>G.pronunciation?.trim())||[];for(const G of M)n.phoneme.add({grapheme_id:I,phoneme:G.pronunciation.trim(),use_in_auto_spelling:G.useInAutoSpelling});return t("/script-maker"),{success:!0}}catch($){const Q=$ instanceof Error?$.message:"Failed to update grapheme";return h(Q),{success:!1,error:Q}}finally{x.current=!1,v(!1)}}}),W=y.useCallback(async()=>{if(!(!I||k)){A(!0);try{const D=n.grapheme.delete(I);if(!D.success)throw new Error(D.error?.message);R(!1),t("/script-maker")}catch(D){h(D instanceof Error?D.message:"Failed to delete")}finally{A(!1)}}},[I,n.grapheme,t,k]);return r?f.jsx("div",{className:Fr.pageContainer,children:f.jsx("p",{children:"Loading..."})}):i?f.jsxs("div",{className:Fr.pageContainer,children:[f.jsxs("p",{className:Fr.errorMessage,children:["Error: ",i.message]}),f.jsx($e,{as:jt,to:"/script-maker",iconName:"arrow-left",children:"Back"})]}):O?f.jsxs("div",{className:Fr.pageContainer,children:[f.jsx("nav",{className:Z(pe.flexRow,pe.flexGapM,Fr.nav),children:f.jsx($e,{as:jt,to:"/script-maker",iconName:"arrow-left",children:"Back to Gallery"})}),f.jsxs("h2",{className:ri.underlineHighlightColorPrimary,children:["Edit Grapheme: ",O.name]}),d&&f.jsx("div",{className:Fr.errorMessage,children:d}),f.jsxs(da,{...B,registerField:o,unregisterField:l,isFormValid:u,className:Fr.formContainer,children:[f.jsx(gN,{registerField:o,mode:"edit",initialData:O,selectedGlyphs:w,onSelectedGlyphsChange:b}),f.jsxs("div",{className:Z(pe.flex,pe.flexGapM,Fr.buttonRow),children:[f.jsx($e,{className:ht.primary,type:"submit",disabled:m,children:m?"Saving...":"Save Changes"}),f.jsx($e,{className:ht.secondary,type:"button",onClick:()=>t("/script-maker"),children:"Cancel"}),f.jsx($e,{className:Z(ht.danger,Fr.deleteButton),type:"button",iconName:"trash",onClick:()=>R(!0),children:"Delete"})]})]}),f.jsx(cr,{isOpen:S,setIsOpen:R,onClose:()=>R(!1),allowClose:!k,children:f.jsxs("div",{className:Fr.modalContent,children:[f.jsx("h2",{style:{marginTop:0},children:"Delete Grapheme"}),f.jsxs("p",{children:['Are you sure you want to delete "',O.name,'"?']}),f.jsx("p",{className:Fr.warningText,children:"This will also delete all associated pronunciations."}),f.jsxs("div",{className:Z(pe.flex,pe.flexGapM,Fr.modalButtons),children:[f.jsx(gt,{onClick:()=>R(!1),disabled:k,children:"Cancel"}),f.jsx(gt,{onClick:W,disabled:k,style:{background:"var(--danger)",color:"white"},children:k?"Deleting...":"Delete"})]})]})})]}):f.jsxs("div",{className:Fr.pageContainer,children:[f.jsx("p",{className:Fr.errorMessage,children:"Grapheme not found"}),f.jsx($e,{as:jt,to:"/script-maker",iconName:"arrow-left",children:"Back"})]})}function SQ(){const e=Qn();return f.jsxs("div",{style:{padding:"1rem"},className:Z(Ot.parentSize),children:[f.jsx("nav",{className:Z(pe.flexRow,pe.flexGapM),style:{marginBottom:"1rem"},children:f.jsx($e,{as:jt,to:"/script-maker/glyphs",iconName:"arrow-left",children:"Back to Gallery"})}),f.jsxs("div",{className:Xo.pageContainer,children:[f.jsx("h2",{children:"Create New Glyph"}),f.jsx(hN,{onSuccess:t=>{t&&t.id?e(`/script-maker/glyphs/db/${t.id}`):e("/script-maker/glyphs")},onCancel:()=>{}})]})]})}const pg={display:"block",padding:"0.75rem 1rem",textDecoration:"none",color:"inherit",fontSize:"0.9rem"};function CQ(){return f.jsxs("nav",{className:Z(pe.flexRow,pe.flexGapM,pe.alignItemsCenter),style:{marginBottom:"1rem"},children:[f.jsx($e,{as:jt,to:"/script-maker/create",iconName:"plus-lg",className:ht.primary,children:"New Grapheme"}),f.jsxs(Zl,{toggleBtn:f.jsx($e,{iconName:"grid-3x3",as:"span",children:"View Chart"}),contentPin:"bottom-start",ariaLabel:"Select chart type",showCaret:!1,children:[f.jsx(jt,{to:"/script-maker/chart",style:pg,children:"IPA Chart"}),f.jsx(jt,{to:"/script-maker/syllabary",style:pg,children:"Syllabary"}),f.jsx(jt,{to:"/script-maker/custom-charts",style:pg,children:"Custom Charts"})]}),f.jsx($e,{as:jt,to:"/script-maker/punctuation",iconName:"type",children:"Punctuation"})]})}function TQ(){return f.jsxs(f.Fragment,{children:[f.jsx(CQ,{}),f.jsx(yN,{})]})}function NQ(){return f.jsxs(f.Fragment,{children:[f.jsx("nav",{className:Z(pe.flexRow,pe.flexGapM),style:{marginBottom:"1rem"},children:f.jsx($e,{as:jt,to:"/script-maker",iconName:"arrow-left",children:"Back to Gallery"})}),f.jsx(WY,{})]})}function kQ(){return f.jsx(SQ,{})}function RQ(){return f.jsx("div",{className:Z(pe.flexColumn,Ot.parentSize),children:f.jsxs(Pu,{children:[f.jsx(An,{index:!0,element:f.jsx(TQ,{})}),f.jsx(An,{path:"create",element:f.jsx(NQ,{})}),f.jsx(An,{path:"grapheme/db/:id",element:f.jsx(EQ,{})}),f.jsx(An,{path:"chart",element:f.jsx(tK,{})}),f.jsx(An,{path:"syllabary",element:f.jsx(mK,{})}),f.jsx(An,{path:"punctuation",element:f.jsx(_Z,{})}),f.jsx(An,{path:"custom-charts",element:f.jsx(pQ,{})})]})})}function AQ(){return f.jsx("div",{className:Z(pe.flexColumn,Ot.parentSize),children:f.jsxs(Pu,{children:[f.jsx(An,{index:!0,element:f.jsxs(f.Fragment,{children:[f.jsx("nav",{className:Z(pe.flexRow,pe.flexGapM),style:{marginBottom:"1rem"},children:f.jsx($e,{as:jt,to:"/script-maker/glyphs/create",iconName:"plus-lg",className:ht.primary,children:"New Glyph"})}),f.jsx("div",{style:{padding:"1rem"},children:f.jsx(rX,{})})]})}),f.jsx(An,{path:"db/:id",element:f.jsx(mX,{})}),f.jsx(An,{path:"create",element:f.jsx(kQ,{})})]})})}function jQ(){const e=[{path:"",toggle:"Graphemes",content:f.jsx(RQ,{})},{path:"glyphs",toggle:"Glyphs",content:f.jsx(AQ,{})}];return f.jsx("div",{className:Z(pe.flexColumn,Ot.parentSize),children:f.jsx(Fv,{basePath:"/script-maker",sections:e,contentContainerProps:{className:Z(Z(Ot.paddingL))}})})}const IQ={key:"glyphDirection",label:"Glyph Direction",description:"How glyphs flow within a word",category:"Directionality",options:[{value:"ltr",label:"Left to Right",description:"Glyphs flow left to right (e.g. Latin, Cyrillic)"},{value:"rtl",label:"Right to Left",description:"Glyphs flow right to left (e.g. Arabic, Hebrew)"},{value:"ttb",label:"Top to Bottom",description:"Glyphs flow top to bottom (e.g. traditional CJK)"},{value:"btu",label:"Bottom to Up",description:"Glyphs flow bottom to top"}],defaultValue:"ltr",priority:1},PQ={key:"wordOrder",label:"Word Order",description:"How words flow in a sentence or line",category:"Directionality",options:[{value:"ltr",label:"Left to Right",description:"Words flow left to right"},{value:"rtl",label:"Right to Left",description:"Words flow right to left"},{value:"ttb",label:"Top to Bottom",description:"Words flow top to bottom"},{value:"btu",label:"Bottom to Up",description:"Words flow bottom to top"}],defaultValue:"ltr",priority:2},LQ={key:"lineProgression",label:"Line Progression",description:"Where new lines go when wrapping",category:"Directionality",options:[{value:"ttb",label:"Top to Bottom",description:"New lines appear below (standard for horizontal scripts)"},{value:"btu",label:"Bottom to Up",description:"New lines appear above"},{value:"ltr",label:"Left to Right",description:"New columns to the right (traditional CJK column style)"},{value:"rtl",label:"Right to Left",description:"New columns to the left"}],defaultValue:"ttb",priority:3},OQ={key:"glyphStacking",label:"Glyph Stacking",description:"How multiple glyphs in a grapheme are arranged",category:"Layout",options:[{value:"horizontal",label:"Horizontal",description:"Glyphs stack side by side horizontally"},{value:"vertical",label:"Vertical",description:"Glyphs stack on top of each other vertically"},{value:"none",label:"None",description:"No stacking  glyphs overlap in place"}],defaultValue:"horizontal",priority:4},MQ={key:"wordWrap",label:"Word Wrap",description:"How text wraps when reaching the edge",category:"Layout",options:[{value:"word",label:"Word Boundary",description:"Wrap at word boundaries  words stay intact"},{value:"glyph",label:"Glyph Boundary",description:"Wrap at any glyph  words may split across lines"},{value:"none",label:"None",description:"No wrapping  text extends beyond the edge"}],defaultValue:"word",priority:5},DQ={key:"baselineAlignment",label:"Baseline Alignment",description:"How glyphs align within a line",category:"Layout",options:[{value:"bottom",label:"Bottom",description:"Glyphs sit on a shared baseline (standard)"},{value:"center",label:"Center",description:"Glyphs are vertically centered within the line"},{value:"top",label:"Top",description:"Glyphs hang from the top of the line"}],defaultValue:"bottom",priority:6},_N=[IQ,PQ,LQ,OQ,MQ,DQ];function FQ(){return[..._N].sort((e,t)=>e.priority-t.priority)}function $Q(e){return _N.filter(t=>t.category===e).sort((t,n)=>t.priority-n.priority)}function BQ(){const e=new Set,t=[];for(const n of FQ())e.has(n.category)||(e.add(n.category),t.push(n.category));return t}const VQ="_row_1t6ub_1",UQ="_labelColumn_1t6ub_8",zQ="_labelContent_1t6ub_13",WQ="_label_1t6ub_8",GQ="_description_1t6ub_25",HQ="_valueColumn_1t6ub_30",YQ="_select_1t6ub_36",XQ="_modified_1t6ub_51",Fo={row:VQ,labelColumn:UQ,labelContent:zQ,label:WQ,description:GQ,valueColumn:HQ,select:YQ,modified:XQ};function qQ({rule:e,value:t,onChange:n}){const r=t!==e.defaultValue;return f.jsxs("tr",{className:Fo.row,children:[f.jsx("td",{className:Fo.labelColumn,children:f.jsxs("div",{className:Fo.labelContent,children:[f.jsx("span",{className:Fo.label,children:e.label}),f.jsx("span",{className:Fo.description,children:e.description})]})}),f.jsx("td",{className:Fo.valueColumn,children:f.jsx("select",{className:Z(Fo.select,r&&Fo.modified),value:t,onChange:i=>n(e.key,i.target.value),children:e.options.map(i=>f.jsx("option",{value:i.value,children:i.label},i.value))})})]})}const KQ="_container_y7n4x_1",ZQ="_table_y7n4x_5",QQ="_headerRow_y7n4x_15",JQ="_headerLabel_y7n4x_29",eJ="_headerValue_y7n4x_33",tJ="_categoryGroup_y7n4x_38",nJ="_categoryHeader_y7n4x_42",rJ="_categoryLabel_y7n4x_50",$o={container:KQ,table:ZQ,headerRow:QQ,headerLabel:JQ,headerValue:eJ,categoryGroup:tJ,categoryHeader:nJ,categoryLabel:rJ};function iJ({settings:e,onChange:t,className:n}){const r=BQ();return f.jsx("div",{className:Z($o.container,n),children:f.jsxs("table",{className:$o.table,children:[f.jsx("thead",{children:f.jsxs("tr",{className:$o.headerRow,children:[f.jsx("th",{className:$o.headerLabel,children:"Rule"}),f.jsx("th",{className:$o.headerValue,children:"Value"})]})}),r.map(i=>{const o=$Q(i);return o.length===0?null:f.jsxs("tbody",{className:$o.categoryGroup,children:[f.jsx("tr",{className:$o.categoryHeader,children:f.jsx("td",{colSpan:2,children:f.jsx("span",{className:$o.categoryLabel,children:i})})}),o.map(l=>f.jsx(qQ,{rule:l,value:e[l.key]??l.defaultValue,onChange:t},l.key))]},i)})]})})}const sJ="_container_mjbmn_1",oJ="_description_mjbmn_10",y1={container:sJ,description:oJ};function aJ(){const{api:e,settings:t}=hn(),n=(r,i)=>{e.settings.update({writingSystem:{...t.writingSystem,[r]:i}})};return f.jsxs("div",{className:y1.container,children:[f.jsx("p",{className:y1.description,children:"Define how your writing system flows directionally. These rules control glyph arrangement within words, word ordering within sentences, and line wrapping behavior."}),f.jsx(iJ,{settings:t.writingSystem,onChange:n})]})}const lJ=[{path:"",toggle:"General",content:f.jsx(aJ,{})}];function cJ(){return f.jsx("div",{className:Z(pe.flexColumn,Ot.parentSize),children:f.jsx(Fv,{basePath:"/writing-system",sections:lJ,contentContainerProps:{className:Z(Ot.paddingL)}})})}const uJ="_container_4qbm9_4",dJ="_heading_4qbm9_13",fJ="_description_4qbm9_20",pJ="_inputContainer_4qbm9_26",hJ="_label_4qbm9_32",mJ="_textarea_4qbm9_38",gJ="_charCount_4qbm9_57",yJ="_loading_4qbm9_63",vJ="_displayContainer_4qbm9_101",xJ="_displayHeader_4qbm9_107",_J="_displayTitle_4qbm9_113",wJ="_canvasWrapper_4qbm9_120",bJ="_warning_4qbm9_128",EJ="_metadata_4qbm9_138",SJ="_metadataItem_4qbm9_147",CJ="_exportButton_4qbm9_155",TJ="_exportMenuItem_4qbm9_176",vn={container:uJ,heading:dJ,description:fJ,inputContainer:pJ,label:hJ,textarea:mJ,charCount:gJ,loading:yJ,displayContainer:vJ,displayHeader:xJ,displayTitle:_J,canvasWrapper:wJ,warning:bJ,metadata:EJ,metadataItem:SJ,exportButton:CJ,exportMenuItem:TJ};function NJ({value:e,onChange:t}){return f.jsxs("div",{className:vn.inputContainer,children:[f.jsx("label",{htmlFor:"phrase-input",className:vn.label,children:"English Phrase"}),f.jsx("textarea",{id:"phrase-input",value:e,onChange:n=>t(n.target.value),placeholder:"Enter an English phrase to translate...",rows:3,className:vn.textarea}),f.jsxs("div",{className:vn.charCount,children:[e.length," characters"]})]})}function kJ({phrase:e,glyphSpellingRef:t}){const[n,r]=y.useState(!1),i=()=>{const l=t.current?.getSvgElement();if(!l){console.error("SVG element not available");return}try{r(!0);const c=cT(l,{padding:20,backgroundColor:"white"}),u=kb(e,"svg");rp(c,u)}catch(c){console.error("Failed to export SVG:",c)}finally{r(!1)}},o=async()=>{const l=t.current?.getSvgElement();if(!l){console.error("SVG element not available");return}try{r(!0);const c=await p$(l,{padding:20,backgroundColor:"white",scale:6,quality:.98}),u=kb(e,"png");rp(c,u)}catch(c){console.error("Failed to export PNG:",c)}finally{r(!1)}};return f.jsxs(Zl,{toggleBtn:f.jsx("span",{className:vn.exportButton,children:n?"Exporting...":"Export "}),contentPin:"bottom-end",ariaLabel:"Export phrase translation",disabled:n,children:[f.jsx("button",{onClick:i,className:vn.exportMenuItem,disabled:n,children:" Export as SVG"}),f.jsx("button",{onClick:o,className:vn.exportMenuItem,disabled:n,children:" Export as PNG"})]})}function RJ({translationResult:e,strategy:t,graphemeMap:n,writingSystem:r,wordBoundaries:i,lineBreaks:o}){const l=y.useRef(null);return f.jsxs("div",{className:vn.displayContainer,children:[f.jsxs("div",{className:vn.displayHeader,children:[f.jsx("h3",{className:vn.displayTitle,children:"Translation"}),f.jsx(kJ,{phrase:e.originalPhrase,glyphSpellingRef:l})]}),f.jsx("div",{className:vn.canvasWrapper,children:f.jsx(Ms,{ref:l,mode:"interactive",glyphs:e.combinedSpelling,graphemeMap:n,strategy:t,writingSystem:r,wordBoundaries:i,lineBreaks:o,canvas:{width:800,height:600,showPaperEffect:!0},viewport:{initialZoom:1,minZoom:.5,maxZoom:4},showControls:!0,showVirtualGlyphStyling:!1})}),e.hasVirtualGlyphs&&f.jsx("div",{className:vn.warning,children:" Some words used virtual glyphs (shown as dashed boxes). Add these words to your lexicon for proper spelling."}),f.jsxs("div",{className:vn.metadata,children:[f.jsxs("div",{className:vn.metadataItem,children:[f.jsx("strong",{children:"Words translated:"})," ",e.wordTranslations.length]}),f.jsxs("div",{className:vn.metadataItem,children:[f.jsx("strong",{children:"Lexicon matches:"})," ",e.wordTranslations.filter(c=>c.type==="lexicon").length]}),f.jsxs("div",{className:vn.metadataItem,children:[f.jsx("strong",{children:"Autospelled:"})," ",e.wordTranslations.filter(c=>c.type==="autospell").length]})]})]})}function AJ(){const{api:e,data:t,settings:n}=hn(),[r,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),d=y.useMemo(()=>{const v=new Map;for(const x of t.graphemesComplete)v.set(x.id,x);return v},[t.graphemesComplete]),{wordBoundaries:h,lineBreaks:m}=y.useMemo(()=>{if(!o)return{wordBoundaries:void 0,lineBreaks:void 0};const v=[],x=[];for(let w=0;w<o.combinedSpelling.length;w++){const b=o.combinedSpelling[w];b.type==="ipa"&&b.ipaCharacter===`
`?x.push(w):b.type==="ipa"&&b.ipaCharacter===" "&&v.push(w)}return{wordBoundaries:v.length>0?v:void 0,lineBreaks:x.length>0?x:void 0}},[o]);return y.useEffect(()=>{const v=setTimeout(()=>{if(r.trim()){u(!0);const x=e.phrase.translate(r,n.punctuation);x.success&&x.data?l(x.data):(console.error("Translation failed:",x.error),l(null)),u(!1)}else l(null)},300);return()=>clearTimeout(v)},[r,e,n.punctuation]),o&&(console.group("[TranslatorHome DEBUG]"),console.log("writingSystem settings:",n.writingSystem),console.log("wordBoundaries:",h),console.log("wordTranslations count:",o.wordTranslations.length),console.log("combinedSpelling length:",o.combinedSpelling.length),console.log("combinedSpelling entries:",o.combinedSpelling.map((v,x)=>({index:x,type:v.type,ipa:v.ipaCharacter??null,graphemeName:v.grapheme?.name??null,position:v.position,isBoundary:h?.includes(x)?"<<< BOUNDARY":""}))),console.log("wordTranslations detail:",o.wordTranslations.map((v,x)=>({wordIndex:x,word:v.word,type:v.type,spellingLength:v.spellingDisplay.length,spellingEntries:v.spellingDisplay.map(w=>w.ipaCharacter??w.grapheme?.name??"?")}))),console.groupEnd()),f.jsxs("div",{className:vn.container,children:[f.jsx("h2",{className:vn.heading,children:"Phrase Translator"}),f.jsx("p",{className:vn.description,children:"Translate English phrases to your constructed language. Words found in the lexicon will use their defined spelling, while unknown words will be spelled character-by-character."}),f.jsx(NJ,{value:r,onChange:i}),c&&f.jsx("div",{className:vn.loading,children:"Translating..."}),o&&!c&&f.jsx(RJ,{translationResult:o,strategy:"block",graphemeMap:d,writingSystem:n.writingSystem,wordBoundaries:h,lineBreaks:m})]})}function jJ(){return f.jsx("div",{className:Z(pe.flexRow,pe.flexGapM,Ot.paddingM),style:{marginBottom:"1rem"},children:f.jsx(AJ,{})})}const IJ=[{path:"lexicon",toggle:"Lexicon",content:f.jsx(aH,{})},{path:"script-maker",toggle:"Script Maker",content:f.jsx(jQ,{})},{path:"writing-system",toggle:"Writing System",content:f.jsx(cJ,{})},{path:"translator",toggle:"Translator",content:f.jsx(jJ,{})}];function PJ(){const{api:e,settings:t}=hn(),n=Qn(),[r,i]=y.useState(!1),[o,l]=y.useState(!1),c=d=>{e.settings.update({conlangName:d})},u=()=>{e.database.reset(),e.settings.reset(),l(!1),n("/new")};return f.jsxs(JC,{children:[f.jsxs("div",{className:Z(Hj.primaryOutlineContainer,Ot.paddingS,Ot.parentWidth,pe.flexRow,pe.alignItemsCenter,pe.justifyContentSpaceBetween),children:[f.jsxs("div",{className:Z(pe.flexRow,pe.alignItemsCenter,pe.flexGapS),children:[f.jsx("h1",{style:{margin:0},children:t.conlangName}),f.jsx($e,{iconName:"pencil",iconSize:"0.8em",title:"Rename conlang",onClick:()=>i(!0)})]}),f.jsxs("div",{className:Z(pe.flexRow,pe.alignItemsCenter,pe.flexGapS),children:[f.jsx(F$,{}),f.jsx(wT,{}),f.jsx($e,{iconName:"plus-circle",onClick:()=>l(!0),title:"New Conlang",children:"New Conlang"})]})]}),f.jsx(Fv,{className:Z(Ot.parentSize,pe.flexGrow),basePath:"",contentContainerProps:{className:Z(K$,Ot.paddingLHeight)},sections:IJ}),f.jsxs("div",{className:Z(pe.flexRow,pe.justifyContentSpaceBetween),children:[f.jsx("span",{children:"Ethymolog: An open-source conlang lexicon and script management tool."}),f.jsx("span",{children:"By Kerbash"})]}),f.jsx(eT,{isOpen:r,setIsOpen:i,initialName:t.conlangName,onSubmit:c}),f.jsx(cr,{isOpen:o,setIsOpen:l,children:f.jsxs("div",{className:Z(U$.modalContent,pe.flexColumn,pe.flexGapM),children:[f.jsx("h2",{style:{margin:0},children:"Start New Conlang?"}),f.jsxs("p",{style:{margin:0},children:["This will permanently delete all data for ",f.jsx("strong",{children:t.conlangName})," including glyphs, graphemes, lexicon entries, and all settings."]}),f.jsxs("div",{className:Z(pe.flexRow,pe.justifyContentEnd,pe.flexGapS),children:[f.jsx(gt,{className:ht.secondary,onClick:()=>l(!1),children:"Cancel"}),f.jsx(gt,{className:ht.primary,onClick:u,children:"Delete and Start New"})]})]})})]})}function LJ(){return f.jsx(J4,{children:f.jsx(wj,{children:f.jsxs(Pu,{children:[f.jsx(An,{path:"/new",element:f.jsx($$,{})}),f.jsx(An,{path:"/*",element:f.jsx(B$,{children:f.jsx(PJ,{})})})]})})})}const OJ="/",v1=sessionStorage.getItem("redirectPath");v1&&(sessionStorage.removeItem("redirectPath"),history.replaceState(null,"",v1));Lk.createRoot(document.getElementById("root")).render(f.jsx(y.StrictMode,{children:f.jsx(P2,{basename:OJ,children:f.jsx(LJ,{})})}));
